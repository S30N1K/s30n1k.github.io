var index=function(t){function e(i){if(n[i])return n[i].exports;var o=n[i]={i:i,l:!1,exports:{}};return t[i].call(o.exports,o,o.exports,e),o.l=!0,o.exports}var n={};return e.m=t,e.c=n,e.d=function(t,n,i){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:i})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=6)}([function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(7),o=new i,r=o.game,s=o.camera,a=o.vector,u=a.point,c=o.OOP,h=o.brush,l=o.system,f=a.size,d=o.math,p=d.random,g=o.colors,y=o.layers;l.setStyle({zIndex:1});var m=o.mouseControl.initMouseControl(),v=o.keyControl.initKeyControl();l.setSettings({isStopForError:!0}),l.initFullPage(),l.consoleLog(!0),l.initFPSCheck(),c.isObject=function(t,e){return t.x>=e.x&&t.x+t.w<=e.x+e.w&&t.y>=e.y&&t.y+t.h<=e.y+e.h},c.copyArray=function(t){return JSON.parse(JSON.stringify(t))},c.isSelect=function(t,e){return t.x+t.w>e.x&&t.x<e.x+e.w&&t.y+t.h>e.y&&t.y<e.y+e.h},c.parse=function(t){var e=new XMLHttpRequest;return e.open("GET",t,!1),e.send(),e.responseText},c.getUniqueKey=function(t){var e=["abcdefghijklmnopqrstuvwxyz","ABCDEFGHIJKLMNOPQRSTUVWXYZ","0123456789"],n="";return c.forInt(t,function(t){var i=e[p(0,e.length-1)];n+=i[p(0,i.length-1)]}),n};var x={processing:[],loaded:[],addObject:function(t,e,n){this.processing.push({type:t,name:e,source:n})},getObject:function(t){return this.loaded[t]},getProgress:function(){return o.resources.getProgress()},isLoaded:function(){return o.resources.isLoaded()}};m._cursor="default",m._set="default",m.cursor=function(t){m._set=t},m.isObject=function(t){return m.position.x>t.x&&m.position.x<t.x+t.w&&m.position.y>t.y&&m.position.y<t.y+t.h},c.extend=function(t,e){return c.forEach(t,function(t,n){e[n]=t}),e},c.inArray=function(t,e,n){for(var i=0,o=t.length;i<o;i++)if(t[i]===e)return!n||e;return n||!1},r._onResize=[],r.onResize=function(t){this._onResize.push(t)},r.size=u(0,0),s.position=u(0,0);var w=new function(){var t=300,e=60,n={fps:{text:"FPS",color:"#00FFFF"},ms:{text:"MS",color:"#0f0"}};c.forEach(n,function(e){e.current=0,e.min=0,e.max=0,e.list=[],c.forInt(t,function(t){e.list[t]=0})});var i=[],o=c.newTimer(500,function(t){i.push(0)}),a=Object.keys(n).length;return{x:0,y:0,_beginTime:0,begin:function(){this._begin=(performance||Date).now()},end:function(){var t=(performance||Date).now();n.ms.current=t-this._begin,n.fps.current=l.getFPS(),this._begin=t},draw:function(){var u=s.getPosition(),l=u.x-5+r.getWH().w-t,f=u.y+5,d=l-u.x,p=f-u.y;o.restart(),h.drawRect({x:l,y:f,w:t,h:65.5+16*a,fillColor:g.hex2rgba("#171717",.5),strokeWidth:1}),h.drawLineAS({x1:d,x2:d+t,y1:p+e+2,y2:p+e+2,strokeColor:"#000000",strokeWidth:.4}),c.forArr(i,function(n,o){i[o]++,n>=t?c.delObject(i,i[o]):h.drawLineAS({x1:d+t+-1*n,y1:p,x2:d+t+-1*n,y2:p+e,strokeColor:"#000000",strokeWidth:.1})}),c.forInt(2.4,function(e){h.drawLineAS({strokeWidth:.1,strokeColor:"#000000",x1:d,y1:p+25*e,x2:d+t,y2:p+25*e})});var y=0;c.forEach(n,function(n){n.list[299]=n.current,n.min=Math.min.apply(null,n.list),n.max=Math.max.apply(null,n.list),h.drawText({x:l+5,y:f+e+5.5+16*y++,text:n.text+": "+parseInt(n.current)+" ("+n.min.toFixed(2)+" - "+n.max.toFixed(2)+")",color:n.color,size:11,style:"bold"}),c.forInt(t,function(t){if(n.list.length!==t+1){var i=Math.round((1-n.list[t]/n.max)*e),o=Math.round((1-n.list[t+1]/n.max)*e);h.drawLineAS({x1:d+t,y1:p+i,x2:d+t+1,y2:p+o,strokeColor:n.color,strokeWidth:.5}),n.list[t]=n.list[t+1]}})})}}};r.newLoop=function(t,e){r.newLoopFromClassObject(t,new function(){this.entry=function(){e.entry&&e.entry()},this.update=function(){r.time=r.getTime();var t=r.getWH();m.position=m.getPosition(),s.position=s.getPosition(),r.size.h===t.h&&r.size.w===t.w||c.forArr(r._onResize,function(e){return e(t,r.size)}),r.size=t,m.cursor("default"),w.begin(),e.update&&e.update(),w.end(),m._cursor,m._set,w.draw()},this.exit=function(){e.exit&&e.exit()}})},e.pjs=o,e.game=r,e.camera=s,e.vector=a,e.point=u,e.OOP=c,e.brush=h,e.sys=l,e.size=f,e.math=d,e.random=p,e.colors=g,e.layers=y,e.mouse=m,e.key=v,e.resources=x},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.logo=void 0;var i=n(0),o=n(4),r=n(2),s={step:0,speedY:0,flash:1,timer:10,logo:i.game.newTextObject({x:100,y:100,color:"#c0c0c0",alpha:0,text:"CynicMansion"}),rect:i.game.newRoundRectObject({strokeColor:i.colors.hex2rgba("#000000",.6),strokeWidth:3,fillColor:i.colors.hex2rgba("#000000",.6),x:0,y:0,w:0,h:0,radius:10}),draw:function(){var t=i.game.getWH();switch(this.step){case 0:this.logo.setShadow({shadowColor:"#7698cc",shadowBlur:31,shadowX:0,shadowY:0}),this.step++;break;case 1:this.logo.alpha<1?(this.logo.scaleC(1.01),this.logo.transparent(.005)):this.step++;var e=(0,i.size)(i.OOP.getTextWidth(this.logo),this.logo.size);this.logo.setPosition((0,i.point)((t.w-e.w)/2,(t.h-e.h)/2));break;case 2:this.logo.y-=this.speedY++,this.logo.y<30&&(this.logo.y=30,this.step++);break;case 3:o.progress.isLoaded&&this.step++;break;case 4:break;case 5:this.logo.transparent(-.05),0===this.logo.alpha&&(this.logo.y=-this.logo.size,this.step++);break;case 6:this.timer--,this.timer<=0&&this.step++;break;case 7:this.logo.transparent(1),this.flash-=.1,this.flash<=0&&this.step++;break;case 8:this.speedY=0,this.rect.setSize((0,i.size)(this.logo.w+50,this.logo.h+50)),this.rect.setPosition((0,i.point)((t.w-this.rect.w)/2,-this.rect.h)),this.step++;break;case 9:this.rect.y+=this.speedY++,this.rect.y>50&&(this.rect.y=30,this.logo.setPositionC(this.rect.getPositionC()),this.logo.alpha=0,this.step++,r.events.emit("logoLoaded"));break;case 10:this.logo.transparent(.05)}if(this.step>5){var n=i.resources.getObject("background-"+parseInt(i.game.time/30%30));n.setSize(i.game.getWH()),n.draw()}this.rect.draw(),this.logo.draw(),this.logo.x=(t.w-this.logo.w)/2,this.step>7&&(this.rect.x=(t.w-this.rect.w)/2),5!==this.step&&6!==this.step||i.brush.drawRect({x:0,y:0,w:t.w,h:t.h,fillColor:i.colors.hex2rgba("#ffffff",this.flash)})}};r.events.on("client.connection",function(){return s.step++}),e.logo=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.events=void 0;var i=n(0),o={list:[],on:function(t,e){this.list.push({eventName:t,cb:e})},emit:function(t,e){i.OOP.forArr(this.list.filter(function(e){return e.eventName===t}),function(t){return t.cb(e)})}};e.events=o},function(t,e,n){var i,o;/*!
 * jQuery JavaScript Library v3.2.1
 * https://jquery.com/
 *
 * Includes Sizzle.js
 * https://sizzlejs.com/
 *
 * Copyright JS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2017-03-20T18:59Z
 */
!function(e,n){"use strict";"object"==typeof t&&"object"==typeof t.exports?t.exports=e.document?n(e,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return n(t)}:n(e)}("undefined"!=typeof window?window:this,function(n,r){"use strict";function s(t,e){e=e||st;var n=e.createElement("script");n.text=t,e.head.appendChild(n).parentNode.removeChild(n)}function a(t){var e=!!t&&"length"in t&&t.length,n=vt.type(t);return"function"!==n&&!vt.isWindow(t)&&("array"===n||0===e||"number"==typeof e&&e>0&&e-1 in t)}function u(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()}function c(t,e,n){return vt.isFunction(e)?vt.grep(t,function(t,i){return!!e.call(t,i,t)!==n}):e.nodeType?vt.grep(t,function(t){return t===e!==n}):"string"!=typeof e?vt.grep(t,function(t){return lt.call(e,t)>-1!==n}):Et.test(e)?vt.filter(e,t,n):(e=vt.filter(e,t),vt.grep(t,function(t){return lt.call(e,t)>-1!==n&&1===t.nodeType}))}function h(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}function l(t){var e={};return vt.each(t.match(It)||[],function(t,n){e[n]=!0}),e}function f(t){return t}function d(t){throw t}function p(t,e,n,i){var o;try{t&&vt.isFunction(o=t.promise)?o.call(t).done(e).fail(n):t&&vt.isFunction(o=t.then)?o.call(t,e,n):e.apply(void 0,[t].slice(i))}catch(t){n.apply(void 0,[t])}}function g(){st.removeEventListener("DOMContentLoaded",g),n.removeEventListener("load",g),vt.ready()}function y(){this.expando=vt.expando+y.uid++}function m(t){return"true"===t||"false"!==t&&("null"===t?null:t===+t+""?+t:qt.test(t)?JSON.parse(t):t)}function v(t,e,n){var i;if(void 0===n&&1===t.nodeType)if(i="data-"+e.replace(Ht,"-$&").toLowerCase(),"string"==typeof(n=t.getAttribute(i))){try{n=m(n)}catch(t){}Wt.set(t,e,n)}else n=void 0;return n}function x(t,e,n,i){var o,r=1,s=20,a=i?function(){return i.cur()}:function(){return vt.css(t,e,"")},u=a(),c=n&&n[3]||(vt.cssNumber[e]?"":"px"),h=(vt.cssNumber[e]||"px"!==c&&+u)&&Jt.exec(vt.css(t,e));if(h&&h[3]!==c){c=c||h[3],n=n||[],h=+u||1;do{r=r||".5",h/=r,vt.style(t,e,h+c)}while(r!==(r=a()/u)&&1!==r&&--s)}return n&&(h=+h||+u||0,o=n[1]?h+(n[1]+1)*n[2]:+n[2],i&&(i.unit=c,i.start=h,i.end=o)),o}function w(t){var e,n=t.ownerDocument,i=t.nodeName,o=$t[i];return o||(e=n.body.appendChild(n.createElement(i)),o=vt.css(e,"display"),e.parentNode.removeChild(e),"none"===o&&(o="block"),$t[i]=o,o)}function b(t,e){for(var n,i,o=[],r=0,s=t.length;r<s;r++)i=t[r],i.style&&(n=i.style.display,e?("none"===n&&(o[r]=zt.get(i,"display")||null,o[r]||(i.style.display="")),""===i.style.display&&Ut(i)&&(o[r]=w(i))):"none"!==n&&(o[r]="none",zt.set(i,"display",n)));for(r=0;r<s;r++)null!=o[r]&&(t[r].style.display=o[r]);return t}function C(t,e){var n;return n=void 0!==t.getElementsByTagName?t.getElementsByTagName(e||"*"):void 0!==t.querySelectorAll?t.querySelectorAll(e||"*"):[],void 0===e||e&&u(t,e)?vt.merge([t],n):n}function S(t,e){for(var n=0,i=t.length;n<i;n++)zt.set(t[n],"globalEval",!e||zt.get(e[n],"globalEval"))}function P(t,e,n,i,o){for(var r,s,a,u,c,h,l=e.createDocumentFragment(),f=[],d=0,p=t.length;d<p;d++)if((r=t[d])||0===r)if("object"===vt.type(r))vt.merge(f,r.nodeType?[r]:r);else if(Qt.test(r)){for(s=s||l.appendChild(e.createElement("div")),a=(Yt.exec(r)||["",""])[1].toLowerCase(),u=Kt[a]||Kt._default,s.innerHTML=u[1]+vt.htmlPrefilter(r)+u[2],h=u[0];h--;)s=s.lastChild;vt.merge(f,s.childNodes),s=l.firstChild,s.textContent=""}else f.push(e.createTextNode(r));for(l.textContent="",d=0;r=f[d++];)if(i&&vt.inArray(r,i)>-1)o&&o.push(r);else if(c=vt.contains(r.ownerDocument,r),s=C(l.appendChild(r),"script"),c&&S(s),n)for(h=0;r=s[h++];)Vt.test(r.type||"")&&n.push(r);return l}function k(){return!0}function T(){return!1}function O(){try{return st.activeElement}catch(t){}}function E(t,e,n,i,o,r){var s,a;if("object"==typeof e){"string"!=typeof n&&(i=i||n,n=void 0);for(a in e)E(t,a,n,i,e[a],r);return t}if(null==i&&null==o?(o=n,i=n=void 0):null==o&&("string"==typeof n?(o=i,i=void 0):(o=i,i=n,n=void 0)),!1===o)o=T;else if(!o)return t;return 1===r&&(s=o,o=function(t){return vt().off(t),s.apply(this,arguments)},o.guid=s.guid||(s.guid=vt.guid++)),t.each(function(){vt.event.add(this,e,o,i,n)})}function A(t,e){return u(t,"table")&&u(11!==e.nodeType?e:e.firstChild,"tr")?vt(">tbody",t)[0]||t:t}function j(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function L(t){var e=se.exec(t.type);return e?t.type=e[1]:t.removeAttribute("type"),t}function D(t,e){var n,i,o,r,s,a,u,c;if(1===e.nodeType){if(zt.hasData(t)&&(r=zt.access(t),s=zt.set(e,r),c=r.events)){delete s.handle,s.events={};for(o in c)for(n=0,i=c[o].length;n<i;n++)vt.event.add(e,o,c[o][n])}Wt.hasData(t)&&(a=Wt.access(t),u=vt.extend({},a),Wt.set(e,u))}}function I(t,e){var n=e.nodeName.toLowerCase();"input"===n&&Gt.test(t.type)?e.checked=t.checked:"input"!==n&&"textarea"!==n||(e.defaultValue=t.defaultValue)}function F(t,e,n,i){e=ct.apply([],e);var o,r,a,u,c,h,l=0,f=t.length,d=f-1,p=e[0],g=vt.isFunction(p);if(g||f>1&&"string"==typeof p&&!mt.checkClone&&re.test(p))return t.each(function(o){var r=t.eq(o);g&&(e[0]=p.call(this,o,r.html())),F(r,e,n,i)});if(f&&(o=P(e,t[0].ownerDocument,!1,t,i),r=o.firstChild,1===o.childNodes.length&&(o=r),r||i)){for(a=vt.map(C(o,"script"),j),u=a.length;l<f;l++)c=o,l!==d&&(c=vt.clone(c,!0,!0),u&&vt.merge(a,C(c,"script"))),n.call(t[l],c,l);if(u)for(h=a[a.length-1].ownerDocument,vt.map(a,L),l=0;l<u;l++)c=a[l],Vt.test(c.type||"")&&!zt.access(c,"globalEval")&&vt.contains(h,c)&&(c.src?vt._evalUrl&&vt._evalUrl(c.src):s(c.textContent.replace(ae,""),h))}return t}function M(t,e,n){for(var i,o=e?vt.filter(e,t):t,r=0;null!=(i=o[r]);r++)n||1!==i.nodeType||vt.cleanData(C(i)),i.parentNode&&(n&&vt.contains(i.ownerDocument,i)&&S(C(i,"script")),i.parentNode.removeChild(i));return t}function N(t,e,n){var i,o,r,s,a=t.style;return n=n||he(t),n&&(s=n.getPropertyValue(e)||n[e],""!==s||vt.contains(t.ownerDocument,t)||(s=vt.style(t,e)),!mt.pixelMarginRight()&&ce.test(s)&&ue.test(e)&&(i=a.width,o=a.minWidth,r=a.maxWidth,a.minWidth=a.maxWidth=a.width=s,s=n.width,a.width=i,a.minWidth=o,a.maxWidth=r)),void 0!==s?s+"":s}function R(t,e){return{get:function(){return t()?void delete this.get:(this.get=e).apply(this,arguments)}}}function z(t){if(t in ye)return t;for(var e=t[0].toUpperCase()+t.slice(1),n=ge.length;n--;)if((t=ge[n]+e)in ye)return t}function W(t){var e=vt.cssProps[t];return e||(e=vt.cssProps[t]=z(t)||t),e}function q(t,e,n){var i=Jt.exec(e);return i?Math.max(0,i[2]-(n||0))+(i[3]||"px"):e}function H(t,e,n,i,o){var r,s=0;for(r=n===(i?"border":"content")?4:"width"===e?1:0;r<4;r+=2)"margin"===n&&(s+=vt.css(t,n+_t[r],!0,o)),i?("content"===n&&(s-=vt.css(t,"padding"+_t[r],!0,o)),"margin"!==n&&(s-=vt.css(t,"border"+_t[r]+"Width",!0,o))):(s+=vt.css(t,"padding"+_t[r],!0,o),"padding"!==n&&(s+=vt.css(t,"border"+_t[r]+"Width",!0,o)));return s}function B(t,e,n){var i,o=he(t),r=N(t,e,o),s="border-box"===vt.css(t,"boxSizing",!1,o);return ce.test(r)?r:(i=s&&(mt.boxSizingReliable()||r===t.style[e]),"auto"===r&&(r=t["offset"+e[0].toUpperCase()+e.slice(1)]),(r=parseFloat(r)||0)+H(t,e,n||(s?"border":"content"),i,o)+"px")}function J(t,e,n,i,o){return new J.prototype.init(t,e,n,i,o)}function _(){ve&&(!1===st.hidden&&n.requestAnimationFrame?n.requestAnimationFrame(_):n.setTimeout(_,vt.fx.interval),vt.fx.tick())}function U(){return n.setTimeout(function(){me=void 0}),me=vt.now()}function X(t,e){var n,i=0,o={height:t};for(e=e?1:0;i<4;i+=2-e)n=_t[i],o["margin"+n]=o["padding"+n]=t;return e&&(o.opacity=o.width=t),o}function $(t,e,n){for(var i,o=(V.tweeners[e]||[]).concat(V.tweeners["*"]),r=0,s=o.length;r<s;r++)if(i=o[r].call(n,e,t))return i}function G(t,e,n){var i,o,r,s,a,u,c,h,l="width"in e||"height"in e,f=this,d={},p=t.style,g=t.nodeType&&Ut(t),y=zt.get(t,"fxshow");n.queue||(s=vt._queueHooks(t,"fx"),null==s.unqueued&&(s.unqueued=0,a=s.empty.fire,s.empty.fire=function(){s.unqueued||a()}),s.unqueued++,f.always(function(){f.always(function(){s.unqueued--,vt.queue(t,"fx").length||s.empty.fire()})}));for(i in e)if(o=e[i],xe.test(o)){if(delete e[i],r=r||"toggle"===o,o===(g?"hide":"show")){if("show"!==o||!y||void 0===y[i])continue;g=!0}d[i]=y&&y[i]||vt.style(t,i)}if((u=!vt.isEmptyObject(e))||!vt.isEmptyObject(d)){l&&1===t.nodeType&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],c=y&&y.display,null==c&&(c=zt.get(t,"display")),h=vt.css(t,"display"),"none"===h&&(c?h=c:(b([t],!0),c=t.style.display||c,h=vt.css(t,"display"),b([t]))),("inline"===h||"inline-block"===h&&null!=c)&&"none"===vt.css(t,"float")&&(u||(f.done(function(){p.display=c}),null==c&&(h=p.display,c="none"===h?"":h)),p.display="inline-block")),n.overflow&&(p.overflow="hidden",f.always(function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]})),u=!1;for(i in d)u||(y?"hidden"in y&&(g=y.hidden):y=zt.access(t,"fxshow",{display:c}),r&&(y.hidden=!g),g&&b([t],!0),f.done(function(){g||b([t]),zt.remove(t,"fxshow");for(i in d)vt.style(t,i,d[i])})),u=$(g?y[i]:0,i,f),i in y||(y[i]=u.start,g&&(u.end=u.start,u.start=0))}}function Y(t,e){var n,i,o,r,s;for(n in t)if(i=vt.camelCase(n),o=e[i],r=t[n],Array.isArray(r)&&(o=r[1],r=t[n]=r[0]),n!==i&&(t[i]=r,delete t[n]),(s=vt.cssHooks[i])&&"expand"in s){r=s.expand(r),delete t[i];for(n in r)n in t||(t[n]=r[n],e[n]=o)}else e[i]=o}function V(t,e,n){var i,o,r=0,s=V.prefilters.length,a=vt.Deferred().always(function(){delete u.elem}),u=function(){if(o)return!1;for(var e=me||U(),n=Math.max(0,c.startTime+c.duration-e),i=n/c.duration||0,r=1-i,s=0,u=c.tweens.length;s<u;s++)c.tweens[s].run(r);return a.notifyWith(t,[c,r,n]),r<1&&u?n:(u||a.notifyWith(t,[c,1,0]),a.resolveWith(t,[c]),!1)},c=a.promise({elem:t,props:vt.extend({},e),opts:vt.extend(!0,{specialEasing:{},easing:vt.easing._default},n),originalProperties:e,originalOptions:n,startTime:me||U(),duration:n.duration,tweens:[],createTween:function(e,n){var i=vt.Tween(t,c.opts,e,n,c.opts.specialEasing[e]||c.opts.easing);return c.tweens.push(i),i},stop:function(e){var n=0,i=e?c.tweens.length:0;if(o)return this;for(o=!0;n<i;n++)c.tweens[n].run(1);return e?(a.notifyWith(t,[c,1,0]),a.resolveWith(t,[c,e])):a.rejectWith(t,[c,e]),this}}),h=c.props;for(Y(h,c.opts.specialEasing);r<s;r++)if(i=V.prefilters[r].call(c,t,h,c.opts))return vt.isFunction(i.stop)&&(vt._queueHooks(c.elem,c.opts.queue).stop=vt.proxy(i.stop,i)),i;return vt.map(h,$,c),vt.isFunction(c.opts.start)&&c.opts.start.call(t,c),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always),vt.fx.timer(vt.extend(u,{elem:t,anim:c,queue:c.opts.queue})),c}function K(t){return(t.match(It)||[]).join(" ")}function Q(t){return t.getAttribute&&t.getAttribute("class")||""}function Z(t,e,n,i){var o;if(Array.isArray(e))vt.each(e,function(e,o){n||je.test(t)?i(t,o):Z(t+"["+("object"==typeof o&&null!=o?e:"")+"]",o,n,i)});else if(n||"object"!==vt.type(e))i(t,e);else for(o in e)Z(t+"["+o+"]",e[o],n,i)}function tt(t){return function(e,n){"string"!=typeof e&&(n=e,e="*");var i,o=0,r=e.toLowerCase().match(It)||[];if(vt.isFunction(n))for(;i=r[o++];)"+"===i[0]?(i=i.slice(1)||"*",(t[i]=t[i]||[]).unshift(n)):(t[i]=t[i]||[]).push(n)}}function et(t,e,n,i){function o(a){var u;return r[a]=!0,vt.each(t[a]||[],function(t,a){var c=a(e,n,i);return"string"!=typeof c||s||r[c]?s?!(u=c):void 0:(e.dataTypes.unshift(c),o(c),!1)}),u}var r={},s=t===Be;return o(e.dataTypes[0])||!r["*"]&&o("*")}function nt(t,e){var n,i,o=vt.ajaxSettings.flatOptions||{};for(n in e)void 0!==e[n]&&((o[n]?t:i||(i={}))[n]=e[n]);return i&&vt.extend(!0,t,i),t}function it(t,e,n){for(var i,o,r,s,a=t.contents,u=t.dataTypes;"*"===u[0];)u.shift(),void 0===i&&(i=t.mimeType||e.getResponseHeader("Content-Type"));if(i)for(o in a)if(a[o]&&a[o].test(i)){u.unshift(o);break}if(u[0]in n)r=u[0];else{for(o in n){if(!u[0]||t.converters[o+" "+u[0]]){r=o;break}s||(s=o)}r=r||s}if(r)return r!==u[0]&&u.unshift(r),n[r]}function ot(t,e,n,i){var o,r,s,a,u,c={},h=t.dataTypes.slice();if(h[1])for(s in t.converters)c[s.toLowerCase()]=t.converters[s];for(r=h.shift();r;)if(t.responseFields[r]&&(n[t.responseFields[r]]=e),!u&&i&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),u=r,r=h.shift())if("*"===r)r=u;else if("*"!==u&&u!==r){if(!(s=c[u+" "+r]||c["* "+r]))for(o in c)if(a=o.split(" "),a[1]===r&&(s=c[u+" "+a[0]]||c["* "+a[0]])){!0===s?s=c[o]:!0!==c[o]&&(r=a[0],h.unshift(a[1]));break}if(!0!==s)if(s&&t.throws)e=s(e);else try{e=s(e)}catch(t){return{state:"parsererror",error:s?t:"No conversion from "+u+" to "+r}}}return{state:"success",data:e}}var rt=[],st=n.document,at=Object.getPrototypeOf,ut=rt.slice,ct=rt.concat,ht=rt.push,lt=rt.indexOf,ft={},dt=ft.toString,pt=ft.hasOwnProperty,gt=pt.toString,yt=gt.call(Object),mt={},vt=function(t,e){return new vt.fn.init(t,e)},xt=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,wt=/^-ms-/,bt=/-([a-z])/g,Ct=function(t,e){return e.toUpperCase()};vt.fn=vt.prototype={jquery:"3.2.1",constructor:vt,length:0,toArray:function(){return ut.call(this)},get:function(t){return null==t?ut.call(this):t<0?this[t+this.length]:this[t]},pushStack:function(t){var e=vt.merge(this.constructor(),t);return e.prevObject=this,e},each:function(t){return vt.each(this,t)},map:function(t){return this.pushStack(vt.map(this,function(e,n){return t.call(e,n,e)}))},slice:function(){return this.pushStack(ut.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,n=+t+(t<0?e:0);return this.pushStack(n>=0&&n<e?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:ht,sort:rt.sort,splice:rt.splice},vt.extend=vt.fn.extend=function(){var t,e,n,i,o,r,s=arguments[0]||{},a=1,u=arguments.length,c=!1;for("boolean"==typeof s&&(c=s,s=arguments[a]||{},a++),"object"==typeof s||vt.isFunction(s)||(s={}),a===u&&(s=this,a--);a<u;a++)if(null!=(t=arguments[a]))for(e in t)n=s[e],i=t[e],s!==i&&(c&&i&&(vt.isPlainObject(i)||(o=Array.isArray(i)))?(o?(o=!1,r=n&&Array.isArray(n)?n:[]):r=n&&vt.isPlainObject(n)?n:{},s[e]=vt.extend(c,r,i)):void 0!==i&&(s[e]=i));return s},vt.extend({expando:"jQuery"+("3.2.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isFunction:function(t){return"function"===vt.type(t)},isWindow:function(t){return null!=t&&t===t.window},isNumeric:function(t){var e=vt.type(t);return("number"===e||"string"===e)&&!isNaN(t-parseFloat(t))},isPlainObject:function(t){var e,n;return!(!t||"[object Object]"!==dt.call(t))&&(!(e=at(t))||"function"==typeof(n=pt.call(e,"constructor")&&e.constructor)&&gt.call(n)===yt)},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},type:function(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?ft[dt.call(t)]||"object":typeof t},globalEval:function(t){s(t)},camelCase:function(t){return t.replace(wt,"ms-").replace(bt,Ct)},each:function(t,e){var n,i=0;if(a(t))for(n=t.length;i<n&&!1!==e.call(t[i],i,t[i]);i++);else for(i in t)if(!1===e.call(t[i],i,t[i]))break;return t},trim:function(t){return null==t?"":(t+"").replace(xt,"")},makeArray:function(t,e){var n=e||[];return null!=t&&(a(Object(t))?vt.merge(n,"string"==typeof t?[t]:t):ht.call(n,t)),n},inArray:function(t,e,n){return null==e?-1:lt.call(e,t,n)},merge:function(t,e){for(var n=+e.length,i=0,o=t.length;i<n;i++)t[o++]=e[i];return t.length=o,t},grep:function(t,e,n){for(var i=[],o=0,r=t.length,s=!n;o<r;o++)!e(t[o],o)!==s&&i.push(t[o]);return i},map:function(t,e,n){var i,o,r=0,s=[];if(a(t))for(i=t.length;r<i;r++)null!=(o=e(t[r],r,n))&&s.push(o);else for(r in t)null!=(o=e(t[r],r,n))&&s.push(o);return ct.apply([],s)},guid:1,proxy:function(t,e){var n,i,o;if("string"==typeof e&&(n=t[e],e=t,t=n),vt.isFunction(t))return i=ut.call(arguments,2),o=function(){return t.apply(e||this,i.concat(ut.call(arguments)))},o.guid=t.guid=t.guid||vt.guid++,o},now:Date.now,support:mt}),"function"==typeof Symbol&&(vt.fn[Symbol.iterator]=rt[Symbol.iterator]),vt.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(t,e){ft["[object "+e+"]"]=e.toLowerCase()});var St=/*!
 * Sizzle CSS Selector Engine v2.3.3
 * https://sizzlejs.com/
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2016-08-08
 */
function(t){function e(t,e,n,i){var o,r,s,a,u,h,f,d=e&&e.ownerDocument,p=e?e.nodeType:9;if(n=n||[],"string"!=typeof t||!t||1!==p&&9!==p&&11!==p)return n;if(!i&&((e?e.ownerDocument||e:W)!==L&&j(e),e=e||L,I)){if(11!==p&&(u=gt.exec(t)))if(o=u[1]){if(9===p){if(!(s=e.getElementById(o)))return n;if(s.id===o)return n.push(s),n}else if(d&&(s=d.getElementById(o))&&R(e,s)&&s.id===o)return n.push(s),n}else{if(u[2])return V.apply(n,e.getElementsByTagName(t)),n;if((o=u[3])&&w.getElementsByClassName&&e.getElementsByClassName)return V.apply(n,e.getElementsByClassName(o)),n}if(w.qsa&&!_[t+" "]&&(!F||!F.test(t))){if(1!==p)d=e,f=t;else if("object"!==e.nodeName.toLowerCase()){for((a=e.getAttribute("id"))?a=a.replace(xt,wt):e.setAttribute("id",a=z),h=P(t),r=h.length;r--;)h[r]="#"+a+" "+l(h[r]);f=h.join(","),d=yt.test(t)&&c(e.parentNode)||e}if(f)try{return V.apply(n,d.querySelectorAll(f)),n}catch(t){}finally{a===z&&e.removeAttribute("id")}}}return T(t.replace(rt,"$1"),e,n,i)}function n(){function t(n,i){return e.push(n+" ")>b.cacheLength&&delete t[e.shift()],t[n+" "]=i}var e=[];return t}function i(t){return t[z]=!0,t}function o(t){var e=L.createElement("fieldset");try{return!!t(e)}catch(t){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function r(t,e){for(var n=t.split("|"),i=n.length;i--;)b.attrHandle[n[i]]=e}function s(t,e){var n=e&&t,i=n&&1===t.nodeType&&1===e.nodeType&&t.sourceIndex-e.sourceIndex;if(i)return i;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function a(t){return function(e){return"form"in e?e.parentNode&&!1===e.disabled?"label"in e?"label"in e.parentNode?e.parentNode.disabled===t:e.disabled===t:e.isDisabled===t||e.isDisabled!==!t&&Ct(e)===t:e.disabled===t:"label"in e&&e.disabled===t}}function u(t){return i(function(e){return e=+e,i(function(n,i){for(var o,r=t([],n.length,e),s=r.length;s--;)n[o=r[s]]&&(n[o]=!(i[o]=n[o]))})})}function c(t){return t&&void 0!==t.getElementsByTagName&&t}function h(){}function l(t){for(var e=0,n=t.length,i="";e<n;e++)i+=t[e].value;return i}function f(t,e,n){var i=e.dir,o=e.next,r=o||i,s=n&&"parentNode"===r,a=H++;return e.first?function(e,n,o){for(;e=e[i];)if(1===e.nodeType||s)return t(e,n,o);return!1}:function(e,n,u){var c,h,l,f=[q,a];if(u){for(;e=e[i];)if((1===e.nodeType||s)&&t(e,n,u))return!0}else for(;e=e[i];)if(1===e.nodeType||s)if(l=e[z]||(e[z]={}),h=l[e.uniqueID]||(l[e.uniqueID]={}),o&&o===e.nodeName.toLowerCase())e=e[i]||e;else{if((c=h[r])&&c[0]===q&&c[1]===a)return f[2]=c[2];if(h[r]=f,f[2]=t(e,n,u))return!0}return!1}}function d(t){return t.length>1?function(e,n,i){for(var o=t.length;o--;)if(!t[o](e,n,i))return!1;return!0}:t[0]}function p(t,n,i){for(var o=0,r=n.length;o<r;o++)e(t,n[o],i);return i}function g(t,e,n,i,o){for(var r,s=[],a=0,u=t.length,c=null!=e;a<u;a++)(r=t[a])&&(n&&!n(r,i,o)||(s.push(r),c&&e.push(a)));return s}function y(t,e,n,o,r,s){return o&&!o[z]&&(o=y(o)),r&&!r[z]&&(r=y(r,s)),i(function(i,s,a,u){var c,h,l,f=[],d=[],y=s.length,m=i||p(e||"*",a.nodeType?[a]:a,[]),v=!t||!i&&e?m:g(m,f,t,a,u),x=n?r||(i?t:y||o)?[]:s:v;if(n&&n(v,x,a,u),o)for(c=g(x,d),o(c,[],a,u),h=c.length;h--;)(l=c[h])&&(x[d[h]]=!(v[d[h]]=l));if(i){if(r||t){if(r){for(c=[],h=x.length;h--;)(l=x[h])&&c.push(v[h]=l);r(null,x=[],c,u)}for(h=x.length;h--;)(l=x[h])&&(c=r?Q(i,l):f[h])>-1&&(i[c]=!(s[c]=l))}}else x=g(x===s?x.splice(y,x.length):x),r?r(null,s,x,u):V.apply(s,x)})}function m(t){for(var e,n,i,o=t.length,r=b.relative[t[0].type],s=r||b.relative[" "],a=r?1:0,u=f(function(t){return t===e},s,!0),c=f(function(t){return Q(e,t)>-1},s,!0),h=[function(t,n,i){var o=!r&&(i||n!==O)||((e=n).nodeType?u(t,n,i):c(t,n,i));return e=null,o}];a<o;a++)if(n=b.relative[t[a].type])h=[f(d(h),n)];else{if(n=b.filter[t[a].type].apply(null,t[a].matches),n[z]){for(i=++a;i<o&&!b.relative[t[i].type];i++);return y(a>1&&d(h),a>1&&l(t.slice(0,a-1).concat({value:" "===t[a-2].type?"*":""})).replace(rt,"$1"),n,a<i&&m(t.slice(a,i)),i<o&&m(t=t.slice(i)),i<o&&l(t))}h.push(n)}return d(h)}function v(t,n){var o=n.length>0,r=t.length>0,s=function(i,s,a,u,c){var h,l,f,d=0,p="0",y=i&&[],m=[],v=O,x=i||r&&b.find.TAG("*",c),w=q+=null==v?1:Math.random()||.1,C=x.length;for(c&&(O=s===L||s||c);p!==C&&null!=(h=x[p]);p++){if(r&&h){for(l=0,s||h.ownerDocument===L||(j(h),a=!I);f=t[l++];)if(f(h,s||L,a)){u.push(h);break}c&&(q=w)}o&&((h=!f&&h)&&d--,i&&y.push(h))}if(d+=p,o&&p!==d){for(l=0;f=n[l++];)f(y,m,s,a);if(i){if(d>0)for(;p--;)y[p]||m[p]||(m[p]=G.call(u));m=g(m)}V.apply(u,m),c&&!i&&m.length>0&&d+n.length>1&&e.uniqueSort(u)}return c&&(q=w,O=v),y};return o?i(s):s}var x,w,b,C,S,P,k,T,O,E,A,j,L,D,I,F,M,N,R,z="sizzle"+1*new Date,W=t.document,q=0,H=0,B=n(),J=n(),_=n(),U=function(t,e){return t===e&&(A=!0),0},X={}.hasOwnProperty,$=[],G=$.pop,Y=$.push,V=$.push,K=$.slice,Q=function(t,e){for(var n=0,i=t.length;n<i;n++)if(t[n]===e)return n;return-1},Z="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",tt="[\\x20\\t\\r\\n\\f]",et="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",nt="\\["+tt+"*("+et+")(?:"+tt+"*([*^$|!~]?=)"+tt+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+et+"))|)"+tt+"*\\]",it=":("+et+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+nt+")*)|.*)\\)|)",ot=new RegExp(tt+"+","g"),rt=new RegExp("^"+tt+"+|((?:^|[^\\\\])(?:\\\\.)*)"+tt+"+$","g"),st=new RegExp("^"+tt+"*,"+tt+"*"),at=new RegExp("^"+tt+"*([>+~]|"+tt+")"+tt+"*"),ut=new RegExp("="+tt+"*([^\\]'\"]*?)"+tt+"*\\]","g"),ct=new RegExp(it),ht=new RegExp("^"+et+"$"),lt={ID:new RegExp("^#("+et+")"),CLASS:new RegExp("^\\.("+et+")"),TAG:new RegExp("^("+et+"|[*])"),ATTR:new RegExp("^"+nt),PSEUDO:new RegExp("^"+it),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+tt+"*(even|odd|(([+-]|)(\\d*)n|)"+tt+"*(?:([+-]|)"+tt+"*(\\d+)|))"+tt+"*\\)|)","i"),bool:new RegExp("^(?:"+Z+")$","i"),needsContext:new RegExp("^"+tt+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+tt+"*((?:-\\d)?\\d*)"+tt+"*\\)|)(?=[^-]|$)","i")},ft=/^(?:input|select|textarea|button)$/i,dt=/^h\d$/i,pt=/^[^{]+\{\s*\[native \w/,gt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,yt=/[+~]/,mt=new RegExp("\\\\([\\da-f]{1,6}"+tt+"?|("+tt+")|.)","ig"),vt=function(t,e,n){var i="0x"+e-65536;return i!==i||n?e:i<0?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)},xt=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,wt=function(t,e){return e?"\0"===t?"�":t.slice(0,-1)+"\\"+t.charCodeAt(t.length-1).toString(16)+" ":"\\"+t},bt=function(){j()},Ct=f(function(t){return!0===t.disabled&&("form"in t||"label"in t)},{dir:"parentNode",next:"legend"});try{V.apply($=K.call(W.childNodes),W.childNodes),$[W.childNodes.length].nodeType}catch(t){V={apply:$.length?function(t,e){Y.apply(t,K.call(e))}:function(t,e){for(var n=t.length,i=0;t[n++]=e[i++];);t.length=n-1}}}w=e.support={},S=e.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return!!e&&"HTML"!==e.nodeName},j=e.setDocument=function(t){var e,n,i=t?t.ownerDocument||t:W;return i!==L&&9===i.nodeType&&i.documentElement?(L=i,D=L.documentElement,I=!S(L),W!==L&&(n=L.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener("unload",bt,!1):n.attachEvent&&n.attachEvent("onunload",bt)),w.attributes=o(function(t){return t.className="i",!t.getAttribute("className")}),w.getElementsByTagName=o(function(t){return t.appendChild(L.createComment("")),!t.getElementsByTagName("*").length}),w.getElementsByClassName=pt.test(L.getElementsByClassName),w.getById=o(function(t){return D.appendChild(t).id=z,!L.getElementsByName||!L.getElementsByName(z).length}),w.getById?(b.filter.ID=function(t){var e=t.replace(mt,vt);return function(t){return t.getAttribute("id")===e}},b.find.ID=function(t,e){if(void 0!==e.getElementById&&I){var n=e.getElementById(t);return n?[n]:[]}}):(b.filter.ID=function(t){var e=t.replace(mt,vt);return function(t){var n=void 0!==t.getAttributeNode&&t.getAttributeNode("id");return n&&n.value===e}},b.find.ID=function(t,e){if(void 0!==e.getElementById&&I){var n,i,o,r=e.getElementById(t);if(r){if((n=r.getAttributeNode("id"))&&n.value===t)return[r];for(o=e.getElementsByName(t),i=0;r=o[i++];)if((n=r.getAttributeNode("id"))&&n.value===t)return[r]}return[]}}),b.find.TAG=w.getElementsByTagName?function(t,e){return void 0!==e.getElementsByTagName?e.getElementsByTagName(t):w.qsa?e.querySelectorAll(t):void 0}:function(t,e){var n,i=[],o=0,r=e.getElementsByTagName(t);if("*"===t){for(;n=r[o++];)1===n.nodeType&&i.push(n);return i}return r},b.find.CLASS=w.getElementsByClassName&&function(t,e){if(void 0!==e.getElementsByClassName&&I)return e.getElementsByClassName(t)},M=[],F=[],(w.qsa=pt.test(L.querySelectorAll))&&(o(function(t){D.appendChild(t).innerHTML="<a id='"+z+"'></a><select id='"+z+"-\r\\' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&F.push("[*^$]="+tt+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||F.push("\\["+tt+"*(?:value|"+Z+")"),t.querySelectorAll("[id~="+z+"-]").length||F.push("~="),t.querySelectorAll(":checked").length||F.push(":checked"),t.querySelectorAll("a#"+z+"+*").length||F.push(".#.+[+~]")}),o(function(t){t.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var e=L.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&F.push("name"+tt+"*[*^$|!~]?="),2!==t.querySelectorAll(":enabled").length&&F.push(":enabled",":disabled"),D.appendChild(t).disabled=!0,2!==t.querySelectorAll(":disabled").length&&F.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),F.push(",.*:")})),(w.matchesSelector=pt.test(N=D.matches||D.webkitMatchesSelector||D.mozMatchesSelector||D.oMatchesSelector||D.msMatchesSelector))&&o(function(t){w.disconnectedMatch=N.call(t,"*"),N.call(t,"[s!='']:x"),M.push("!=",it)}),F=F.length&&new RegExp(F.join("|")),M=M.length&&new RegExp(M.join("|")),e=pt.test(D.compareDocumentPosition),R=e||pt.test(D.contains)?function(t,e){var n=9===t.nodeType?t.documentElement:t,i=e&&e.parentNode;return t===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):t.compareDocumentPosition&&16&t.compareDocumentPosition(i)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},U=e?function(t,e){if(t===e)return A=!0,0;var n=!t.compareDocumentPosition-!e.compareDocumentPosition;return n||(n=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1,1&n||!w.sortDetached&&e.compareDocumentPosition(t)===n?t===L||t.ownerDocument===W&&R(W,t)?-1:e===L||e.ownerDocument===W&&R(W,e)?1:E?Q(E,t)-Q(E,e):0:4&n?-1:1)}:function(t,e){if(t===e)return A=!0,0;var n,i=0,o=t.parentNode,r=e.parentNode,a=[t],u=[e];if(!o||!r)return t===L?-1:e===L?1:o?-1:r?1:E?Q(E,t)-Q(E,e):0;if(o===r)return s(t,e);for(n=t;n=n.parentNode;)a.unshift(n);for(n=e;n=n.parentNode;)u.unshift(n);for(;a[i]===u[i];)i++;return i?s(a[i],u[i]):a[i]===W?-1:u[i]===W?1:0},L):L},e.matches=function(t,n){return e(t,null,null,n)},e.matchesSelector=function(t,n){if((t.ownerDocument||t)!==L&&j(t),n=n.replace(ut,"='$1']"),w.matchesSelector&&I&&!_[n+" "]&&(!M||!M.test(n))&&(!F||!F.test(n)))try{var i=N.call(t,n);if(i||w.disconnectedMatch||t.document&&11!==t.document.nodeType)return i}catch(t){}return e(n,L,null,[t]).length>0},e.contains=function(t,e){return(t.ownerDocument||t)!==L&&j(t),R(t,e)},e.attr=function(t,e){(t.ownerDocument||t)!==L&&j(t);var n=b.attrHandle[e.toLowerCase()],i=n&&X.call(b.attrHandle,e.toLowerCase())?n(t,e,!I):void 0;return void 0!==i?i:w.attributes||!I?t.getAttribute(e):(i=t.getAttributeNode(e))&&i.specified?i.value:null},e.escape=function(t){return(t+"").replace(xt,wt)},e.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},e.uniqueSort=function(t){var e,n=[],i=0,o=0;if(A=!w.detectDuplicates,E=!w.sortStable&&t.slice(0),t.sort(U),A){for(;e=t[o++];)e===t[o]&&(i=n.push(o));for(;i--;)t.splice(n[i],1)}return E=null,t},C=e.getText=function(t){var e,n="",i=0,o=t.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=C(t)}else if(3===o||4===o)return t.nodeValue}else for(;e=t[i++];)n+=C(e);return n},b=e.selectors={cacheLength:50,createPseudo:i,match:lt,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(mt,vt),t[3]=(t[3]||t[4]||t[5]||"").replace(mt,vt),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||e.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&e.error(t[0]),t},PSEUDO:function(t){var e,n=!t[6]&&t[2];return lt.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":n&&ct.test(n)&&(e=P(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(mt,vt).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=B[t+" "];return e||(e=new RegExp("(^|"+tt+")"+t+"("+tt+"|$)"))&&B(t,function(t){return e.test("string"==typeof t.className&&t.className||void 0!==t.getAttribute&&t.getAttribute("class")||"")})},ATTR:function(t,n,i){return function(o){var r=e.attr(o,t);return null==r?"!="===n:!n||(r+="","="===n?r===i:"!="===n?r!==i:"^="===n?i&&0===r.indexOf(i):"*="===n?i&&r.indexOf(i)>-1:"$="===n?i&&r.slice(-i.length)===i:"~="===n?(" "+r.replace(ot," ")+" ").indexOf(i)>-1:"|="===n&&(r===i||r.slice(0,i.length+1)===i+"-"))}},CHILD:function(t,e,n,i,o){var r="nth"!==t.slice(0,3),s="last"!==t.slice(-4),a="of-type"===e;return 1===i&&0===o?function(t){return!!t.parentNode}:function(e,n,u){var c,h,l,f,d,p,g=r!==s?"nextSibling":"previousSibling",y=e.parentNode,m=a&&e.nodeName.toLowerCase(),v=!u&&!a,x=!1;if(y){if(r){for(;g;){for(f=e;f=f[g];)if(a?f.nodeName.toLowerCase()===m:1===f.nodeType)return!1;p=g="only"===t&&!p&&"nextSibling"}return!0}if(p=[s?y.firstChild:y.lastChild],s&&v){for(f=y,l=f[z]||(f[z]={}),h=l[f.uniqueID]||(l[f.uniqueID]={}),c=h[t]||[],d=c[0]===q&&c[1],x=d&&c[2],f=d&&y.childNodes[d];f=++d&&f&&f[g]||(x=d=0)||p.pop();)if(1===f.nodeType&&++x&&f===e){h[t]=[q,d,x];break}}else if(v&&(f=e,l=f[z]||(f[z]={}),h=l[f.uniqueID]||(l[f.uniqueID]={}),c=h[t]||[],d=c[0]===q&&c[1],x=d),!1===x)for(;(f=++d&&f&&f[g]||(x=d=0)||p.pop())&&((a?f.nodeName.toLowerCase()!==m:1!==f.nodeType)||!++x||(v&&(l=f[z]||(f[z]={}),h=l[f.uniqueID]||(l[f.uniqueID]={}),h[t]=[q,x]),f!==e)););return(x-=o)===i||x%i==0&&x/i>=0}}},PSEUDO:function(t,n){var o,r=b.pseudos[t]||b.setFilters[t.toLowerCase()]||e.error("unsupported pseudo: "+t);return r[z]?r(n):r.length>1?(o=[t,t,"",n],b.setFilters.hasOwnProperty(t.toLowerCase())?i(function(t,e){for(var i,o=r(t,n),s=o.length;s--;)i=Q(t,o[s]),t[i]=!(e[i]=o[s])}):function(t){return r(t,0,o)}):r}},pseudos:{not:i(function(t){var e=[],n=[],o=k(t.replace(rt,"$1"));return o[z]?i(function(t,e,n,i){for(var r,s=o(t,null,i,[]),a=t.length;a--;)(r=s[a])&&(t[a]=!(e[a]=r))}):function(t,i,r){return e[0]=t,o(e,null,r,n),e[0]=null,!n.pop()}}),has:i(function(t){return function(n){return e(t,n).length>0}}),contains:i(function(t){return t=t.replace(mt,vt),function(e){return(e.textContent||e.innerText||C(e)).indexOf(t)>-1}}),lang:i(function(t){return ht.test(t||"")||e.error("unsupported lang: "+t),t=t.replace(mt,vt).toLowerCase(),function(e){var n;do{if(n=I?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(n=n.toLowerCase())===t||0===n.indexOf(t+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var n=t.location&&t.location.hash;return n&&n.slice(1)===e.id},root:function(t){return t===D},focus:function(t){return t===L.activeElement&&(!L.hasFocus||L.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:a(!1),disabled:a(!0),checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!b.pseudos.empty(t)},header:function(t){return dt.test(t.nodeName)},input:function(t){return ft.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:u(function(){return[0]}),last:u(function(t,e){return[e-1]}),eq:u(function(t,e,n){return[n<0?n+e:n]}),even:u(function(t,e){for(var n=0;n<e;n+=2)t.push(n);return t}),odd:u(function(t,e){for(var n=1;n<e;n+=2)t.push(n);return t}),lt:u(function(t,e,n){for(var i=n<0?n+e:n;--i>=0;)t.push(i);return t}),gt:u(function(t,e,n){for(var i=n<0?n+e:n;++i<e;)t.push(i);return t})}},b.pseudos.nth=b.pseudos.eq;for(x in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})b.pseudos[x]=function(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}(x);for(x in{submit:!0,reset:!0})b.pseudos[x]=function(t){return function(e){var n=e.nodeName.toLowerCase();return("input"===n||"button"===n)&&e.type===t}}(x);return h.prototype=b.filters=b.pseudos,b.setFilters=new h,P=e.tokenize=function(t,n){var i,o,r,s,a,u,c,h=J[t+" "];if(h)return n?0:h.slice(0);for(a=t,u=[],c=b.preFilter;a;){i&&!(o=st.exec(a))||(o&&(a=a.slice(o[0].length)||a),u.push(r=[])),i=!1,(o=at.exec(a))&&(i=o.shift(),r.push({value:i,type:o[0].replace(rt," ")}),a=a.slice(i.length));for(s in b.filter)!(o=lt[s].exec(a))||c[s]&&!(o=c[s](o))||(i=o.shift(),r.push({value:i,type:s,matches:o}),a=a.slice(i.length));if(!i)break}return n?a.length:a?e.error(t):J(t,u).slice(0)},k=e.compile=function(t,e){var n,i=[],o=[],r=_[t+" "];if(!r){for(e||(e=P(t)),n=e.length;n--;)r=m(e[n]),r[z]?i.push(r):o.push(r);r=_(t,v(o,i)),r.selector=t}return r},T=e.select=function(t,e,n,i){var o,r,s,a,u,h="function"==typeof t&&t,f=!i&&P(t=h.selector||t);if(n=n||[],1===f.length){if(r=f[0]=f[0].slice(0),r.length>2&&"ID"===(s=r[0]).type&&9===e.nodeType&&I&&b.relative[r[1].type]){if(!(e=(b.find.ID(s.matches[0].replace(mt,vt),e)||[])[0]))return n;h&&(e=e.parentNode),t=t.slice(r.shift().value.length)}for(o=lt.needsContext.test(t)?0:r.length;o--&&(s=r[o],!b.relative[a=s.type]);)if((u=b.find[a])&&(i=u(s.matches[0].replace(mt,vt),yt.test(r[0].type)&&c(e.parentNode)||e))){if(r.splice(o,1),!(t=i.length&&l(r)))return V.apply(n,i),n;break}}return(h||k(t,f))(i,e,!I,n,!e||yt.test(t)&&c(e.parentNode)||e),n},w.sortStable=z.split("").sort(U).join("")===z,w.detectDuplicates=!!A,j(),w.sortDetached=o(function(t){return 1&t.compareDocumentPosition(L.createElement("fieldset"))}),o(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||r("type|href|height|width",function(t,e,n){if(!n)return t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),w.attributes&&o(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||r("value",function(t,e,n){if(!n&&"input"===t.nodeName.toLowerCase())return t.defaultValue}),o(function(t){return null==t.getAttribute("disabled")})||r(Z,function(t,e,n){var i;if(!n)return!0===t[e]?e.toLowerCase():(i=t.getAttributeNode(e))&&i.specified?i.value:null}),e}(n);vt.find=St,vt.expr=St.selectors,vt.expr[":"]=vt.expr.pseudos,vt.uniqueSort=vt.unique=St.uniqueSort,vt.text=St.getText,vt.isXMLDoc=St.isXML,vt.contains=St.contains,vt.escapeSelector=St.escape;var Pt=function(t,e,n){for(var i=[],o=void 0!==n;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(o&&vt(t).is(n))break;i.push(t)}return i},kt=function(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n},Tt=vt.expr.match.needsContext,Ot=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i,Et=/^.[^:#\[\.,]*$/;vt.filter=function(t,e,n){var i=e[0];return n&&(t=":not("+t+")"),1===e.length&&1===i.nodeType?vt.find.matchesSelector(i,t)?[i]:[]:vt.find.matches(t,vt.grep(e,function(t){return 1===t.nodeType}))},vt.fn.extend({find:function(t){var e,n,i=this.length,o=this;if("string"!=typeof t)return this.pushStack(vt(t).filter(function(){for(e=0;e<i;e++)if(vt.contains(o[e],this))return!0}));for(n=this.pushStack([]),e=0;e<i;e++)vt.find(t,o[e],n);return i>1?vt.uniqueSort(n):n},filter:function(t){return this.pushStack(c(this,t||[],!1))},not:function(t){return this.pushStack(c(this,t||[],!0))},is:function(t){return!!c(this,"string"==typeof t&&Tt.test(t)?vt(t):t||[],!1).length}});var At,jt=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(vt.fn.init=function(t,e,n){var i,o;if(!t)return this;if(n=n||At,"string"==typeof t){if(!(i="<"===t[0]&&">"===t[t.length-1]&&t.length>=3?[null,t,null]:jt.exec(t))||!i[1]&&e)return!e||e.jquery?(e||n).find(t):this.constructor(e).find(t);if(i[1]){if(e=e instanceof vt?e[0]:e,vt.merge(this,vt.parseHTML(i[1],e&&e.nodeType?e.ownerDocument||e:st,!0)),Ot.test(i[1])&&vt.isPlainObject(e))for(i in e)vt.isFunction(this[i])?this[i](e[i]):this.attr(i,e[i]);return this}return o=st.getElementById(i[2]),o&&(this[0]=o,this.length=1),this}return t.nodeType?(this[0]=t,this.length=1,this):vt.isFunction(t)?void 0!==n.ready?n.ready(t):t(vt):vt.makeArray(t,this)}).prototype=vt.fn,At=vt(st);var Lt=/^(?:parents|prev(?:Until|All))/,Dt={children:!0,contents:!0,next:!0,prev:!0};vt.fn.extend({has:function(t){var e=vt(t,this),n=e.length;return this.filter(function(){for(var t=0;t<n;t++)if(vt.contains(this,e[t]))return!0})},closest:function(t,e){var n,i=0,o=this.length,r=[],s="string"!=typeof t&&vt(t);if(!Tt.test(t))for(;i<o;i++)for(n=this[i];n&&n!==e;n=n.parentNode)if(n.nodeType<11&&(s?s.index(n)>-1:1===n.nodeType&&vt.find.matchesSelector(n,t))){r.push(n);break}return this.pushStack(r.length>1?vt.uniqueSort(r):r)},index:function(t){return t?"string"==typeof t?lt.call(vt(t),this[0]):lt.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(vt.uniqueSort(vt.merge(this.get(),vt(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),vt.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return Pt(t,"parentNode")},parentsUntil:function(t,e,n){return Pt(t,"parentNode",n)},next:function(t){return h(t,"nextSibling")},prev:function(t){return h(t,"previousSibling")},nextAll:function(t){return Pt(t,"nextSibling")},prevAll:function(t){return Pt(t,"previousSibling")},nextUntil:function(t,e,n){return Pt(t,"nextSibling",n)},prevUntil:function(t,e,n){return Pt(t,"previousSibling",n)},siblings:function(t){return kt((t.parentNode||{}).firstChild,t)},children:function(t){return kt(t.firstChild)},contents:function(t){return u(t,"iframe")?t.contentDocument:(u(t,"template")&&(t=t.content||t),vt.merge([],t.childNodes))}},function(t,e){vt.fn[t]=function(n,i){var o=vt.map(this,e,n);return"Until"!==t.slice(-5)&&(i=n),i&&"string"==typeof i&&(o=vt.filter(i,o)),this.length>1&&(Dt[t]||vt.uniqueSort(o),Lt.test(t)&&o.reverse()),this.pushStack(o)}});var It=/[^\x20\t\r\n\f]+/g;vt.Callbacks=function(t){t="string"==typeof t?l(t):vt.extend({},t);var e,n,i,o,r=[],s=[],a=-1,u=function(){for(o=o||t.once,i=e=!0;s.length;a=-1)for(n=s.shift();++a<r.length;)!1===r[a].apply(n[0],n[1])&&t.stopOnFalse&&(a=r.length,n=!1);t.memory||(n=!1),e=!1,o&&(r=n?[]:"")},c={add:function(){return r&&(n&&!e&&(a=r.length-1,s.push(n)),function e(n){vt.each(n,function(n,i){vt.isFunction(i)?t.unique&&c.has(i)||r.push(i):i&&i.length&&"string"!==vt.type(i)&&e(i)})}(arguments),n&&!e&&u()),this},remove:function(){return vt.each(arguments,function(t,e){for(var n;(n=vt.inArray(e,r,n))>-1;)r.splice(n,1),n<=a&&a--}),this},has:function(t){return t?vt.inArray(t,r)>-1:r.length>0},empty:function(){return r&&(r=[]),this},disable:function(){return o=s=[],r=n="",this},disabled:function(){return!r},lock:function(){return o=s=[],n||e||(r=n=""),this},locked:function(){return!!o},fireWith:function(t,n){return o||(n=n||[],n=[t,n.slice?n.slice():n],s.push(n),e||u()),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!i}};return c},vt.extend({Deferred:function(t){var e=[["notify","progress",vt.Callbacks("memory"),vt.Callbacks("memory"),2],["resolve","done",vt.Callbacks("once memory"),vt.Callbacks("once memory"),0,"resolved"],["reject","fail",vt.Callbacks("once memory"),vt.Callbacks("once memory"),1,"rejected"]],i="pending",o={state:function(){return i},always:function(){return r.done(arguments).fail(arguments),this},catch:function(t){return o.then(null,t)},pipe:function(){var t=arguments;return vt.Deferred(function(n){vt.each(e,function(e,i){var o=vt.isFunction(t[i[4]])&&t[i[4]];r[i[1]](function(){var t=o&&o.apply(this,arguments);t&&vt.isFunction(t.promise)?t.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[i[0]+"With"](this,o?[t]:arguments)})}),t=null}).promise()},then:function(t,i,o){function r(t,e,i,o){return function(){var a=this,u=arguments,c=function(){var n,c;if(!(t<s)){if((n=i.apply(a,u))===e.promise())throw new TypeError("Thenable self-resolution");c=n&&("object"==typeof n||"function"==typeof n)&&n.then,vt.isFunction(c)?o?c.call(n,r(s,e,f,o),r(s,e,d,o)):(s++,c.call(n,r(s,e,f,o),r(s,e,d,o),r(s,e,f,e.notifyWith))):(i!==f&&(a=void 0,u=[n]),(o||e.resolveWith)(a,u))}},h=o?c:function(){try{c()}catch(n){vt.Deferred.exceptionHook&&vt.Deferred.exceptionHook(n,h.stackTrace),t+1>=s&&(i!==d&&(a=void 0,u=[n]),e.rejectWith(a,u))}};t?h():(vt.Deferred.getStackHook&&(h.stackTrace=vt.Deferred.getStackHook()),n.setTimeout(h))}}var s=0;return vt.Deferred(function(n){e[0][3].add(r(0,n,vt.isFunction(o)?o:f,n.notifyWith)),e[1][3].add(r(0,n,vt.isFunction(t)?t:f)),e[2][3].add(r(0,n,vt.isFunction(i)?i:d))}).promise()},promise:function(t){return null!=t?vt.extend(t,o):o}},r={};return vt.each(e,function(t,n){var s=n[2],a=n[5];o[n[1]]=s.add,a&&s.add(function(){i=a},e[3-t][2].disable,e[0][2].lock),s.add(n[3].fire),r[n[0]]=function(){return r[n[0]+"With"](this===r?void 0:this,arguments),this},r[n[0]+"With"]=s.fireWith}),o.promise(r),t&&t.call(r,r),r},when:function(t){var e=arguments.length,n=e,i=Array(n),o=ut.call(arguments),r=vt.Deferred(),s=function(t){return function(n){i[t]=this,o[t]=arguments.length>1?ut.call(arguments):n,--e||r.resolveWith(i,o)}};if(e<=1&&(p(t,r.done(s(n)).resolve,r.reject,!e),"pending"===r.state()||vt.isFunction(o[n]&&o[n].then)))return r.then();for(;n--;)p(o[n],s(n),r.reject);return r.promise()}});var Ft=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;vt.Deferred.exceptionHook=function(t,e){n.console&&n.console.warn&&t&&Ft.test(t.name)&&n.console.warn("jQuery.Deferred exception: "+t.message,t.stack,e)},vt.readyException=function(t){n.setTimeout(function(){throw t})};var Mt=vt.Deferred();vt.fn.ready=function(t){return Mt.then(t).catch(function(t){vt.readyException(t)}),this},vt.extend({isReady:!1,readyWait:1,ready:function(t){(!0===t?--vt.readyWait:vt.isReady)||(vt.isReady=!0,!0!==t&&--vt.readyWait>0||Mt.resolveWith(st,[vt]))}}),vt.ready.then=Mt.then,"complete"===st.readyState||"loading"!==st.readyState&&!st.documentElement.doScroll?n.setTimeout(vt.ready):(st.addEventListener("DOMContentLoaded",g),n.addEventListener("load",g));var Nt=function(t,e,n,i,o,r,s){var a=0,u=t.length,c=null==n;if("object"===vt.type(n)){o=!0;for(a in n)Nt(t,e,a,n[a],!0,r,s)}else if(void 0!==i&&(o=!0,vt.isFunction(i)||(s=!0),c&&(s?(e.call(t,i),e=null):(c=e,e=function(t,e,n){return c.call(vt(t),n)})),e))for(;a<u;a++)e(t[a],n,s?i:i.call(t[a],a,e(t[a],n)));return o?t:c?e.call(t):u?e(t[0],n):r},Rt=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType};y.uid=1,y.prototype={cache:function(t){var e=t[this.expando];return e||(e={},Rt(t)&&(t.nodeType?t[this.expando]=e:Object.defineProperty(t,this.expando,{value:e,configurable:!0}))),e},set:function(t,e,n){var i,o=this.cache(t);if("string"==typeof e)o[vt.camelCase(e)]=n;else for(i in e)o[vt.camelCase(i)]=e[i];return o},get:function(t,e){return void 0===e?this.cache(t):t[this.expando]&&t[this.expando][vt.camelCase(e)]},access:function(t,e,n){return void 0===e||e&&"string"==typeof e&&void 0===n?this.get(t,e):(this.set(t,e,n),void 0!==n?n:e)},remove:function(t,e){var n,i=t[this.expando];if(void 0!==i){if(void 0!==e){Array.isArray(e)?e=e.map(vt.camelCase):(e=vt.camelCase(e),e=e in i?[e]:e.match(It)||[]),n=e.length;for(;n--;)delete i[e[n]]}(void 0===e||vt.isEmptyObject(i))&&(t.nodeType?t[this.expando]=void 0:delete t[this.expando])}},hasData:function(t){var e=t[this.expando];return void 0!==e&&!vt.isEmptyObject(e)}};var zt=new y,Wt=new y,qt=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Ht=/[A-Z]/g;vt.extend({hasData:function(t){return Wt.hasData(t)||zt.hasData(t)},data:function(t,e,n){return Wt.access(t,e,n)},removeData:function(t,e){Wt.remove(t,e)},_data:function(t,e,n){return zt.access(t,e,n)},_removeData:function(t,e){zt.remove(t,e)}}),vt.fn.extend({data:function(t,e){var n,i,o,r=this[0],s=r&&r.attributes;if(void 0===t){if(this.length&&(o=Wt.get(r),1===r.nodeType&&!zt.get(r,"hasDataAttrs"))){for(n=s.length;n--;)s[n]&&(i=s[n].name,0===i.indexOf("data-")&&(i=vt.camelCase(i.slice(5)),v(r,i,o[i])));zt.set(r,"hasDataAttrs",!0)}return o}return"object"==typeof t?this.each(function(){Wt.set(this,t)}):Nt(this,function(e){var n;if(r&&void 0===e){if(void 0!==(n=Wt.get(r,t)))return n;if(void 0!==(n=v(r,t)))return n}else this.each(function(){Wt.set(this,t,e)})},null,e,arguments.length>1,null,!0)},removeData:function(t){return this.each(function(){Wt.remove(this,t)})}}),vt.extend({queue:function(t,e,n){var i;if(t)return e=(e||"fx")+"queue",i=zt.get(t,e),n&&(!i||Array.isArray(n)?i=zt.access(t,e,vt.makeArray(n)):i.push(n)),i||[]},dequeue:function(t,e){e=e||"fx";var n=vt.queue(t,e),i=n.length,o=n.shift(),r=vt._queueHooks(t,e),s=function(){vt.dequeue(t,e)};"inprogress"===o&&(o=n.shift(),i--),o&&("fx"===e&&n.unshift("inprogress"),delete r.stop,o.call(t,s,r)),!i&&r&&r.empty.fire()},_queueHooks:function(t,e){var n=e+"queueHooks";return zt.get(t,n)||zt.access(t,n,{empty:vt.Callbacks("once memory").add(function(){zt.remove(t,[e+"queue",n])})})}}),vt.fn.extend({queue:function(t,e){var n=2;return"string"!=typeof t&&(e=t,t="fx",n--),arguments.length<n?vt.queue(this[0],t):void 0===e?this:this.each(function(){var n=vt.queue(this,t,e);vt._queueHooks(this,t),"fx"===t&&"inprogress"!==n[0]&&vt.dequeue(this,t)})},dequeue:function(t){return this.each(function(){vt.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var n,i=1,o=vt.Deferred(),r=this,s=this.length,a=function(){--i||o.resolveWith(r,[r])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";s--;)(n=zt.get(r[s],t+"queueHooks"))&&n.empty&&(i++,n.empty.add(a));return a(),o.promise(e)}});var Bt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Jt=new RegExp("^(?:([+-])=|)("+Bt+")([a-z%]*)$","i"),_t=["Top","Right","Bottom","Left"],Ut=function(t,e){return t=e||t,"none"===t.style.display||""===t.style.display&&vt.contains(t.ownerDocument,t)&&"none"===vt.css(t,"display")},Xt=function(t,e,n,i){var o,r,s={};for(r in e)s[r]=t.style[r],t.style[r]=e[r];o=n.apply(t,i||[]);for(r in e)t.style[r]=s[r];return o},$t={};vt.fn.extend({show:function(){return b(this,!0)},hide:function(){return b(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){Ut(this)?vt(this).show():vt(this).hide()})}});var Gt=/^(?:checkbox|radio)$/i,Yt=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,Vt=/^$|\/(?:java|ecma)script/i,Kt={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Kt.optgroup=Kt.option,Kt.tbody=Kt.tfoot=Kt.colgroup=Kt.caption=Kt.thead,Kt.th=Kt.td;var Qt=/<|&#?\w+;/;!function(){var t=st.createDocumentFragment(),e=t.appendChild(st.createElement("div")),n=st.createElement("input");n.setAttribute("type","radio"),n.setAttribute("checked","checked"),n.setAttribute("name","t"),e.appendChild(n),mt.checkClone=e.cloneNode(!0).cloneNode(!0).lastChild.checked,e.innerHTML="<textarea>x</textarea>",mt.noCloneChecked=!!e.cloneNode(!0).lastChild.defaultValue}();var Zt=st.documentElement,te=/^key/,ee=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,ne=/^([^.]*)(?:\.(.+)|)/;vt.event={global:{},add:function(t,e,n,i,o){var r,s,a,u,c,h,l,f,d,p,g,y=zt.get(t);if(y)for(n.handler&&(r=n,n=r.handler,o=r.selector),o&&vt.find.matchesSelector(Zt,o),n.guid||(n.guid=vt.guid++),(u=y.events)||(u=y.events={}),(s=y.handle)||(s=y.handle=function(e){return void 0!==vt&&vt.event.triggered!==e.type?vt.event.dispatch.apply(t,arguments):void 0}),e=(e||"").match(It)||[""],c=e.length;c--;)a=ne.exec(e[c])||[],d=g=a[1],p=(a[2]||"").split(".").sort(),d&&(l=vt.event.special[d]||{},d=(o?l.delegateType:l.bindType)||d,l=vt.event.special[d]||{},h=vt.extend({type:d,origType:g,data:i,handler:n,guid:n.guid,selector:o,needsContext:o&&vt.expr.match.needsContext.test(o),namespace:p.join(".")},r),(f=u[d])||(f=u[d]=[],f.delegateCount=0,l.setup&&!1!==l.setup.call(t,i,p,s)||t.addEventListener&&t.addEventListener(d,s)),l.add&&(l.add.call(t,h),h.handler.guid||(h.handler.guid=n.guid)),o?f.splice(f.delegateCount++,0,h):f.push(h),vt.event.global[d]=!0)},remove:function(t,e,n,i,o){var r,s,a,u,c,h,l,f,d,p,g,y=zt.hasData(t)&&zt.get(t);if(y&&(u=y.events)){for(e=(e||"").match(It)||[""],c=e.length;c--;)if(a=ne.exec(e[c])||[],d=g=a[1],p=(a[2]||"").split(".").sort(),d){for(l=vt.event.special[d]||{},d=(i?l.delegateType:l.bindType)||d,f=u[d]||[],a=a[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),s=r=f.length;r--;)h=f[r],!o&&g!==h.origType||n&&n.guid!==h.guid||a&&!a.test(h.namespace)||i&&i!==h.selector&&("**"!==i||!h.selector)||(f.splice(r,1),h.selector&&f.delegateCount--,l.remove&&l.remove.call(t,h));s&&!f.length&&(l.teardown&&!1!==l.teardown.call(t,p,y.handle)||vt.removeEvent(t,d,y.handle),delete u[d])}else for(d in u)vt.event.remove(t,d+e[c],n,i,!0);vt.isEmptyObject(u)&&zt.remove(t,"handle events")}},dispatch:function(t){var e,n,i,o,r,s,a=vt.event.fix(t),u=new Array(arguments.length),c=(zt.get(this,"events")||{})[a.type]||[],h=vt.event.special[a.type]||{};for(u[0]=a,e=1;e<arguments.length;e++)u[e]=arguments[e];if(a.delegateTarget=this,!h.preDispatch||!1!==h.preDispatch.call(this,a)){for(s=vt.event.handlers.call(this,a,c),e=0;(o=s[e++])&&!a.isPropagationStopped();)for(a.currentTarget=o.elem,n=0;(r=o.handlers[n++])&&!a.isImmediatePropagationStopped();)a.rnamespace&&!a.rnamespace.test(r.namespace)||(a.handleObj=r,a.data=r.data,void 0!==(i=((vt.event.special[r.origType]||{}).handle||r.handler).apply(o.elem,u))&&!1===(a.result=i)&&(a.preventDefault(),a.stopPropagation()));return h.postDispatch&&h.postDispatch.call(this,a),a.result}},handlers:function(t,e){var n,i,o,r,s,a=[],u=e.delegateCount,c=t.target;if(u&&c.nodeType&&!("click"===t.type&&t.button>=1))for(;c!==this;c=c.parentNode||this)if(1===c.nodeType&&("click"!==t.type||!0!==c.disabled)){for(r=[],s={},n=0;n<u;n++)i=e[n],o=i.selector+" ",void 0===s[o]&&(s[o]=i.needsContext?vt(o,this).index(c)>-1:vt.find(o,this,null,[c]).length),s[o]&&r.push(i);r.length&&a.push({elem:c,handlers:r})}return c=this,u<e.length&&a.push({elem:c,handlers:e.slice(u)}),a},addProp:function(t,e){Object.defineProperty(vt.Event.prototype,t,{enumerable:!0,configurable:!0,get:vt.isFunction(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(t){return t[vt.expando]?t:new vt.Event(t)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==O()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===O()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&u(this,"input"))return this.click(),!1},_default:function(t){return u(t.target,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}}},vt.removeEvent=function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n)},vt.Event=function(t,e){if(!(this instanceof vt.Event))return new vt.Event(t,e);t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&!1===t.returnValue?k:T,this.target=t.target&&3===t.target.nodeType?t.target.parentNode:t.target,this.currentTarget=t.currentTarget,this.relatedTarget=t.relatedTarget):this.type=t,e&&vt.extend(this,e),this.timeStamp=t&&t.timeStamp||vt.now(),this[vt.expando]=!0},vt.Event.prototype={constructor:vt.Event,isDefaultPrevented:T,isPropagationStopped:T,isImmediatePropagationStopped:T,isSimulated:!1,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=k,t&&!this.isSimulated&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=k,t&&!this.isSimulated&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=k,t&&!this.isSimulated&&t.stopImmediatePropagation(),this.stopPropagation()}},vt.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(t){var e=t.button;return null==t.which&&te.test(t.type)?null!=t.charCode?t.charCode:t.keyCode:!t.which&&void 0!==e&&ee.test(t.type)?1&e?1:2&e?3:4&e?2:0:t.which}},vt.event.addProp),vt.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,e){vt.event.special[t]={delegateType:e,bindType:e,handle:function(t){var n,i=this,o=t.relatedTarget,r=t.handleObj;return o&&(o===i||vt.contains(i,o))||(t.type=r.origType,n=r.handler.apply(this,arguments),t.type=e),n}}}),vt.fn.extend({on:function(t,e,n,i){return E(this,t,e,n,i)},one:function(t,e,n,i){return E(this,t,e,n,i,1)},off:function(t,e,n){var i,o;if(t&&t.preventDefault&&t.handleObj)return i=t.handleObj,vt(t.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof t){for(o in t)this.off(o,e,t[o]);return this}return!1!==e&&"function"!=typeof e||(n=e,e=void 0),!1===n&&(n=T),this.each(function(){vt.event.remove(this,t,n,e)})}});var ie=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,oe=/<script|<style|<link/i,re=/checked\s*(?:[^=]|=\s*.checked.)/i,se=/^true\/(.*)/,ae=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;vt.extend({htmlPrefilter:function(t){return t.replace(ie,"<$1></$2>")},clone:function(t,e,n){var i,o,r,s,a=t.cloneNode(!0),u=vt.contains(t.ownerDocument,t);if(!(mt.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||vt.isXMLDoc(t)))for(s=C(a),r=C(t),i=0,o=r.length;i<o;i++)I(r[i],s[i]);if(e)if(n)for(r=r||C(t),s=s||C(a),i=0,o=r.length;i<o;i++)D(r[i],s[i]);else D(t,a);return s=C(a,"script"),s.length>0&&S(s,!u&&C(t,"script")),a},cleanData:function(t){for(var e,n,i,o=vt.event.special,r=0;void 0!==(n=t[r]);r++)if(Rt(n)){if(e=n[zt.expando]){if(e.events)for(i in e.events)o[i]?vt.event.remove(n,i):vt.removeEvent(n,i,e.handle);n[zt.expando]=void 0}n[Wt.expando]&&(n[Wt.expando]=void 0)}}}),vt.fn.extend({detach:function(t){return M(this,t,!0)},remove:function(t){return M(this,t)},text:function(t){return Nt(this,function(t){return void 0===t?vt.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=t)})},null,t,arguments.length)},append:function(){return F(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){A(this,t).appendChild(t)}})},prepend:function(){return F(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=A(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return F(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return F(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(vt.cleanData(C(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map(function(){return vt.clone(this,t,e)})},html:function(t){return Nt(this,function(t){var e=this[0]||{},n=0,i=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!oe.test(t)&&!Kt[(Yt.exec(t)||["",""])[1].toLowerCase()]){t=vt.htmlPrefilter(t);try{for(;n<i;n++)e=this[n]||{},1===e.nodeType&&(vt.cleanData(C(e,!1)),e.innerHTML=t);e=0}catch(t){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var t=[];return F(this,arguments,function(e){var n=this.parentNode;vt.inArray(this,t)<0&&(vt.cleanData(C(this)),n&&n.replaceChild(e,this))},t)}}),vt.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){vt.fn[t]=function(t){for(var n,i=[],o=vt(t),r=o.length-1,s=0;s<=r;s++)n=s===r?this:this.clone(!0),vt(o[s])[e](n),ht.apply(i,n.get());return this.pushStack(i)}});var ue=/^margin/,ce=new RegExp("^("+Bt+")(?!px)[a-z%]+$","i"),he=function(t){var e=t.ownerDocument.defaultView;return e&&e.opener||(e=n),e.getComputedStyle(t)};!function(){function t(){if(a){a.style.cssText="box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",a.innerHTML="",Zt.appendChild(s);var t=n.getComputedStyle(a);e="1%"!==t.top,r="2px"===t.marginLeft,i="4px"===t.width,a.style.marginRight="50%",o="4px"===t.marginRight,Zt.removeChild(s),a=null}}var e,i,o,r,s=st.createElement("div"),a=st.createElement("div");a.style&&(a.style.backgroundClip="content-box",a.cloneNode(!0).style.backgroundClip="",mt.clearCloneStyle="content-box"===a.style.backgroundClip,s.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",s.appendChild(a),vt.extend(mt,{pixelPosition:function(){return t(),e},boxSizingReliable:function(){return t(),i},pixelMarginRight:function(){return t(),o},reliableMarginLeft:function(){return t(),r}}))}();var le=/^(none|table(?!-c[ea]).+)/,fe=/^--/,de={position:"absolute",visibility:"hidden",display:"block"},pe={letterSpacing:"0",fontWeight:"400"},ge=["Webkit","Moz","ms"],ye=st.createElement("div").style;vt.extend({cssHooks:{opacity:{get:function(t,e){if(e){var n=N(t,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:"cssFloat"},style:function(t,e,n,i){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var o,r,s,a=vt.camelCase(e),u=fe.test(e),c=t.style;if(u||(e=W(a)),s=vt.cssHooks[e]||vt.cssHooks[a],void 0===n)return s&&"get"in s&&void 0!==(o=s.get(t,!1,i))?o:c[e];r=typeof n,"string"===r&&(o=Jt.exec(n))&&o[1]&&(n=x(t,e,o),r="number"),null!=n&&n===n&&("number"===r&&(n+=o&&o[3]||(vt.cssNumber[a]?"":"px")),mt.clearCloneStyle||""!==n||0!==e.indexOf("background")||(c[e]="inherit"),s&&"set"in s&&void 0===(n=s.set(t,n,i))||(u?c.setProperty(e,n):c[e]=n))}},css:function(t,e,n,i){var o,r,s,a=vt.camelCase(e);return fe.test(e)||(e=W(a)),s=vt.cssHooks[e]||vt.cssHooks[a],s&&"get"in s&&(o=s.get(t,!0,n)),void 0===o&&(o=N(t,e,i)),"normal"===o&&e in pe&&(o=pe[e]),""===n||n?(r=parseFloat(o),!0===n||isFinite(r)?r||0:o):o}}),vt.each(["height","width"],function(t,e){vt.cssHooks[e]={get:function(t,n,i){if(n)return!le.test(vt.css(t,"display"))||t.getClientRects().length&&t.getBoundingClientRect().width?B(t,e,i):Xt(t,de,function(){return B(t,e,i)})},set:function(t,n,i){var o,r=i&&he(t),s=i&&H(t,e,i,"border-box"===vt.css(t,"boxSizing",!1,r),r);return s&&(o=Jt.exec(n))&&"px"!==(o[3]||"px")&&(t.style[e]=n,n=vt.css(t,e)),q(t,n,s)}}}),vt.cssHooks.marginLeft=R(mt.reliableMarginLeft,function(t,e){if(e)return(parseFloat(N(t,"marginLeft"))||t.getBoundingClientRect().left-Xt(t,{marginLeft:0},function(){return t.getBoundingClientRect().left}))+"px"}),vt.each({margin:"",padding:"",border:"Width"},function(t,e){vt.cssHooks[t+e]={expand:function(n){for(var i=0,o={},r="string"==typeof n?n.split(" "):[n];i<4;i++)o[t+_t[i]+e]=r[i]||r[i-2]||r[0];return o}},ue.test(t)||(vt.cssHooks[t+e].set=q)}),vt.fn.extend({css:function(t,e){return Nt(this,function(t,e,n){var i,o,r={},s=0;if(Array.isArray(e)){for(i=he(t),o=e.length;s<o;s++)r[e[s]]=vt.css(t,e[s],!1,i);return r}return void 0!==n?vt.style(t,e,n):vt.css(t,e)},t,e,arguments.length>1)}}),vt.Tween=J,J.prototype={constructor:J,init:function(t,e,n,i,o,r){this.elem=t,this.prop=n,this.easing=o||vt.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=i,this.unit=r||(vt.cssNumber[n]?"":"px")},cur:function(){var t=J.propHooks[this.prop];return t&&t.get?t.get(this):J.propHooks._default.get(this)},run:function(t){var e,n=J.propHooks[this.prop];return this.options.duration?this.pos=e=vt.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):J.propHooks._default.set(this),this}},J.prototype.init.prototype=J.prototype,J.propHooks={_default:{get:function(t){var e;return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(e=vt.css(t.elem,t.prop,""),e&&"auto"!==e?e:0)},set:function(t){vt.fx.step[t.prop]?vt.fx.step[t.prop](t):1!==t.elem.nodeType||null==t.elem.style[vt.cssProps[t.prop]]&&!vt.cssHooks[t.prop]?t.elem[t.prop]=t.now:vt.style(t.elem,t.prop,t.now+t.unit)}}},J.propHooks.scrollTop=J.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},vt.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"},vt.fx=J.prototype.init,vt.fx.step={};var me,ve,xe=/^(?:toggle|show|hide)$/,we=/queueHooks$/;vt.Animation=vt.extend(V,{tweeners:{"*":[function(t,e){var n=this.createTween(t,e);return x(n.elem,t,Jt.exec(e),n),n}]},tweener:function(t,e){vt.isFunction(t)?(e=t,t=["*"]):t=t.match(It);for(var n,i=0,o=t.length;i<o;i++)n=t[i],V.tweeners[n]=V.tweeners[n]||[],V.tweeners[n].unshift(e)},prefilters:[G],prefilter:function(t,e){e?V.prefilters.unshift(t):V.prefilters.push(t)}}),vt.speed=function(t,e,n){var i=t&&"object"==typeof t?vt.extend({},t):{complete:n||!n&&e||vt.isFunction(t)&&t,duration:t,easing:n&&e||e&&!vt.isFunction(e)&&e};return vt.fx.off?i.duration=0:"number"!=typeof i.duration&&(i.duration in vt.fx.speeds?i.duration=vt.fx.speeds[i.duration]:i.duration=vt.fx.speeds._default),null!=i.queue&&!0!==i.queue||(i.queue="fx"),i.old=i.complete,i.complete=function(){vt.isFunction(i.old)&&i.old.call(this),i.queue&&vt.dequeue(this,i.queue)},i},vt.fn.extend({fadeTo:function(t,e,n,i){return this.filter(Ut).css("opacity",0).show().end().animate({opacity:e},t,n,i)},animate:function(t,e,n,i){var o=vt.isEmptyObject(t),r=vt.speed(e,n,i),s=function(){var e=V(this,vt.extend({},t),r);(o||zt.get(this,"finish"))&&e.stop(!0)};return s.finish=s,o||!1===r.queue?this.each(s):this.queue(r.queue,s)},stop:function(t,e,n){var i=function(t){var e=t.stop;delete t.stop,e(n)};return"string"!=typeof t&&(n=e,e=t,t=void 0),e&&!1!==t&&this.queue(t||"fx",[]),this.each(function(){var e=!0,o=null!=t&&t+"queueHooks",r=vt.timers,s=zt.get(this);if(o)s[o]&&s[o].stop&&i(s[o]);else for(o in s)s[o]&&s[o].stop&&we.test(o)&&i(s[o]);for(o=r.length;o--;)r[o].elem!==this||null!=t&&r[o].queue!==t||(r[o].anim.stop(n),e=!1,r.splice(o,1));!e&&n||vt.dequeue(this,t)})},finish:function(t){return!1!==t&&(t=t||"fx"),this.each(function(){var e,n=zt.get(this),i=n[t+"queue"],o=n[t+"queueHooks"],r=vt.timers,s=i?i.length:0;for(n.finish=!0,vt.queue(this,t,[]),o&&o.stop&&o.stop.call(this,!0),e=r.length;e--;)r[e].elem===this&&r[e].queue===t&&(r[e].anim.stop(!0),r.splice(e,1));for(e=0;e<s;e++)i[e]&&i[e].finish&&i[e].finish.call(this);delete n.finish})}}),vt.each(["toggle","show","hide"],function(t,e){var n=vt.fn[e];vt.fn[e]=function(t,i,o){return null==t||"boolean"==typeof t?n.apply(this,arguments):this.animate(X(e,!0),t,i,o)}}),vt.each({slideDown:X("show"),slideUp:X("hide"),slideToggle:X("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){vt.fn[t]=function(t,n,i){return this.animate(e,t,n,i)}}),vt.timers=[],vt.fx.tick=function(){var t,e=0,n=vt.timers;for(me=vt.now();e<n.length;e++)(t=n[e])()||n[e]!==t||n.splice(e--,1);n.length||vt.fx.stop(),me=void 0},vt.fx.timer=function(t){vt.timers.push(t),vt.fx.start()},vt.fx.interval=13,vt.fx.start=function(){ve||(ve=!0,_())},vt.fx.stop=function(){ve=null},vt.fx.speeds={slow:600,fast:200,_default:400},vt.fn.delay=function(t,e){return t=vt.fx?vt.fx.speeds[t]||t:t,e=e||"fx",this.queue(e,function(e,i){var o=n.setTimeout(e,t);i.stop=function(){n.clearTimeout(o)}})},function(){var t=st.createElement("input"),e=st.createElement("select"),n=e.appendChild(st.createElement("option"));t.type="checkbox",mt.checkOn=""!==t.value,mt.optSelected=n.selected,t=st.createElement("input"),t.value="t",t.type="radio",mt.radioValue="t"===t.value}();var be,Ce=vt.expr.attrHandle;vt.fn.extend({attr:function(t,e){return Nt(this,vt.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){vt.removeAttr(this,t)})}}),vt.extend({attr:function(t,e,n){var i,o,r=t.nodeType;if(3!==r&&8!==r&&2!==r)return void 0===t.getAttribute?vt.prop(t,e,n):(1===r&&vt.isXMLDoc(t)||(o=vt.attrHooks[e.toLowerCase()]||(vt.expr.match.bool.test(e)?be:void 0)),void 0!==n?null===n?void vt.removeAttr(t,e):o&&"set"in o&&void 0!==(i=o.set(t,n,e))?i:(t.setAttribute(e,n+""),n):o&&"get"in o&&null!==(i=o.get(t,e))?i:(i=vt.find.attr(t,e),null==i?void 0:i))},attrHooks:{type:{set:function(t,e){if(!mt.radioValue&&"radio"===e&&u(t,"input")){var n=t.value;return t.setAttribute("type",e),n&&(t.value=n),e}}}},removeAttr:function(t,e){var n,i=0,o=e&&e.match(It);if(o&&1===t.nodeType)for(;n=o[i++];)t.removeAttribute(n)}}),be={set:function(t,e,n){return!1===e?vt.removeAttr(t,n):t.setAttribute(n,n),n}},vt.each(vt.expr.match.bool.source.match(/\w+/g),function(t,e){var n=Ce[e]||vt.find.attr;Ce[e]=function(t,e,i){var o,r,s=e.toLowerCase();return i||(r=Ce[s],Ce[s]=o,o=null!=n(t,e,i)?s:null,Ce[s]=r),o}});var Se=/^(?:input|select|textarea|button)$/i,Pe=/^(?:a|area)$/i;vt.fn.extend({prop:function(t,e){return Nt(this,vt.prop,t,e,arguments.length>1)},removeProp:function(t){return this.each(function(){delete this[vt.propFix[t]||t]})}}),vt.extend({prop:function(t,e,n){var i,o,r=t.nodeType;if(3!==r&&8!==r&&2!==r)return 1===r&&vt.isXMLDoc(t)||(e=vt.propFix[e]||e,o=vt.propHooks[e]),void 0!==n?o&&"set"in o&&void 0!==(i=o.set(t,n,e))?i:t[e]=n:o&&"get"in o&&null!==(i=o.get(t,e))?i:t[e]},propHooks:{tabIndex:{get:function(t){var e=vt.find.attr(t,"tabindex");return e?parseInt(e,10):Se.test(t.nodeName)||Pe.test(t.nodeName)&&t.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),mt.optSelected||(vt.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null},set:function(t){var e=t.parentNode;e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex)}}),vt.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){vt.propFix[this.toLowerCase()]=this}),vt.fn.extend({addClass:function(t){var e,n,i,o,r,s,a,u=0;if(vt.isFunction(t))return this.each(function(e){vt(this).addClass(t.call(this,e,Q(this)))});if("string"==typeof t&&t)for(e=t.match(It)||[];n=this[u++];)if(o=Q(n),i=1===n.nodeType&&" "+K(o)+" "){for(s=0;r=e[s++];)i.indexOf(" "+r+" ")<0&&(i+=r+" ");a=K(i),o!==a&&n.setAttribute("class",a)}return this},removeClass:function(t){var e,n,i,o,r,s,a,u=0;if(vt.isFunction(t))return this.each(function(e){vt(this).removeClass(t.call(this,e,Q(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof t&&t)for(e=t.match(It)||[];n=this[u++];)if(o=Q(n),i=1===n.nodeType&&" "+K(o)+" "){for(s=0;r=e[s++];)for(;i.indexOf(" "+r+" ")>-1;)i=i.replace(" "+r+" "," ");a=K(i),o!==a&&n.setAttribute("class",a)}return this},toggleClass:function(t,e){var n=typeof t;return"boolean"==typeof e&&"string"===n?e?this.addClass(t):this.removeClass(t):vt.isFunction(t)?this.each(function(n){vt(this).toggleClass(t.call(this,n,Q(this),e),e)}):this.each(function(){var e,i,o,r;if("string"===n)for(i=0,o=vt(this),r=t.match(It)||[];e=r[i++];)o.hasClass(e)?o.removeClass(e):o.addClass(e);else void 0!==t&&"boolean"!==n||(e=Q(this),e&&zt.set(this,"__className__",e),this.setAttribute&&this.setAttribute("class",e||!1===t?"":zt.get(this,"__className__")||""))})},hasClass:function(t){var e,n,i=0;for(e=" "+t+" ";n=this[i++];)if(1===n.nodeType&&(" "+K(Q(n))+" ").indexOf(e)>-1)return!0;return!1}});var ke=/\r/g;vt.fn.extend({val:function(t){var e,n,i,o=this[0];{if(arguments.length)return i=vt.isFunction(t),this.each(function(n){var o;1===this.nodeType&&(o=i?t.call(this,n,vt(this).val()):t,null==o?o="":"number"==typeof o?o+="":Array.isArray(o)&&(o=vt.map(o,function(t){return null==t?"":t+""})),(e=vt.valHooks[this.type]||vt.valHooks[this.nodeName.toLowerCase()])&&"set"in e&&void 0!==e.set(this,o,"value")||(this.value=o))});if(o)return(e=vt.valHooks[o.type]||vt.valHooks[o.nodeName.toLowerCase()])&&"get"in e&&void 0!==(n=e.get(o,"value"))?n:(n=o.value,"string"==typeof n?n.replace(ke,""):null==n?"":n)}}}),vt.extend({valHooks:{option:{get:function(t){var e=vt.find.attr(t,"value");return null!=e?e:K(vt.text(t))}},select:{get:function(t){var e,n,i,o=t.options,r=t.selectedIndex,s="select-one"===t.type,a=s?null:[],c=s?r+1:o.length;for(i=r<0?c:s?r:0;i<c;i++)if(n=o[i],(n.selected||i===r)&&!n.disabled&&(!n.parentNode.disabled||!u(n.parentNode,"optgroup"))){if(e=vt(n).val(),s)return e;a.push(e)}return a},set:function(t,e){for(var n,i,o=t.options,r=vt.makeArray(e),s=o.length;s--;)i=o[s],(i.selected=vt.inArray(vt.valHooks.option.get(i),r)>-1)&&(n=!0);return n||(t.selectedIndex=-1),r}}}}),vt.each(["radio","checkbox"],function(){vt.valHooks[this]={set:function(t,e){if(Array.isArray(e))return t.checked=vt.inArray(vt(t).val(),e)>-1}},mt.checkOn||(vt.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})});var Te=/^(?:focusinfocus|focusoutblur)$/;vt.extend(vt.event,{trigger:function(t,e,i,o){var r,s,a,u,c,h,l,f=[i||st],d=pt.call(t,"type")?t.type:t,p=pt.call(t,"namespace")?t.namespace.split("."):[];if(s=a=i=i||st,3!==i.nodeType&&8!==i.nodeType&&!Te.test(d+vt.event.triggered)&&(d.indexOf(".")>-1&&(p=d.split("."),d=p.shift(),p.sort()),c=d.indexOf(":")<0&&"on"+d,t=t[vt.expando]?t:new vt.Event(d,"object"==typeof t&&t),t.isTrigger=o?2:3,t.namespace=p.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=i),e=null==e?[t]:vt.makeArray(e,[t]),l=vt.event.special[d]||{},o||!l.trigger||!1!==l.trigger.apply(i,e))){if(!o&&!l.noBubble&&!vt.isWindow(i)){for(u=l.delegateType||d,Te.test(u+d)||(s=s.parentNode);s;s=s.parentNode)f.push(s),a=s;a===(i.ownerDocument||st)&&f.push(a.defaultView||a.parentWindow||n)}for(r=0;(s=f[r++])&&!t.isPropagationStopped();)t.type=r>1?u:l.bindType||d,h=(zt.get(s,"events")||{})[t.type]&&zt.get(s,"handle"),h&&h.apply(s,e),(h=c&&s[c])&&h.apply&&Rt(s)&&(t.result=h.apply(s,e),!1===t.result&&t.preventDefault());return t.type=d,o||t.isDefaultPrevented()||l._default&&!1!==l._default.apply(f.pop(),e)||!Rt(i)||c&&vt.isFunction(i[d])&&!vt.isWindow(i)&&(a=i[c],a&&(i[c]=null),vt.event.triggered=d,i[d](),vt.event.triggered=void 0,a&&(i[c]=a)),t.result}},simulate:function(t,e,n){var i=vt.extend(new vt.Event,n,{type:t,isSimulated:!0});vt.event.trigger(i,null,e)}}),vt.fn.extend({trigger:function(t,e){return this.each(function(){vt.event.trigger(t,e,this)})},triggerHandler:function(t,e){var n=this[0];if(n)return vt.event.trigger(t,e,n,!0)}}),vt.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(t,e){vt.fn[e]=function(t,n){return arguments.length>0?this.on(e,null,t,n):this.trigger(e)}}),vt.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}}),mt.focusin="onfocusin"in n,mt.focusin||vt.each({focus:"focusin",blur:"focusout"},function(t,e){var n=function(t){vt.event.simulate(e,t.target,vt.event.fix(t))};vt.event.special[e]={setup:function(){var i=this.ownerDocument||this,o=zt.access(i,e);o||i.addEventListener(t,n,!0),zt.access(i,e,(o||0)+1)},teardown:function(){var i=this.ownerDocument||this,o=zt.access(i,e)-1;o?zt.access(i,e,o):(i.removeEventListener(t,n,!0),zt.remove(i,e))}}});var Oe=n.location,Ee=vt.now(),Ae=/\?/;vt.parseXML=function(t){var e;if(!t||"string"!=typeof t)return null;try{e=(new n.DOMParser).parseFromString(t,"text/xml")}catch(t){e=void 0}return e&&!e.getElementsByTagName("parsererror").length||vt.error("Invalid XML: "+t),e};var je=/\[\]$/,Le=/\r?\n/g,De=/^(?:submit|button|image|reset|file)$/i,Ie=/^(?:input|select|textarea|keygen)/i;vt.param=function(t,e){var n,i=[],o=function(t,e){var n=vt.isFunction(e)?e():e;i[i.length]=encodeURIComponent(t)+"="+encodeURIComponent(null==n?"":n)};if(Array.isArray(t)||t.jquery&&!vt.isPlainObject(t))vt.each(t,function(){o(this.name,this.value)});else for(n in t)Z(n,t[n],e,o);return i.join("&")},vt.fn.extend({serialize:function(){return vt.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=vt.prop(this,"elements");return t?vt.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!vt(this).is(":disabled")&&Ie.test(this.nodeName)&&!De.test(t)&&(this.checked||!Gt.test(t))}).map(function(t,e){var n=vt(this).val();return null==n?null:Array.isArray(n)?vt.map(n,function(t){return{name:e.name,value:t.replace(Le,"\r\n")}}):{name:e.name,value:n.replace(Le,"\r\n")}}).get()}});var Fe=/%20/g,Me=/#.*$/,Ne=/([?&])_=[^&]*/,Re=/^(.*?):[ \t]*([^\r\n]*)$/gm,ze=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,We=/^(?:GET|HEAD)$/,qe=/^\/\//,He={},Be={},Je="*/".concat("*"),_e=st.createElement("a");_e.href=Oe.href,vt.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Oe.href,type:"GET",isLocal:ze.test(Oe.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Je,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":vt.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?nt(nt(t,vt.ajaxSettings),e):nt(vt.ajaxSettings,t)},ajaxPrefilter:tt(He),ajaxTransport:tt(Be),ajax:function(t,e){function i(t,e,i,a){var c,f,d,w,b,C=e;h||(h=!0,u&&n.clearTimeout(u),o=void 0,s=a||"",S.readyState=t>0?4:0,c=t>=200&&t<300||304===t,i&&(w=it(p,S,i)),w=ot(p,w,S,c),c?(p.ifModified&&(b=S.getResponseHeader("Last-Modified"),b&&(vt.lastModified[r]=b),(b=S.getResponseHeader("etag"))&&(vt.etag[r]=b)),204===t||"HEAD"===p.type?C="nocontent":304===t?C="notmodified":(C=w.state,f=w.data,d=w.error,c=!d)):(d=C,!t&&C||(C="error",t<0&&(t=0))),S.status=t,S.statusText=(e||C)+"",c?m.resolveWith(g,[f,C,S]):m.rejectWith(g,[S,C,d]),S.statusCode(x),x=void 0,l&&y.trigger(c?"ajaxSuccess":"ajaxError",[S,p,c?f:d]),v.fireWith(g,[S,C]),l&&(y.trigger("ajaxComplete",[S,p]),--vt.active||vt.event.trigger("ajaxStop")))}"object"==typeof t&&(e=t,t=void 0),e=e||{};var o,r,s,a,u,c,h,l,f,d,p=vt.ajaxSetup({},e),g=p.context||p,y=p.context&&(g.nodeType||g.jquery)?vt(g):vt.event,m=vt.Deferred(),v=vt.Callbacks("once memory"),x=p.statusCode||{},w={},b={},C="canceled",S={readyState:0,getResponseHeader:function(t){var e;if(h){if(!a)for(a={};e=Re.exec(s);)a[e[1].toLowerCase()]=e[2];e=a[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return h?s:null},setRequestHeader:function(t,e){return null==h&&(t=b[t.toLowerCase()]=b[t.toLowerCase()]||t,w[t]=e),this},overrideMimeType:function(t){return null==h&&(p.mimeType=t),this},statusCode:function(t){var e;if(t)if(h)S.always(t[S.status]);else for(e in t)x[e]=[x[e],t[e]];return this},abort:function(t){var e=t||C;return o&&o.abort(e),i(0,e),this}};if(m.promise(S),p.url=((t||p.url||Oe.href)+"").replace(qe,Oe.protocol+"//"),p.type=e.method||e.type||p.method||p.type,p.dataTypes=(p.dataType||"*").toLowerCase().match(It)||[""],null==p.crossDomain){c=st.createElement("a");try{c.href=p.url,c.href=c.href,p.crossDomain=_e.protocol+"//"+_e.host!=c.protocol+"//"+c.host}catch(t){p.crossDomain=!0}}if(p.data&&p.processData&&"string"!=typeof p.data&&(p.data=vt.param(p.data,p.traditional)),et(He,p,e,S),h)return S;l=vt.event&&p.global,l&&0==vt.active++&&vt.event.trigger("ajaxStart"),p.type=p.type.toUpperCase(),p.hasContent=!We.test(p.type),r=p.url.replace(Me,""),p.hasContent?p.data&&p.processData&&0===(p.contentType||"").indexOf("application/x-www-form-urlencoded")&&(p.data=p.data.replace(Fe,"+")):(d=p.url.slice(r.length),p.data&&(r+=(Ae.test(r)?"&":"?")+p.data,delete p.data),!1===p.cache&&(r=r.replace(Ne,"$1"),d=(Ae.test(r)?"&":"?")+"_="+Ee+++d),p.url=r+d),p.ifModified&&(vt.lastModified[r]&&S.setRequestHeader("If-Modified-Since",vt.lastModified[r]),vt.etag[r]&&S.setRequestHeader("If-None-Match",vt.etag[r])),(p.data&&p.hasContent&&!1!==p.contentType||e.contentType)&&S.setRequestHeader("Content-Type",p.contentType),S.setRequestHeader("Accept",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+("*"!==p.dataTypes[0]?", "+Je+"; q=0.01":""):p.accepts["*"]);for(f in p.headers)S.setRequestHeader(f,p.headers[f]);if(p.beforeSend&&(!1===p.beforeSend.call(g,S,p)||h))return S.abort();if(C="abort",v.add(p.complete),S.done(p.success),S.fail(p.error),o=et(Be,p,e,S)){if(S.readyState=1,l&&y.trigger("ajaxSend",[S,p]),h)return S;p.async&&p.timeout>0&&(u=n.setTimeout(function(){S.abort("timeout")},p.timeout));try{h=!1,o.send(w,i)}catch(t){if(h)throw t;i(-1,t)}}else i(-1,"No Transport");return S},getJSON:function(t,e,n){return vt.get(t,e,n,"json")},getScript:function(t,e){return vt.get(t,void 0,e,"script")}}),vt.each(["get","post"],function(t,e){vt[e]=function(t,n,i,o){return vt.isFunction(n)&&(o=o||i,i=n,n=void 0),vt.ajax(vt.extend({url:t,type:e,dataType:o,data:n,success:i},vt.isPlainObject(t)&&t))}}),vt._evalUrl=function(t){return vt.ajax({url:t,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,throws:!0})},vt.fn.extend({wrapAll:function(t){var e;return this[0]&&(vt.isFunction(t)&&(t=t.call(this[0])),e=vt(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t}).append(this)),this},wrapInner:function(t){return vt.isFunction(t)?this.each(function(e){vt(this).wrapInner(t.call(this,e))}):this.each(function(){var e=vt(this),n=e.contents();n.length?n.wrapAll(t):e.append(t)})},wrap:function(t){var e=vt.isFunction(t);return this.each(function(n){vt(this).wrapAll(e?t.call(this,n):t)})},unwrap:function(t){return this.parent(t).not("body").each(function(){vt(this).replaceWith(this.childNodes)}),this}}),vt.expr.pseudos.hidden=function(t){return!vt.expr.pseudos.visible(t)},vt.expr.pseudos.visible=function(t){return!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)},vt.ajaxSettings.xhr=function(){try{return new n.XMLHttpRequest}catch(t){}};var Ue={0:200,1223:204},Xe=vt.ajaxSettings.xhr();mt.cors=!!Xe&&"withCredentials"in Xe,mt.ajax=Xe=!!Xe,vt.ajaxTransport(function(t){var e,i;if(mt.cors||Xe&&!t.crossDomain)return{send:function(o,r){var s,a=t.xhr();if(a.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(s in t.xhrFields)a[s]=t.xhrFields[s];t.mimeType&&a.overrideMimeType&&a.overrideMimeType(t.mimeType),t.crossDomain||o["X-Requested-With"]||(o["X-Requested-With"]="XMLHttpRequest");for(s in o)a.setRequestHeader(s,o[s]);e=function(t){return function(){e&&(e=i=a.onload=a.onerror=a.onabort=a.onreadystatechange=null,"abort"===t?a.abort():"error"===t?"number"!=typeof a.status?r(0,"error"):r(a.status,a.statusText):r(Ue[a.status]||a.status,a.statusText,"text"!==(a.responseType||"text")||"string"!=typeof a.responseText?{binary:a.response}:{text:a.responseText},a.getAllResponseHeaders()))}},a.onload=e(),i=a.onerror=e("error"),void 0!==a.onabort?a.onabort=i:a.onreadystatechange=function(){4===a.readyState&&n.setTimeout(function(){e&&i()})},e=e("abort");try{a.send(t.hasContent&&t.data||null)}catch(t){if(e)throw t}},abort:function(){e&&e()}}}),vt.ajaxPrefilter(function(t){t.crossDomain&&(t.contents.script=!1)}),vt.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return vt.globalEval(t),t}}}),vt.ajaxPrefilter("script",function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")}),vt.ajaxTransport("script",function(t){if(t.crossDomain){var e,n;return{send:function(i,o){e=vt("<script>").prop({charset:t.scriptCharset,src:t.url}).on("load error",n=function(t){e.remove(),n=null,t&&o("error"===t.type?404:200,t.type)}),st.head.appendChild(e[0])},abort:function(){n&&n()}}}});var $e=[],Ge=/(=)\?(?=&|$)|\?\?/;vt.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=$e.pop()||vt.expando+"_"+Ee++;return this[t]=!0,t}}),vt.ajaxPrefilter("json jsonp",function(t,e,i){var o,r,s,a=!1!==t.jsonp&&(Ge.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Ge.test(t.data)&&"data");if(a||"jsonp"===t.dataTypes[0])return o=t.jsonpCallback=vt.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,a?t[a]=t[a].replace(Ge,"$1"+o):!1!==t.jsonp&&(t.url+=(Ae.test(t.url)?"&":"?")+t.jsonp+"="+o),t.converters["script json"]=function(){return s||vt.error(o+" was not called"),s[0]},t.dataTypes[0]="json",r=n[o],n[o]=function(){s=arguments},i.always(function(){void 0===r?vt(n).removeProp(o):n[o]=r,t[o]&&(t.jsonpCallback=e.jsonpCallback,$e.push(o)),s&&vt.isFunction(r)&&r(s[0]),s=r=void 0}),"script"}),mt.createHTMLDocument=function(){var t=st.implementation.createHTMLDocument("").body;return t.innerHTML="<form></form><form></form>",2===t.childNodes.length}(),vt.parseHTML=function(t,e,n){if("string"!=typeof t)return[];"boolean"==typeof e&&(n=e,e=!1);var i,o,r;return e||(mt.createHTMLDocument?(e=st.implementation.createHTMLDocument(""),i=e.createElement("base"),i.href=st.location.href,e.head.appendChild(i)):e=st),o=Ot.exec(t),r=!n&&[],o?[e.createElement(o[1])]:(o=P([t],e,r),r&&r.length&&vt(r).remove(),vt.merge([],o.childNodes))},vt.fn.load=function(t,e,n){var i,o,r,s=this,a=t.indexOf(" ");return a>-1&&(i=K(t.slice(a)),t=t.slice(0,a)),vt.isFunction(e)?(n=e,e=void 0):e&&"object"==typeof e&&(o="POST"),s.length>0&&vt.ajax({url:t,type:o||"GET",dataType:"html",data:e}).done(function(t){r=arguments,s.html(i?vt("<div>").append(vt.parseHTML(t)).find(i):t)}).always(n&&function(t,e){s.each(function(){n.apply(this,r||[t.responseText,e,t])})}),this},vt.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){vt.fn[e]=function(t){return this.on(e,t)}}),vt.expr.pseudos.animated=function(t){return vt.grep(vt.timers,function(e){return t===e.elem}).length},vt.offset={setOffset:function(t,e,n){var i,o,r,s,a,u,c,h=vt.css(t,"position"),l=vt(t),f={};"static"===h&&(t.style.position="relative"),a=l.offset(),r=vt.css(t,"top"),u=vt.css(t,"left"),c=("absolute"===h||"fixed"===h)&&(r+u).indexOf("auto")>-1,c?(i=l.position(),s=i.top,o=i.left):(s=parseFloat(r)||0,o=parseFloat(u)||0),vt.isFunction(e)&&(e=e.call(t,n,vt.extend({},a))),null!=e.top&&(f.top=e.top-a.top+s),null!=e.left&&(f.left=e.left-a.left+o),"using"in e?e.using.call(t,f):l.css(f)}},vt.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){vt.offset.setOffset(this,t,e)});var e,n,i,o,r=this[0];if(r)return r.getClientRects().length?(i=r.getBoundingClientRect(),e=r.ownerDocument,n=e.documentElement,o=e.defaultView,{top:i.top+o.pageYOffset-n.clientTop,left:i.left+o.pageXOffset-n.clientLeft}):{top:0,left:0}},position:function(){if(this[0]){var t,e,n=this[0],i={top:0,left:0};return"fixed"===vt.css(n,"position")?e=n.getBoundingClientRect():(t=this.offsetParent(),e=this.offset(),u(t[0],"html")||(i=t.offset()),i={top:i.top+vt.css(t[0],"borderTopWidth",!0),left:i.left+vt.css(t[0],"borderLeftWidth",!0)}),{top:e.top-i.top-vt.css(n,"marginTop",!0),left:e.left-i.left-vt.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent;t&&"static"===vt.css(t,"position");)t=t.offsetParent;return t||Zt})}}),vt.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,e){var n="pageYOffset"===e;vt.fn[t]=function(i){return Nt(this,function(t,i,o){var r;if(vt.isWindow(t)?r=t:9===t.nodeType&&(r=t.defaultView),void 0===o)return r?r[e]:t[i];r?r.scrollTo(n?r.pageXOffset:o,n?o:r.pageYOffset):t[i]=o},t,i,arguments.length)}}),vt.each(["top","left"],function(t,e){vt.cssHooks[e]=R(mt.pixelPosition,function(t,n){if(n)return n=N(t,e),ce.test(n)?vt(t).position()[e]+"px":n})}),vt.each({Height:"height",Width:"width"},function(t,e){vt.each({padding:"inner"+t,content:e,"":"outer"+t},function(n,i){vt.fn[i]=function(o,r){var s=arguments.length&&(n||"boolean"!=typeof o),a=n||(!0===o||!0===r?"margin":"border");return Nt(this,function(e,n,o){var r;return vt.isWindow(e)?0===i.indexOf("outer")?e["inner"+t]:e.document.documentElement["client"+t]:9===e.nodeType?(r=e.documentElement,Math.max(e.body["scroll"+t],r["scroll"+t],e.body["offset"+t],r["offset"+t],r["client"+t])):void 0===o?vt.css(e,n,a):vt.style(e,n,o,a)},e,s?o:void 0,s)}})}),vt.fn.extend({bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,n,i){return this.on(e,t,n,i)},undelegate:function(t,e,n){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",n)}}),vt.holdReady=function(t){t?vt.readyWait++:vt.ready(!0)},vt.isArray=Array.isArray,vt.parseJSON=JSON.parse,vt.nodeName=u,i=[],void 0!==(o=function(){return vt}.apply(e,i))&&(t.exports=o);var Ye=n.jQuery,Ve=n.$;return vt.noConflict=function(t){return n.$===vt&&(n.$=Ve),t&&n.jQuery===vt&&(n.jQuery=Ye),vt},r||(n.jQuery=n.$=vt),vt})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.progress=void 0;var i=n(0),o=n(2),r={isLoaded:!1,percent:0,_percent:0,speed:0,draw:function(){if(!this.isLoaded){if(100===parseInt(this.percent))return this.isLoaded=!0,void o.events.emit("progress");var t=i.game.getWH(),e=i.resources.getProgress();e!==this._percent&&(this.speed=0,this._percent=e),this.percent<e&&(this.percent+=this.speed+=.009),this.percent>e&&(this.percent=e);var n=parseInt(this.percent)+"%";i.brush.drawRect({x:0,y:t.h-20,h:20,w:t.w,fillColor:"#2e2e2e"}),i.brush.drawRect({x:0,y:t.h-20,h:20,w:t.w/100*this.percent,fillColor:"#48598f"}),i.brush.drawText({x:(t.w-i.OOP.getTextWidth({text:n}))/2,y:t.h-16,color:"#ffffff",text:n})}}};e.progress=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.connection=void 0;var i=n(0),o=(n(1),{x:0,y:0,w:0,h:0,radius:130,containers:[],spheres:[],wrapper:i.game.newRoundRectObject({x:0,y:0,w:0,h:0}),text:i.game.newTextObject({x:0,y:0,text:"Подключение к серверу",color:"#ffffff",size:15}),color:"#ffffff",entry:function(){var t=this;i.OOP.forInt(10,function(e){t.containers.push(i.game.newRectObject({x:0,y:0,w:50,h:50})),t.spheres.push(i.game.newCircleObject({x:0,y:0,radius:e+2,fillColor:"#ffffff",userData:{isReduce:!1,isActive:!1}})),t.spheres[0].isActive=!0})},draw:function(){var t=this,e=i.game.getWH();this.wrapper.w=50*this.containers.length,this.wrapper.h=50,this.wrapper.x=(i.game.size.w-this.wrapper.w)/2,this.wrapper.y=(i.game.size.h-this.wrapper.h)/2,i.OOP.forArr(this.containers,function(n,o){var r=t.spheres[o];n.circling((0,i.point)(e.w/2,e.h/2),t.radius,o+1),0===o&&0===r.radius&&!0===r.isActive&&(t.color=i.colors.randomColor(100,255),t.text.color=t.color),r.isActive&&(r.radius-=r.isReduce?1:-1,(r.radius<1||r.radius>10)&&(r.isReduce=!r.isReduce,r.isActive=!1,t.spheres[o===t.spheres.length-1?0:o+1].isActive=!0)),r.setPosition((0,i.point)(n.x+n.w/2,n.y+n.h/2)),r.x-=r.radius,r.y-=r.radius,r.fillColor=t.color,n.draw(),r.draw()}),this.wrapper.draw(),this.text.setPosition((0,i.point)((e.w-i.OOP.getTextWidth(this.text)+60)/2,(e.h-this.text.size+60)/2)),this.text.draw(),this.x=e.w/2-this.radius,this.y=e.h/2-this.radius,this.w=2*this.radius+50,this.h=2*this.radius+50}});e.connection=o},function(t,e,n){"use strict";var i=n(0);n(8);var o=n(13);o.keys().forEach(function(t){return o(t)}),i.OOP.forInt(30,function(t){i.resources.addObject("image","background-"+t,n(20)("./"+t+".jpg"))}),i.OOP.forArr(i.resources.processing,function(t){switch(t.type){case"image":i.resources.loaded[t.name]=i.game.newImageObject({file:t.source});break;case"sound":i.resources.loaded[t.name]=audio.newAudio(t.source,.5)}}),i.game.startLoop("main")},function(t,e,n){"use strict";function i(t,e,n,i){this._logo="http://pointjs.ru/PjsMin.png";var r=window,s=this,a=!0,u=!0,c=!0,h=!1,l=!0,f=t,d=e,p=f/2,g=d/2,y={x:0,y:0},m={fillStyle:"black",strokeStyle:"black",globalAlpha:1,font:"sans-serif",textBaseline:"top"},v=function(t){console.log("[PointJS] : ",t)};"undefined"!=typeof POINTJS_USER_LOG&&(v=POINTJS_USER_LOG);var x=function(t){var e=decodeURI(t.stack.toString().replace(/(@|[\(\)]|[\w]+:\/\/)/g,""));e=e.split(/\n/),e=(""==e[2]?e[0]:e[1]).split("/"),e=e[e.length-1].split(":"),v('ERROR "'+t.toString()+'" \n in      '+e[0]+" \n line :   "+e[1]+" \n symbol : "+e[2])};this.game={},this.levels={},this.camera={},this.keyControl={},this.mouseControl={},this.touchControl={},this.actionControl={},this.system={},this.vector={},this.math={},this.layers={},this.colors={},this.brush={},this.audio={},this.wAudio={},this.resources={},this.tiles={},this.OOP={},this.memory={},this.zList={},this.filters={},this.system.log=v,this.system.consoleLog=function(t){this.log=!0===t?console.log:v},this.system.setTitle=function(t){r.document.title=t},this.system.setSettings=function(t){a=!$t(t.isShowError)||t.isShowError,u=!$t(t.isStopForError)||t.isStopForError,c=!!$t(t.isAutoClear)&&t.isAutoClear,$t(t.isZBuffer)},this.system.setDefaultSettings=function(t){for(var e in t)m[e]=t[e];q.save()},this.system.setSmoothing=function(t){l=t,q.msImageSmoothingEnabled=l,q.imageSmoothingEnabled=l};var w={name:"PointJS",desc:"HTML5 Game Engine for JavaScript",author:"Skaner (skaner0@yandex.ru)",version:"0.2.1.0"};this.system.getInfo=function(){return w};var b=function(t,e){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},C=function(t,e,n){this.x=t||0,this.y=e||0,this.z=n||0};C.prototype={abs:function(){return new C(Math.abs(this.x),Math.abs(this.y),Math.abs(this.z))},invert:function(){return new C(-this.x,-this.y,-this.z)},plus:function(t){return new C(this.x+t.x,this.y+t.y,this.z+t.z)},minus:function(t){return new C(this.x-t.x,this.y-t.y,this.z-t.z)},inc:function(t){return new C(this.x*t.x,this.y*t.y,this.z*t.z)},div:function(t){return new C(this.x/t.x,this.y/t.y,this.z/t.z)}};var S=function(t,e,n){return new C(t,e,n)},P=function(t,e,n){return{w:t,h:e,d:n}},k=function(t,e){return{x:t.x+e.x,y:t.y+e.y,z:t.z+e.z}},T=function(t,e,n){if(0!=n){var i=L(n);n=t.x-e.x,t=t.y-e.y;var o=Math.cos(i);return i=Math.sin(i),S(n*o-t*i+e.x,n*i+t*o+e.y)}return S(t.x,t.y)},O=function(t,e){return 180/Math.PI*Math.atan2(e.y-t.y,e.x-t.x)},E=function(t,e){var n,i=0,o=0,r=e.length;for(n=e.length-1;o<r;n=o++)e[o].y>t.y!=e[n].y>t.y&&t.x<(e[n].x-e[o].x)*(t.y-e[o].y)/(e[n].y-e[o].y)+e[o].x&&(i=!i);return i};this.vector.point=S,this.vector.v2d=S,this.vector.size=P,this.vector.getPointAngle=T,this.vector.isPointIn=E,this.vector.pointMinus=function(t,e){return{x:t.x-e.x,y:t.y-e.y,z:t.z-e.z}},this.vector.pointPlus=k,this.vector.pointInc=function(t,e){return{x:t.x*e.x,y:t.y*e.y,z:t.z*e.z}},this.vector.pointDiv=function(t,e){return{x:t.x/(0!=e.x?e.x:1),y:t.y/(0!=e.y?e.y:1),z:t.z/(0!=e.z?e.z:1)}},this.vector.pointAbs=function(t){return{x:Math.abs(t.x),y:Math.abs(t.y),z:Math.abs(t.z)}},this.vector.getMidPoint=function(t,e){return $t(e)?S((t.x+e.x)/2,(t.y+e.y)/2):0},this.vector.getDistance=function(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))},this.vector.isSame=function(t,e){return!!$t(e)&&(t.x==e.x&&t.y==e.y)},this.vector.getAngle2Points=O,this.vector.newStaticBox=function(t,e,n,i){return{x:t,y:e,w:t+n,h:e+i}},this.vector.newDynamicBoxRect=function(t,e,n,i){return[S(t,e),S(t+n,e),S(t+n,e+i),S(t,e+i)]},this.vector.moveCollision=function(t,e,n,i,o){for(var r,s=S(n.x,n.y),a=0,u=e.length;a<u;a+=1)if(r=e[a],!o||r.isInCameraStatic()){var c=r.getStaticBox();if(t.isIntersect(r)){var h=t.getStaticBox(),l=Math.abs(n.x),f=Math.abs(n.y);h.x+h.w>c.x+10+l&&h.x<c.x+c.w-10-l&&(0<n.y&&h.y+h.h<c.y+c.h/2+f?s.y=0:0>n.y&&h.y>c.y+c.h-c.h/2-f&&(s.y=0)),h.y+h.h>c.y+10+f&&h.y<c.y+c.h-10-f&&(0<n.x&&h.x+h.w<c.x+c.w/2+l?s.x=0:0>n.x&&h.x>c.x+c.w-c.w/2-l&&(s.x=0)),i&&i(t,r)}}return t.move(s),s},this.vector.moveCollisionAngle=function(t,e,n,i,o,r){var s=S();o=math.a2r(OOP.isDef(o)?o:t.angle),s.x=n*Math.cos(o),s.y=n*Math.sin(o),n=0,o=e.length;for(var a;n<o;n+=1)if(a=e[n],!r||a.isInCamera()){var u=a.getStaticBox();if(t.isIntersect(a)){var c=t.getStaticBox(),h=Math.abs(s.x),l=Math.abs(s.y);c.x+c.w>u.x+10+h&&c.x<u.x+u.w-10-h&&(0<s.y&&c.y+c.h<u.y+u.h/2+l?s.y=0:0>s.y&&c.y>u.y+u.h-u.h/2-l&&(s.y=0)),c.y+c.h>u.y+10+l&&c.y<u.y+u.h-10-l&&(0<s.x&&c.x+c.w<u.x+u.w/2+h?s.x=0:0>s.x&&c.x>u.x+u.w-u.w/2-h&&(s.x=0)),i&&i(t,a)}}return t.move(s),s};var A={},j=function t(){var e=(new Date).getTime();return A[e]&&(e=t()),A[e]=!0,e},L=function(t){return Math.PI/180*t},D=function t(e,n,i){var o=Math.floor(Math.random()*(n-e+1)+e);return i&&0==o?t(e,n,i):o},I=function(t){return 0>t?-1:1};this.math.limit=function(t,e){var n=I(t);return t=Math.abs(t),e=Math.abs(e),t<e?t*n:e*n},this.math.sign=I,this.math.a2r=L,this.math.random=D,this.math.toInt=function(t){return t>>0},this.math.uid=j,this.math.toZiro=function(t,e){if(0==t)return 0;var n=I(t);return e=Math.abs(e),t=Math.abs(t),0<t&&(t-=e)<e?0:t*n};var F=function(t,e){return t||(e||!1)},M=[],N=function(t,e){var n;this.canvas=n=r.document.createElement("canvas");var i=n.style,o=B.style;i.position="fixed",i.top=o.top,i.left=o.left,n.width=B.width,n.height=B.height,i.width=o.width,i.height=o.height,i.zIndex=o.zIndex+t,e&&(i.opacity=F(e.alpha,1),i.backgroundColor=F(e.backgroundColor,"transparent")),W.attach(n),(this.context=n.getContext("2d")).textBaseline=m.textBaseline,this.isAutoClear=!0,this.clear=function(){this.context.clearRect(0,0,f,d)},this.on=function(t){q=this.context,this.isAutoClear&&this.clear(),t(this),q=H},this.setVisible=function(t){this.canvas.style=t?"block":"none"},M.push(this)},R=function(){Vt(M,function(t){t.canvas.width=f,t.canvas.height=d,t.canvas.style.width=B.style.width,t.canvas.style.height=B.style.height,t.context.textBaseline=m.textBaseline})};this.layers.newLayer=function(t,e){return new N(t,e)};var z=0,W={loaded:!1,events:{onload:[],preLoop:[],postLoop:[],gameBlur:[],gameFocus:[],gameResize:[]},addEvent:function(t,e,n){"onload"==t&&W.loaded?n():W.events[t].push({id:e,func:n})},delEvent:function(t,e){Vt(W.events[t],function(t,n,i){t.id==e&&i.splice(n,1)})},runEvent:function(t){Vt(W.events[t],function(t){"function"==typeof t.func&&t.func()})},attach:function(t){var e=function(){r.document.body.appendChild(t)};W.loaded?e():W.addEvent("onload","attachElement_PointJS"+(z+=1),e)},remove:function(t){var e=function(){r.document.body.removeChild(t)};W.loaded?e():W.addEvent("onload","attachElement_PointJS"+(z+=1),e)},getWH:function(){return{w:parseInt(r.document.documentElement.clientWidth||r.innerWidth||r.document.body.clientWidth),h:parseInt(r.document.documentElement.clientHeight||r.innerHeight||r.document.body.clientHeight)}}};this.system.delEvent=function(t,e){W.delEvent(t,e)},this.system.addEvent=function(t,e,n){W.addEvent(t,e,n)},this.system.removeDOM=function(t){W.remove(t)},this.system.attachDOM=function(t){W.attach(t)},this.system.newDOM=function(t,e){var n=r.document.createElement(t);if(n.style.position="fixed",n.style.left=0,n.style.top=0,n.style.zIndex=_.style.zIndex+1,n.style.border="none",e){var i=function(t){t.stopPropagation()};n.addEventListener("touchstart",i,!1),n.addEventListener("touchend",i,!1),n.addEventListener("touchmove",i,!1),n.addEventListener("mousedown",i,!1),n.addEventListener("mousepress",i,!1),n.addEventListener("mouseup",i,!1),n.addEventListener("mousemove",i,!1),n.addEventListener("keypress",i,!1),n.addEventListener("keydown",i,!1),n.addEventListener("keyup",i,!1),n.addEventListener("click",i,!1),n.addEventListener("wheel",i,!1),n.addEventListener("mousewheel",i,!1),n.addEventListener("contextmenu",i,!1),n.addEventListener("selectstart",i,!1),n.addEventListener("dragstart",i,!1),n.addEventListener("DOMMouseScroll",i,!1)}return W.attach(n),n};var q=null,H=null,B=r.document.createElement("canvas");if(H=q=B.getContext("2d"),q.textBaseline=m.textBaseline,B.crossOrigin="anonymous",B.width=parseInt(t),B.height=parseInt(e),B.style.position="fixed",B.style.left=0,B.style.top=0,B.style.zIndex=1e4,B.id="PointJS-canvas_0","object"==(void 0===n?"undefined":o(n)))for(var J in n)J.match(/margin|padding|position/)||(B.style[J]=n[J]);W.addEvent("onload","Window_Hide_Scroll",function(){r.document.body.style.overflow="hidden",U={x:parseInt(B.style.left),y:parseInt(B.style.top)}});var _=r.document.createElement("div");!function(){var t=_.style;t.position="fixed",t.top=t.left=0,t.width=t.height="100%",t.zIndex=2e4}(),W.attach(_);var U=S(0,0);W.attach(B),this.system.setStyle=function(t){if("object"==(void 0===t?"undefined":o(t)))for(var e in t)B.style[e]=t[e]},this.system.getCanvas=function(){return B},this.system.getContext=function(){return q},this.system.resize=function(n,i){f=n||t,d=i||e,p=f/2,g=d/2,B.width=f,B.height=d},this.system.initFullPage=function(){W.addEvent("gameResize","PointJS_resizeGame",function(){f=W.getWH().w,d=W.getWH().h,p=f/2,g=d/2,B.width=f,B.height=d,q.textBaseline=m.textBaseline,R()}),W.runEvent("gameResize","PointJS_resizeGame")};var X=!1,$=function(){X||(this.requestFullscreen?(this.requestFullscreen(),X=!0):this.mozRequestFullScreen?(this.mozRequestFullScreen(),X=!0):this.webkitRequestFullscreen&&(this.webkitRequestFullscreen(),X=!0),f=W.getWH().w,d=W.getWH().h,p=f/2,g=d/2,B.width=f,B.height=d,R())},G=function(t){X=Gt(r.document.fullscreenElement||r.document.mozFullScreenElement||r.document.webkitFullscreenElement)};r.document.addEventListener("webkitfullscreenchange",G),r.document.addEventListener("mozfullscreenchange",G),r.document.addEventListener("fullscreenchange",G),this.system.initFullScreen=function(){X||(r.document.documentElement.onclick=$,V||(W.addEvent("gameResize","PointJS_initFullScreen",function(){f=W.getWH().w,d=W.getWH().h,p=f/2,g=d/2,B.width=f,B.height=d,q.textBaseline=m.textBaseline,R()}),W.runEvent("gameResize","PointJS_initFullScreen")))},this.system.exitFullScreen=function(){X&&(W.delEvent("gameResize","PointJS_initFullScreen"),r.document.exitFullscreen?(r.document.exitFullscreen(),X=!1):r.document.mozCancelFullScreen?(r.document.mozCancelFullScreen(),X=!1):r.document.webkitExitFullscreen&&(r.document.webkitExitFullscreen(),X=!1),f=t,d=e,p=f/2,g=d/2,B.width=f,B.height=d,R(),r.document.documentElement.onclick=function(){})},this.system.isFullScreen=function(){return X},this.system.exitFullPage=function(){W.delEvent("gameResize","PointJS_resizeGame"),f=t,d=e,p=f/2,g=d/2,B.width=f,B.height=d,R()};var Y=!1,V=!1,K=t,Q=e,Z=!1;this.system.initFullScale=function(t){V||(t&&(Z=!0),W.addEvent("gameResize","PointJS_initFullScale",function(){var t=K,e=Q,n=W.getWH();Z?(t=n.w,e=n.h):n.w<n.h?(e=n.w/f,t=n.w,e*=d):n.h<n.w&&(t=n.h/d,e=n.h,t*=f),K=t,Q=e,Y={w:t/f,h:e/d},B.style.width=t+"px",B.style.height=e+"px",R()}),W.runEvent("gameResize","PointJS_initFullScale"),V=!0)},this.system.exitFullScale=function(){V&&(V=!1,W.delEvent("gameResize","PointJS_initFullScale"),B.style.width=t+"px",B.style.height=e+"px")},this.system.getWH=function(){return W.getWH()};var tt=!1;this.actionControl.initActionControl=function(){return s.touchControl.isTouchSupported()&&(tt=!0,s.touchControl.initTouchControl()),s.mouseControl.initMouseControl(),this},this.actionControl.isPress=function(){return tt?s.touchControl.isPress():s.mouseControl.isPress("LEFT")},this.actionControl.isDown=function(){return tt?s.touchControl.isDown():s.mouseControl.isDown("LEFT")},this.actionControl.isUp=function(){return tt?s.touchControl.isUp():s.mouseControl.isUp("LEFT")},this.actionControl.isInObject=function(t){return tt?s.touchControl.isInObject(t):s.mouseControl.isInObject(t)},this.actionControl.isInStatic=function(t){return tt?s.touchControl.isInStatic(t):s.mouseControl.isInStatic(t)},this.actionControl.isInDynamic=function(t){return tt?s.touchControl.isInDynamic(t):s.mouseControl.isInDynamic(t)},this.actionControl.isPeekObject=function(t){return tt?s.touchControl.isPeekObject(t):s.mouseControl.isPeekObject("LEFT",t)},this.actionControl.isPeekStatic=function(t){return tt?s.touchControl.isPeekStatic(t):s.mouseControl.isPeekStatic("LEFT",t)},this.actionControl.isPeekDynamic=function(t){return tt?s.touchControl.isPeekDynamic(t):s.mouseControl.isPeekDynamic("LEFT",t)},this.actionControl.getPosition=function(t){return tt?s.touchControl.getPosition():s.mouseControl.getPosition()},this.actionControl.getPositionS=function(t){return tt?s.touchControl.getPositionS():s.mouseControl.getPositionS()},this.actionControl.getMouse=function(){return s.mouseControl},this.actionControl.getTouch=function(){return!!tt&&s.touchControl},this.actionControl.getActiveControl=function(){return tt?s.touchControl:s.mouseControl},this.actionControl.getActiveControlName=function(){return tt?"touchControl":"mouseControl"},this.actionControl.getSpeed=function(){if(!tt)return s.mouseControl.getSpeed()||s.touchControl.getSpeed()};var et=!1,nt={LEFT:37,RIGHT:39,UP:38,DOWN:40,SPACE:32,CTRL:17,SHIFT:16,ALT:18,ESC:27,ENTER:13,MINUS:189,PLUS:187,CAPS_LOCK:20,BACKSPACE:8,TAB:9,Q:81,W:87,E:69,R:82,T:84,Y:89,U:85,I:73,O:79,P:80,A:65,S:83,D:68,F:70,G:71,H:72,J:74,K:75,L:76,Z:90,X:88,V:86,B:66,N:78,M:77,0:48,1:49,2:50,3:51,4:52,5:53,6:54,7:55,8:56,C:67,9:57,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123},it={37:"LEFT",39:"RIGHT",38:"UP",40:"DOWN",32:"SPACE",17:"CTRL",16:"SHIFT",18:"ALT",27:"ESC",13:"ENTER",189:"MINUS",187:"PLUS",20:"CAPS_LOCK",8:"BACKSPACE",9:"TAB",81:"Q",87:"W",69:"E",82:"R",84:"T",89:"Y",85:"U",73:"I",79:"O",80:"P",65:"A",83:"S",68:"D",70:"F",71:"G",72:"H",74:"J",75:"K",76:"L",90:"Z",88:"X",86:"V",66:"B",78:"N",77:"M",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",67:"C",57:"9",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12"},ot={8:!0,9:!0,13:!0,18:!0,16:!0,17:!0,27:!0,112:!0,113:!0,114:!0,115:!0,116:!0,117:!0,118:!0,119:!0,120:!0,121:!0,122:!0,123:!0};this.keyControl.getKeyList=function(){var t,e=[];for(t in nt)e.push(t);return e};var rt={},st={},at={},ut=!1,ct=!1,ht=!1,lt=!1,ft=function(t){Yt(at,function(t,e,n){1==t&&(n[e]=2)})};this.keyControl.getCountKeysDown=function(){var t=0;return Yt(rt,function(e,n){e&&t++}),t},this.keyControl.getAllKeysDown=function(){var t=[];return Yt(rt,function(e,n){e&&t.push(it[n])}),t},this.keyControl.getLastKeyPress=function(){return!!lt&&it[lt]},this.keyControl.isDown=function(t){return 1==rt[nt[t]]},this.keyControl.isUp=function(t){return 1==st[nt[t]]},this.keyControl.isPress=function(t){return 1==at[nt[t]]},this.keyControl.getInputChar=function(){return ut},this.keyControl.getInputKey=function(){return it[ct]},this.keyControl.setInputMode=function(t){ht=t},this.keyControl.isInputMode=function(){return ht},this.keyControl.exitKeyControl=function(){r.onkeydown=function(){},r.onkeypress=function(){},r.onkeyup=function(){},pe.clear("key:down"),pe.clear("key:press"),pe.clear("key:up"),W.delEvent("postLoop","PointJS_clearAllKeyUp"),W.delEvent("preLoop","PointJS_KeyDownEvent"),rt={},st={},at={},et=ht=ct=ut=!1},this.keyControl.initControl=this.keyControl.initKeyControl=function(){return et?this:(et=!0,r.onkeydown=function(t){return ht?(ct=t.keyCode,!ot[t.keyCode]||(t.preventDefault(),!1)):(t.preventDefault(),2!=at[t.keyCode]&&(at[t.keyCode]=1,lt=t.keyCode,pe.run("key:press",it[t.keyCode])),rt[t.keyCode]=!0,!1)},r.onkeypress=function(t){var e=!1;0!=t.which&&0!=t.charCode&&32<=t.which&&(e=String.fromCharCode(t.which)),ut=e},r.onkeyup=function(t){return t.preventDefault(),1==rt[t.keyCode]&&(st[t.keyCode]=!0),rt[t.keyCode]=!1,pe.run("key:up",it[t.keyCode]),delete at[t.keyCode],delete rt[t.keyCode],!1},W.addEvent("postLoop","PointJS_clearAllKeyUp",function(){st={},ft(),lt=ct=ut=!1}),W.addEvent("preLoop","PointJS_KeyDownEvent",function(){pe.isEvent("key:down")&&Yt(rt,function(t,e){t&&pe.run("key:down",it[e])})}),this)};var dt=!1,pt=S(0,0),gt=S(0,0);S(0,0);var yt=!0,mt="",vt=!1,xt=S(0,0),wt=!1,bt={LEFT:1,RIGHT:3,MIDDLE:2},Ct={1:"LEFT",3:"RIGHT",2:"MIDDLE"},St=!1,Pt={},kt={},Tt={},Ot=0,Et=function(){Pt={},kt={},Tt={},Ot=0,wt=!1},At=function(){Yt(Tt,function(t,e,n){1==t&&(n[e]=2)})},jt=function(t){var e=0,n=0;return t&&(e=y.x,n=y.y),S(e+pt.x,n+pt.y)};this.mouseControl.getPosition=function(){return jt(1)},this.mouseControl.getPositionS=function(){return jt()},this.mouseControl.setCursorImage=function(t){t="url('"+t+"'), auto",mt!=t&&(mt=t,r.document.body.style.cursor=mt)},this.mouseControl.setVisible=function(t){!yt&&!t||yt&&t||(yt=1==t,r.document.body.style.cursor=yt?mt:"none")},this.mouseControl.isVisible=function(){return yt},this.mouseControl.isDown=function(t){return Pt[bt[t]]},this.mouseControl.isUp=function(t){return kt[bt[t]]},this.mouseControl.isPress=function(t){return 1==Tt[bt[t]]},this.mouseControl.isMove=function(){return wt},this.mouseControl.isInStatic=function(t){var e=jt(1);return e.x>=t.x&&e.x<=t.x+t.w&&e.y>=t.y&&e.y<=t.y+t.h},this.mouseControl.isInDynamic=function(t){return E(jt(1),t)},this.mouseControl.isInObject=function(t){return!!t.visible&&(t.angle?this.isInDynamic(t.getDynamicBox()):this.isInStatic(t.getStaticBox()))},this.mouseControl.isWheel=function(t){return"UP"==t&&0<Ot||"DOWN"==t&&0>Ot};var Lt=function(t){return t.preventDefault(),Ot=t.wheelDelta?t.wheelDelta:-t.detail,pe.run("mouse:wheel",0>Ot?"DOWN":"UP"),!1},Dt=!1,It=function(){Dt&&(vt=!(!$t(r.document.pointerLockElement)&&!$t(r.document.mozPointerLockElement)))};this.mouseControl.initMouseLock=function(){W.addEvent("onload","initPointerLock",function(){if(Dt=_.requestPointerLock||_.mozRequestPointerLock||!1,r.document.exitPointerLock=r.document.exitPointerLock||r.document.mozExitPointerLock||!1,"onpointerlockchange"in r.document?r.document.addEventListener("pointerlockchange",It,!1):"onmozpointerlockchange"in r.document&&r.document.addEventListener("mozpointerlockchange",It,!1),!Dt)return v("error in initMouseLock : not supported");vt||(_.onclick=Dt)})},this.mouseControl.exitMouseLock=function(){r.document.exitPointerLock(),_.onclick=function(){},xt=S(0,0)},this.mouseControl.unlockMouse=function(){xt=S(0,0),r.document.exitPointerLock()},this.mouseControl.isMouseLock=function(){return vt},this.mouseControl.getSpeed=function(){return S(xt.x,xt.y)},this.mouseControl.isPeekStatic=function(t,e){return!!this.isPress(t)&&this.isInStatic(e)},this.mouseControl.isPeekDynamic=function(t,e){return!!this.isPress(t)&&this.isInDynamic(e)},this.mouseControl.isPeekObject=function(t,e){return!(!this.isPress(t)||!e.visible)&&this.isInDynamic(e.getDynamicBox())},this.mouseControl.initControl=this.mouseControl.initMouseControl=function(){return dt?this:(dt=!0,r.onmousemove=function(t){if(t.preventDefault(),t.stopPropagation(),vt){var e=t.movementY||t.mozMovementY||0;pt.x+=t.movementX||t.mozMovementX||0,pt.y+=e}else pt.x=t.pageX-U.x,pt.y=t.pageY-U.y,Y&&(pt.x/=Y.w,pt.y/=Y.h);return xt.x=pt.x-gt.x,xt.y=pt.y-gt.y,gt.x=pt.x,gt.y=pt.y,pe.run("mouse:move"),wt=!0,!1},r.onmousedown=function(t){t.preventDefault(),t.stopPropagation(),!t.which&&t.button&&(1&t.button?t.which=1:4&t.button?t.which=2:2&t.button&&(t.which=3)),pe.run("mouse:press",Ct[t.which]),St=Ct[t.which],Pt[t.which]=!0,Tt[t.which]=1},r.onmouseup=function(t){t.preventDefault(),t.stopPropagation(),!t.which&&t.button&&(1&t.button?t.which=1:4&t.button?t.which=2:2&t.button&&(t.which=3)),pe.run("mouse:up",Ct[t.which]),St=!1,Pt[t.which]=!1,kt[t.which]=!0,delete Tt[t.which]},r.oncontextmenu=r.onselectstart=r.ondragstart=function(){return!1},r.onmousewheel=Lt,r.addEventListener("DOMMouseScroll",Lt,!1),W.addEvent("preLoop","PointJS_MouseEventDown",function(){St&&pe.run("mouse:down",St)}),W.addEvent("postLoop","PointJS_clearAllMouseUp",function(){kt={},At(),Ot=0,wt=!1,xt=S(0,0)}),this)},this.mouseControl.exitMouseControl=function(){pe.clear("mouse:press"),pe.clear("mouse:down"),pe.clear("mouse:up"),pe.clear("mouse:move"),pe.clear("mouse:wheel"),r.onmousemove=r.onmousedown=r.onmouseup=r.oncontextmenu=r.onselectstart=r.ondragstart=r.onmousewheel=function(){},W.delEvent("postLoop","PointJS_clearAllMouseUp"),W.delEvent("preLoop","PointJS_MouseEventDown"),Et(),dt=!1};var Ft=!1,Mt=!1,Nt=0,Rt=0,zt=0,Wt=0,qt=S(0,0),Ht=[],Bt=S(0,0),Jt=S(0,0);this.touchControl.isTouchSupported=function(){return!!("ontouchstart"in window)},this.touchControl.isMobileDevice=function(){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(r.navigator.userAgent)};var _t=function(){Mt=!1,Rt=Nt=0,qt=S(0,0),Ht=[],Wt=zt=0};this.touchControl.getFixPositionS=function(){return!(!qt.x&&!qt.y)&&S(qt.x,qt.y)},this.touchControl.getFixPosition=function(){return!(!qt.x&&!qt.y)&&S(qt.x+y.x,qt.y+y.y)},this.touchControl.getRun=function(){var t=0,e=0;return qt.x&&qt.x!=zt&&(t=zt-qt.x),qt.y&&qt.y!=Wt&&(e=Wt-qt.y),S(t,e)},this.touchControl.getVector=function(){var t=0,e=0;return qt.x&&qt.x!=zt&&(t=zt>qt.x?1:-1),qt.y&&qt.y!=Wt&&(e=Wt>qt.y?1:-1),S(t,e)},this.touchControl.getSpeed=function(){return S(Bt.x,Bt.y)},this.touchControl.isDown=function(){return Mt},this.touchControl.isPress=function(){return 1==Nt},this.touchControl.isUp=function(){return 1==Rt},this.touchControl.getPosition=function(){return S(zt+y.x,Wt+y.y)},this.touchControl.getPositionS=function(){return S(zt,Wt)},this.touchControl.isPeekStatic=function(t){return!!this.isPress()&&this.isInStatic(t)},this.touchControl.isPeekDynamic=function(t){return!!this.isPress()&&this.isInDynamic(t)},this.touchControl.isPeekObject=function(t){return!(!this.isPress()||!t.visible)&&this.isInDynamic(t.getDynamicBox())},this.touchControl.isInStatic=function(t){var e=this.getPosition();return e.x>=t.x&&e.x<=t.x+t.w&&e.y>=t.y&&e.y<=t.y+t.h},this.touchControl.isInDynamic=function(t){return E(this.getPosition(),t)},this.touchControl.isInObject=function(t){return!!t.visible&&(t.angle?this.isInDynamic(t.getDynamicBox()):this.isInStatic(t.getStaticBox()))},this.touchControl.getTouches=function(){return Ht},this.touchControl.initControl=this.touchControl.initTouchControl=function(){return Ft?this:(Ft=!0,r.addEventListener("touchstart",function(t){return t.preventDefault(),zt=t.targetTouches[0].pageX,Wt=t.targetTouches[0].pageY,Ht=t.targetTouches,Y&&(zt/=Y.w,Wt/=Y.h),pe.run("touch:press"),qt.x=zt,qt.y=Wt,Mt=!0,Nt=1,!1},{passive:!1}),r.addEventListener("touchmove",function(t){return zt=t.targetTouches[0].pageX,Wt=t.targetTouches[0].pageY,Ht=t.targetTouches,Y&&(zt/=Y.w,Wt/=Y.h),Bt.x=zt-Jt.x,Bt.y=Wt-Jt.y,pe.run("touch:move"),!1},!1),r.addEventListener("touchend",function(t){return qt.x=0,qt.y=0,Mt=!1,Rt=1,pe.run("touch:up"),!1},!1),s.touchControl.vibrate=function(t){return r.navigator.vibrate?r.navigator.vibrate(t):r.navigator.oVibrate?r.navigator.oVibrate(t):r.navigator.mozVibrate?r.navigator.mozVibrate(t):r.navigator.webkitVibrate?r.navigator.webkitVibrate(t):void 0},W.addEvent("preLoop","PointJS_TouchDownEvent",function(){Mt&&pe.run("touch:down")}),W.addEvent("postLoop","PointJS_touchStopPress",function(){Rt=Nt=0,Jt.x=zt,Jt.y=Wt,Bt=S(0,0)}),this)},this.touchControl.exitTouchControl=function(){r.ontouchstart=r.ontouchmove=r.ontouchend=function(t){},W.delEvent("postLoop","PointJS_touchStopPress"),W.delEvent("preLoop","PointJS_TouchDownEvent"),_t(),Ft=!1};var Ut=function(t,e,n,i){return i?"rgba("+t+", "+e+", "+n+", "+i+")":"rgb("+t+", "+e+", "+n+")"},Xt=function(t,e){t="#"==t[0]?t.substr(1,6):t;var n=parseInt(t.substr(0,2),16),i=parseInt(t.substr(2,2),16),o=parseInt(t.substr(4,2),16);return Ut(n,i,o,e)};this.colors.rgb=function(t,e,n){return Ut(t,e,n)},this.colors.rgba=function(t,e,n,i){return Ut(t,e,n,i)},this.colors.hex2rgb=function(t){return Xt(t)},this.colors.hex2rgba=function(t,e){return Xt(t,e)},this.colors.randomColor=function(t,e,n){return Ut(D(t,e),D(t,e),D(t,e),n||1)};var $t=function(t){return void 0!==t&&null!=t},Gt=function(t){return!(!$t(t)||""===t||0===t)},Yt=function(t,e){var n,i;for(n in t)if(void 0!==t[n]&&(i=e(t[n],n,t))&&"break"==i)break},Vt=function(t,e){if(t.length)for(var n,i=t.length-1;0<=i&&(void 0===t[i]||!(n=e(t[i],i,t)||!1)||"break"!==n);i--);};this.OOP.extractArrElement=function(t,e){var n=t[e];return t.splice(e,1),n},this.OOP.extractRandArrElement=function(t){var e=D(0,t.length-1),n=t[e];return t.splice(e,1),n},this.OOP.drawEach=function(t,e){Yt(t,function(t){t&&t.draw&&t.isInCamera()&&(t.draw(),e&&e(t))})},this.OOP.drawArr=function(t,e){var n,i=0;for(n=t.length;i<n;i+=1)t[i]&&t[i].draw&&t[i].isInCamera()&&(t[i].draw(),e&&e(t[i],i))};var Kt=function(t){t.length=0},Qt=function(t,e){var n=!1,i=j(),o=!1,r=new XMLHttpRequest,s=function(){r.open("GET",t,!0),r.send()};r.onreadystatechange=function(){4==r.readyState&&(e(r.responseText),n&&(o?setTimeout(s,o):s()))},this.start=function(){t=t.match(/\?/)?t+"&session_id="+i:t+"?session_id="+i,s(),n=!0},this.setSID=function(t){i=t},this.setTime=function(t){o=t},this.stop=function(){n=!1},this.isActive=function(){return n}};this.OOP.readJSON=function(t,e){var n={},i=new XMLHttpRequest;i.open("GET",t,!0),an.add(),i.onreadystatechange=function(){4==i.readyState&&(n=i.responseText,n=JSON.parse(n),an.load(),e(n))},i.send()},this.OOP.toString=function(t,e){var n,i=0,o="[";for(n in t)if(t.hasOwnProperty(n)){var r=t[n];"number"==typeof r&&e&&(r=parseInt(r)),o+=(0<i?", ":"")+n+" : "+r,i+=1}return o+"]"},this.OOP.sendGET=function(t,e,n){var i=new XMLHttpRequest,o="?";Yt(e,function(t,e){o+=e+"="+encodeURIComponent(t)+"&"}),i.open("GET",t+o,!0),i.onreadystatechange=function(){4==i.readyState&&n(i.responseText)},i.send()},this.OOP.sendPOST=function(t,e,n){var i=new XMLHttpRequest,o="";Yt(e,function(t,e){o+=e+"="+encodeURIComponent(t)+"&"}),i.open("POST",t,!0),i.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),i.onreadystatechange=function(){4==i.readyState&&n(i.responseText)},i.send(o)},this.OOP.sendPOSTScreen=function(t,e,n){var i=new XMLHttpRequest;e=e+"="+B.toDataURL("image/png"),i.open("POST",t,!0),i.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),i.onreadystatechange=function(){4==i.readyState&&n(i.responseText)},i.send(e)},this.OOP.isDef=$t,this.OOP.isSet=Gt,this.OOP.forEach=Yt,this.OOP.forInt=function(t,e){var n,i;for(n=0;n<t&&(!(i=e(n))||"break"!=i);n+=1);},this.OOP.forXY=function(t,e,n){var i,o,r;for(o=0;o<e;o+=1)for(i=0;i<t&&(!(r=n(i,o))||"break"!=r);i+=1);},this.OOP.forArr=Vt,this.OOP.clearArr=Kt,this.OOP.fillArr=function(t,e,n){t.length=0;var i;for(i=0;i<e;i+=1)t.push(n(i,0<i&&t[i-1]));return t},this.OOP.delObject=function(t,e){var n,i=0;for(n=t.length;i<n;i+=1)if(t[i]==e)return t.splice(i,1),!0},this.OOP.randArrElement=function(t){return t[D(0,t.length-1)]},this.OOP.readJSONSync=function(t){var e=new XMLHttpRequest;return e.open("GET",t,!1),e.send(),t=e.responseText,t=JSON.parse(t)},this.OOP.sendGETSync=function(t,e){var n=new XMLHttpRequest,i="?";return Yt(e,function(t,e){i+=e+"="+encodeURIComponent(t)+"&"}),n.open("GET",t+i,!1),n.send(),n.responseText},this.OOP.sendPOSTSync=function(t,e){var n=new XMLHttpRequest,i="";return Yt(e,function(t,e){i+=e+"="+encodeURIComponent(t)+"&"}),n.open("POST",t,!1),n.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),n.send(i),n.responseText},this.OOP.newAJAXListener=function(t,e){return new Qt(t,e)},this.OOP.runCode=function(t){new Function("",t)()};var Zt={};this.OOP.includeSync=function(t,e){if(Zt[t])Zt[t].loaded&&!e&&Zt[t].code();else{Zt[t]={loaded:!1,code:function(){console.log(t+" is loading")}};var n=new XMLHttpRequest;n.open("GET",t,!1),n.send(),Zt[t].code=new Function("",n.responseText),Zt[t].loaded=!0,Zt[t].code()}},this.OOP.include=function(t,e,n){if(Zt[t])Zt[t].loaded&&!n&&Zt[t].code(),e&&e();else{Zt[t]={loaded:!1,code:function(){console.log(t+" is loading")}};var i=new XMLHttpRequest;i.open("GET",t,!0),i.onreadystatechange=function(){4==i.readyState&&(Zt[t].code=new Function("",i.responseText),Zt[t].loaded=!0,Zt[t].code(),e&&e())},i.send()}},this.OOP.clone=function(t,e){var n=Ie(t);return Yt(t,function(t,e){-1===["id","type"].indexOf(e)&&(n[e]=t)}),e&&(n.onClone=e,n.onClone(n),delete n.onClone),n};var te=function(){var t=[];this.fillFromArr=function(e){t.length=0,Vt(e,function(e){t.push(e)})},this.fill=function(e,n){t.length=0,s.OOP.fillArr(t,e,n)},this.draw=function(e){for(var n=t.length-1;0<=n;n--)t[n].isInCamera()&&(t[n].draw(),e&&e(t[n],n))},this.update=function(e,n){for(var i=t.length-1;0<=i;i--)n&&!t[i].isInCamera()||e(t[i],i)},this.add=function(e){t.push(e)},this.del=function(e){s.OOP.delObject(t,e)}};this.OOP.newGroup=function(){return new te};var ee=60,ne=Date.now(),ie=0,oe=-1,re=ne,se={},ae=0;this.game.setFPS=function(t){ee=0<t?t:60},this.game.getFPS=function(){return ee},this.game.getDT=function(t){return t||(t=1e3),ie/t},this.game.getTime=function(){return ne};var ue=function(){return r.requestAnimationFrame||r.webkitRequestAnimationFrame||r.mozRequestAnimationFrame||r.oRequestAnimationFrame||r.msRequestAnimationFrame||function(t){r.setTimeout(t,1e3/ee)}},ce=ue(),he=function(){ne=Date.now(),c&&q.clearRect(0,0,f,d),W.runEvent("preLoop")},le=function(){W.runEvent("postLoop"),-1!=oe&&(ie=ne-oe),oe=ne},fe={func:function(){console.log('please, use a "setLoop" function.'),ce=function(){}},events:!1,start:!1,end:!1,audio:!1,fps:!1,name:"NotLoop"},de=function(){fe.audio&&Vt(fe.audio,function(t){t.stop()})};this.game.newLoop=function(t,e,n,i,o){"function"==typeof e?se[t]={events:o||!1,func:e,start:n||!1,end:i||!1,audio:!1,fps:!1,name:t}:ve("error in newLoop : "+e+" is not a function")},this.game.newLoopFromClassObject=function(t,e){if(!e.update)return ve('error in newLoopFromClassObject : function "update" not found');se[t]={events:e.events||!1,func:e.update,start:e.entry||!1,end:e.exit||!1,audio:!1,fps:!1,name:t}},this.game.newLoopFromConstructor=function(t,e){s.game.newLoopFromClassObject(t,new e)},this.game.setLoopSound=function(t,e){var n;for(se[t].audio||(se[t].audio=[]),n=0;n<e.length;n+=1)se[t].audio.length=0,e[n].setNextPlay(e[n+1==e.length?0:n+1]),se[t].audio.push(e[n])},this.game.setLoop=function(t){if(!se[t])return ve("setLoop : "+t+" is no a Loop");de(),Et(),rt={},st={},at={},ct=ut=!1,_t(),Je(S(0,0)),fe.end&&fe.end(),fe=se[t],pe.loadFromEvents(fe.events),fe.start&&fe.start(),fe.audio&&fe.audio[0].play()};var pe=new function(){var t={"mouse:click":[]},e=this;this.add=function(e,n){t[e]||(t[e]=[]),t[e].push(n)},this.run=function(e,n){t[e]&&Vt(t[e],function(t){return t(n)})},this.clear=function(e){t[e]&&(t[e].length=0)},this.clearAll=function(){Yt(t,function(t){t.length=0})},this.loadFromEvents=function(t){e.clearAll(),t&&Yt(t,function(t,n){e.add(n,t)})},this.isEvent=function(e){return!!t[e]}};this.game.tick=function(t,e){ae==t&&e()};var ge={};this.game.skip=function(t,e,n){$t(ge[t])||(ge[t]=0),ge[t]++>=e&&(n(),ge[t]=0)};var ye=function t(){if(60>ae?ae++:ae=0,60>ee){var e=1e3/ee;try{(ne=Date.now())-re>e&&(he(),fe.func(ie),re=ne,le())}catch(t){a&&x(t),u&&(a||x(t),ve())}return ce(t),!1}try{he(),fe.func(ie),le()}catch(t){a&&x(t),u&&(a||x(t),ve())}ce(t)},me=function(t){h||(h=!0,ee=t||60,ce(ye))},ve=function(t){if(!h)return v($t(t)?t:"game is stop");h=!1,de(),ce=function(){v($t(t)?t:"game is stop")}};this.game.getWH=function(){return{w:f,h:d,w2:p,h2:g}},this.game.getWH2=function(){return{w:f/2,h:d/2}},this.game.getResolution=function(){return Math.min(f/t,d/e)},this.game.startLoop=function(t,e){this.setLoop(t),this.start(e)},this.game.start=me,this.game.stop=ve,this.game.resume=function(t){if(!h)return fe.audio&&fe.audio[0].play(),v(t||"game is run"),ce=ue(),oe=-1,me(),!1};var xe=[],we=0,be=function(t){this.type="BaseObject",this.id=we+=1,this.x=t.x||0,this.y=t.y||0,this.w=t.w||0,this.h=t.h||0,this.ondraw=!!t.ondraw&&t.ondraw,this.parent=!1,this.children=[],this.fillColor=t.fillColor||!1,this.strokeColor=t.strokeColor||m.strokeStyle,this.strokeWidth=t.strokeWidth||0,this.angle=t.angle||0,this.alpha=$t(t.alpha)?t.alpha:1,this.center=S(0,0),this.box={x:0,y:0,w:0,h:0},this.visible=!$t(t.visible)||t.visible,this.flip=S(0,0),this.setShadow(t),t.userData&&this.setUserData(t.userData),t.center&&this.setCenter(t.center),t.box&&this.setBox(t.box),t.size&&this.setSize(t.size),t.sizeC&&this.setSizeC(t.sizeC),t.position&&this.setPosition(t.position),t.positionC&&this.setPositionC(t.positionC),"function"==typeof t.oncreate&&(this.oncreate=t.oncreate,this.oncreate(),delete this.oncreate),xe.push(this)};be.prototype={getID:function(){return this.id},getType:function(){return this.type},getParent:function(){return this.parent},addChild:function(t){t&&t.id!=this.id&&(t.parent=this,this.children.push(t),t.move(this.getPosition()),t.setPositionC(T(t.getPositionC(),this.getPositionC(),this.angle)),t.turn(this.angle))},delChild:function(t){t.parent=!1;var e,n=0;for(e=this.children.length;n<e;n+=1)if(this.children[n].id==t.id){this.children.splice(n,1);break}},delParent:function(){this.parent.delChild(this)},setBox:function(t){t.offset&&(this.box.x=t.offset.x||0,this.box.y=t.offset.y||0),t.size&&(this.box.w=t.size.w||0,this.box.h=t.size.h||0)},isArrIntersect:function(t){var e,n=0;for(e=t.length;n<e;n+=1)if(t[n].id!=this.id&&this.isIntersect(t[n]))return t[n];return!1},isArrInside:function(t){var e,n=0;for(e=t.length;n<e;n+=1)if(this.isDynamicInside(t[n].getDynamicBox()))return t[n];return!1},getNearest:function(t){var e,n=0,i=!1,o=0;for(e=t.length;o<e;o+=1)if(this.id!=t[o].id){!1===i&&(i=this.getDistanceC(t[o].getPositionC()),n=o);var r=this.getDistanceC(t[o].getPositionC());r<i&&(i=r,n=o)}return t[n]},setFlip:function(t,e){$t(t)&&this.flip.x!=t&&(this.flip.x=t),$t(e)&&this.flip.y!=e&&(this.flip.y=e)},setUserData:function(t){for(var e in t)$t(this[e])||(this[e]=t[e])},setShadow:function(t){this.shadowColor=t.shadowColor||!1,this.shadowBlur=$t(t.shadowBlur)?t.shadowBlur:3,this.shadowX=t.shadowX||0,this.shadowY=t.shadowY||0},getDynamicBox:function(){var t=this.getPosition(1);return 0==this.angle?[S(this.x+this.box.x,this.y+this.box.y),S(this.x+this.box.x+this.w+this.box.w,this.y+this.box.y),S(this.x+this.box.x+this.w+this.box.w,this.y+this.box.y+this.h+this.box.h),S(this.x+this.box.x,this.y+this.box.y+this.h+this.box.h)]:[T(S(this.x+this.box.x,this.y+this.box.y),t,this.getAngle()),T(S(this.x+this.box.x+this.w+this.box.w,this.y+this.box.y),t,this.getAngle()),T(S(this.x+this.box.x+this.w+this.box.w,this.y+this.box.y+this.h+this.box.h),t,this.getAngle()),T(S(this.x+this.box.x,this.y+this.box.y+this.h+this.box.h),t,this.getAngle())]},isDynamicIntersect:function(t){if(3>t.length)return!1;var e,n=this.getDynamicBox(),i=0;for(e=n.length;i<e;i+=1)if(E(n[i],t))return!0;for(i=0,e=t.length;i<e;i+=1)if(E(t[i],n))return!0;return!1},isIntersect:function(t){return!!t.visible&&(this.angle||t.angle?this.isDynamicIntersect(t.getDynamicBox()):this.isStaticIntersect(t.getStaticBox()))},isDynamicInside:function(t){if(3>t.length)return!1;var e,n=this.getDynamicBox(),i=0,o=0;for(e=n.length;o<e;o+=1)E(n[o],t)&&(i+=1);return i==n.length},drawDynamicBox:function(t){Ue(this,1),q.shadowColor="transparent",Ve(S(this.x+this.box.x,this.y+this.box.y),P(this.w+this.box.w,this.h+this.box.h),!1,t||"yellow",2),Ye(S(this.x+this.w/2+this.center.x,this.y+this.h/2+this.center.y),10,t||"yellow"),_e()},drawStaticBox:function(t){q.shadowColor="transparent",Ve(S(this.x+this.box.x,this.y+this.box.y),P(this.w+this.box.w,this.h+this.box.h),!1,t||"yellow",2),Ye(S(this.x+this.w/2+this.center.x,this.y+this.h/2+this.center.y),10,t||"yellow")},isStaticIntersect:function(t){return this.y+this.box.y+this.h+this.box.h>=t.y&&this.x+this.box.x+this.w+this.box.w>=t.x&&this.x+this.box.x<t.x+t.w&&this.y+this.box.y<t.y+t.h},getStaticBox:function(){return{x:this.x+this.box.x,y:this.y+this.box.y,w:this.w+this.box.w,h:this.h+this.box.h}},setAlpha:function(t){this.alpha!=t&&(this.alpha=0<=t?1>=t?t:1:0)},transparent:function(t){this.setAlpha(this.alpha+t)},getAlpha:function(){return this.alpha},rotate:function(t){this.setAngle(Math.atan2(t.y-this.getPosition(1).y,t.x-this.getPosition(1).x)*(180/Math.PI))},setCenter:function(t){this.center=S(t.x,t.y)},nullCenter:function(t){t||(t=S(0,0)),this.center=S(-this.w/2+t.x,-this.h/2+t.y)},getCenter:function(){return S(this.center.x,this.center.y)},getBox:function(){return this.box},move:function(t){this.prevPosition=this.getPosition(),this.x+=t.x,this.y+=t.y},circling:function(t,e,n){$t(this.circlingAnglePointJS)||(this.circlingAnglePointJS=0),this.x=t.x+e*Math.cos(L(this.circlingAnglePointJS)),this.y=t.y+e*Math.sin(L(this.circlingAnglePointJS)),this.circlingAnglePointJS=360<this.circlingAnglePointJS?0:this.circlingAnglePointJS+n},circlingC:function(t,e,n){$t(this.circlingAnglePointJS)||(this.circlingAnglePointJS=0),this.setPositionC(S(t.x+e*Math.cos(L(this.circlingAnglePointJS)),t.y+e*Math.sin(L(this.circlingAnglePointJS)))),this.circlingAnglePointJS=360<this.circlingAnglePointJS?0:this.circlingAnglePointJS+n},motion:function(t,e,n){$t(this.motionPercentPointJS)||(this.motionPercentPointJS=0),this.x=t.x+e.w*Math.cos(L(this.motionPercentPointJS)),this.y=t.y+e.h*Math.sin(L(this.motionPercentPointJS)),this.motionPercentPointJS=360<this.motionPercentPointJS?0:this.motionPercentPointJS+n},motionC:function(t,e,n){$t(this.motionPercentPointJS)||(this.motionPercentPointJS=0),this.setPositionC(S(t.x+e.w*Math.cos(L(this.motionPercentPointJS)),t.y+e.h*Math.sin(L(this.motionPercentPointJS)))),this.motionPercentPointJS=360<this.motionPercentPointJS?0:this.motionPercentPointJS+n},scale:function(t){this.w*=t,this.h*=t},scaleC:function(t){var e=this.w,n=this.h;this.scale(t),this.move(S(-(this.w-e)/2,-(this.h-n)/2))},getPosition:function(t){return 1==t?S(this.x+(this.w/2+this.center.x),this.y+(this.h/2+this.center.y)):2==t?(t=S(this.x+this.w/2,this.y+this.h/2),this.angle&&(t=T(t,this.getPosition(1),this.angle)),S(t.x,t.y)):S(this.x,this.y)},getPositionC:function(){return S(this.x+(this.w/2+this.center.x),this.y+(this.h/2+this.center.y))},getPositionS:function(){return S(this.x+y.x,this.y+y.x)},getPositionCS:function(){return S(this.x+(this.w/2+this.center.x)+y.x,this.y+(this.h/2+this.center.y)+y.y)},setPosition:function(t){this.getPosition(),!1!==t.x&&(this.x=t.x),!1!==t.y&&(this.y=t.y)},setPositionS:function(t){this.getPosition(),!1!==t.x&&(this.x=t.x+y.x),!1!==t.y&&(this.y=t.y+y.y)},setPositionC:function(t){this.getPosition(),!1!==t.x&&(this.x=-(this.w/2+this.center.x)+t.x),!1!==t.y&&(this.y=-(this.h/2+this.center.y)+t.y)},setPositionCS:function(t){this.getPosition(),!1!==t.x&&(this.x=-(this.w/2+this.center.x)+t.x+y.x),!1!==t.y&&(this.y=-(this.h/2+this.center.y)+t.y+y.y)},getSize:function(){return P(this.w,this.h)},setSize:function(t){this.w=t.w,this.h=t.h},setSizeC:function(t){this.w=t.w,this.h=t.h,this.move(S(-t.w/2,-t.h/2))},turn:function(t){this.angle+=t},rotateForAngle:function(t,e){0>this.angle&&(this.angle+=360),0>t&&(t+=360);var n=this.angle-t;180<n?n-=360:-180>n&&(n+=360),n>=-e-.5&&n<=e+.5?this.angle=t:n>e+.5?this.angle-=e:n<-e-.5&&(this.angle+=e)},rotateForPoint:function(t,e){var n=O(this.getPositionC(),t);this.rotateForAngle(n,e)},rotateForObject:function(t,e){var n=O(this.getPositionC(),t.getPositionC());this.rotateForAngle(n,e)},moveTo:function(t,e){var n=L(O(this.getPosition(),t));this.prevPosition=this.getPosition(),this.x+=e*Math.cos(n),this.y+=e*Math.sin(n)},moveToC:function(t,e){var n=L(O(this.getPositionC(),t));this.prevPosition=this.getPosition(),this.x+=e*Math.cos(n),this.y+=e*Math.sin(n)},moveAngle:function(t,e){e=L($t(e)?e:this.angle),this.prevPosition=this.getPosition(),this.x+=t*Math.cos(e),this.y+=t*Math.sin(e)},moveTime:function(t,e){e=e||1;var n=this.getPosition();this.move(S((t.x-n.x)/e,(t.y-n.y)/e))},moveTimeC:function(t,e){e=e||1;var n=this.getPosition(1);this.move(S((t.x-n.x)/e,(t.y-n.y)/e))},getAngle:function(){return this.angle},setAngle:function(t){this.angle!=t&&(this.angle=t%360)},getDistance:function(t){return Math.sqrt(Math.pow(t.x-this.getPosition(2).x,2)+Math.pow(t.y-this.getPosition(2).y,2))},getDistanceC:function(t){return Math.sqrt(Math.pow(t.x-this.getPosition(1).x,2)+Math.pow(t.y-this.getPosition(1).y,2))},setVisible:function(t){this.visible=1==t},isVisible:function(){return this.visible},isInCamera:function(){return this.angle?this.isInCameraDynamic():this.isInCameraStatic()},isInCameraStatic:function(){return!(this.x+this.w<y.x||this.x>y.x+f||this.y+this.h<y.y||this.y>y.y+d)},isInCameraDynamic:function(){var t,e=this.getDynamicBox(),n=[S(y.x,y.y),S(y.x+f,y.y),S(y.x+f,y.y+d),S(y.x,y.y+d)],i=0,o=0;for(t=e.length;o<t;o+=1)E(e[o],n)&&(i+=1);return 0<i},draw:function(){}},this.game.newBaseObject=function(t){return new be(t)};var Ce=function(t){be.call(this,t),this.type="TriangleObject"};b(be,Ce),Ce.prototype.getDynamicBox=function(){var t=this.getPositionC();return 0==this.angle?[S(this.x+this.w/2,this.y),S(this.x+this.w,this.y+this.h),S(this.x,this.y+this.h)]:[T(S(this.x+this.w/2,this.y),t,this.getAngle()),T(S(this.x+this.w,this.y+this.h),t,this.getAngle()),T(S(this.x,this.y+this.h),t,this.getAngle())]},Ce.prototype.draw=function(){if(this.visible&&this.alpha){var t=!1;(this.angle||1!=this.alpha||this.shadowColor)&&(Ue(this),t=!0),Xe(this.x,this.y,[S(this.w/2,0),S(this.w,this.h),S(0,this.h)],this.fillColor,!!this.strokeWidth&&this.strokeColor,this.strokeWidth),this.ondraw&&this.ondraw(),t&&_e()}},this.game.newTriangleObject=function(t){return new Ce(t)};var Se=function(t){be.call(this,t),this.type="RectObject"};b(be,Se),Se.prototype.draw=function(){if(this.visible&&this.alpha){var t=!1;(this.angle||1!=this.alpha||this.shadowColor)&&(Ue(this),t=!0),Ve(S(this.x,this.y),P(this.w,this.h),this.fillColor,this.strokeColor,this.strokeWidth),this.ondraw&&this.ondraw(),t&&_e()}},this.game.newRectObject=function(t){return new Se(t)};var Pe=function(t){be.call(this,t),this.type="RoundRectObject",this.radius=t.radius||1};b(be,Pe),Pe.prototype.draw=function(){if(this.visible&&this.alpha){var t=!1;(this.angle||1!=this.alpha||this.shadowColor)&&(Ue(this),t=!0),Qe(S(this.x,this.y),P(this.w,this.h),this.radius,this.fillColor,this.strokeColor,this.strokeWidth),this.ondraw&&this.ondraw(),t&&_e()}},this.game.newRoundRectObject=function(t){return new Pe(t)};var ke=function(t){be.call(this,t),this.radius=t.radius||5,t.scale&&(this.radius*=t.scale),this.w=2*this.radius,this.h=2*this.radius,this.type="CircleObject",t.positionC&&this.setPositionC(t.positionC)};b(be,ke),ke.prototype.draw=function(){if(this.visible&&this.alpha){var t=!1;(this.angle||1!=this.alpha||this.shadowColor)&&(Ue(this),t=!0),Ze(S(this.x,this.y),this.radius,this.fillColor,this.strokeColor,this.strokeWidth),this.ondraw&&this.ondraw(),t&&_e()}},ke.prototype.scale=function(t){this.w*=t||0,this.h*=t||0,this.radius*=t?t/2:0},ke.prototype.scaleC=function(t){var e=this.w,n=this.h;this.w*=t||0,this.h*=t||0,this.radius*=t,this.move(S(-(this.w-e)/2,-(this.h-n)/2))},ke.prototype.getRadius=function(){return this.radius},ke.prototype.setRadius=function(t){t&&this.radius!=t&&(this.radius=t,this.w=2*t,this.h=2*t)},this.game.newCircleObject=function(t){return new ke(t)};var Te=function(t){this.file=t.file,this.w=t.w,this.h=t.h,this.read={x:0,y:0,w:0,h:0},t.read&&(this.read.w=t.read.w||0,this.read.h=t.read.h||0,this.read.x=t.read.x||0,this.read.y=t.read.y||0),this.countX=t.countX,this.countY=t.countY,this.fullW=this.countX*this.w,this.fullH=this.countY*this.h,this.cnv=r.document.createElement("canvas"),this.cnv.width=this.w,this.cnv.height=this.h,this.ctx=this.cnv.getContext("2d"),this.loaded=!1,this.x=t.x||0,this.y=t.y||0,t=r.document.createElement("img");var e=this;t.onload=function(){e.ctx.drawImage(this,e.read.x?e.read.x:0,e.read.y?e.read.y:0,e.read.w?e.read.w:this.width,e.read.h?e.read.h:this.height,0,0,e.w,e.h),e.loaded=!0,an.load()},t.src=this.file,an.add()};Te.prototype.draw=function(){if(this.loaded){var t,e,n=-y.x+this.x,i=-y.y+this.y;for(e=0;e<this.countY;e+=1)if(!(this.y+e*this.h+this.h<y.y||this.y+e*this.h>y.y+d))for(t=0;t<this.countX;t+=1)this.x+t*this.w+this.w<y.x||this.x+t*this.w>y.x+f||q.drawImage(this.cnv,n+t*this.w,i+e*this.h,this.w,this.h)}},Te.prototype.getSize=function(){return this.loaded?P(this.fullW,this.fullH):P()},this.game.newBackgroundObject=function(t){return new Te(t)};var Oe=function(t){be.call(this,t),this.type="EllipsObject"};b(be,Oe),Oe.prototype.draw=function(){this.visible&&this.alpha&&(Ue(this),Ze(S(this.x,this.y),this.h/2,this.fillColor,this.strokeColor,this.strokeWidth),this.ondraw&&this.ondraw(),_e())},this.game.newEllipsObject=function(t){return new Oe(t)};var Ee=function(t){be.call(this,t),this.type="TextObject",this.text=t.text||"TextObject",this.color=t.color||"",this.size=t.size||10,t.scale&&(this.size*=t.scale),this.font=t.font||"sans-serif",this.style=t.style||"",this.align="left",this.padding=t.padding||2,this.w=Ae(this.text,this.style,this.size,this.font)+2*this.padding,this.h=this.size+2*this.padding,this.strokeColorText=t.strokeColorText||!1,this.strokeWidthText=t.strokeWidthText||!1,this.textDY=-this.size/7,t.positionC&&this.setPositionC(t.positionC)};b(be,Ee),Ee.prototype.reStyle=function(t){this.text=t.text||this.text,this.color=t.color||this.color,this.size=t.size||this.size,this.font=t.font||this.font,this.style=t.style||this.style,this.padding=t.padding||this.padding,this.w=Ae(this.text,this.style,this.size,this.font)+2*this.padding,this.h=this.size+2*this.padding,this.strokeColorText=t.strokeColorText||this.strokeColorText,this.strokeWidthText=t.strokeWidthText||this.strokeWidthText,this.strokeColor=t.strokeColor||this.strokeColor,this.strokeWidth=t.strokeWidth||this.strokeWidth,this.fillColor=t.fillColor||this.fillColor,this.textDY=-this.size/7},Ee.prototype.setText=function(t){this.text!=t&&this.reStyle({text:t})},Ee.prototype.getText=function(){return this.text},Ee.prototype.draw=function(){if(this.visible&&this.alpha){var t=!1;(this.angle||1!=this.alpha||this.shadowColor)&&(Ue(this),t=!0),(this.fillColor||this.strokeColor)&&Ve(S(this.x,this.y),P(this.w,this.h),this.fillColor,this.strokeColor,this.strokeWidth),Ge(S(this.x+this.padding,this.textDY+this.y+this.padding),this.text,this.color,this.size,this.font,this.style,this.align,this.strokeColorText,this.strokeWidthText),this.ondraw&&this.ondraw(),t&&_e()}},Ee.prototype.scale=function(t){this.reStyle({size:this.size*t})},Ee.prototype.scaleC=function(t){var e=this.w,n=this.h;this.reStyle({size:this.size*t}),this.move(S(-(this.w-e)/2,-(this.h-n)/2))},Ee.prototype.setSize=function(t){this.size!=t&&this.reStyle({size:t})},Ee.prototype.setSizeC=function(t){this.size!=t&&(this.reStyle({size:t}),this.move(S(-t/2,-t/2)))};var Ae=function(t,e,n,i){var o=r.document.createElement("canvas").getContext("2d");return o.font=e+n+"px "+i,o.measureText(t).width};this.OOP.getTextWidth=function(t){return Ae(t.text,t.style||"",t.size||10,t.font||"sans-serif")},this.game.newTextObject=function(t){return new Ee(t)};var je=function(t){be.call(this,t),this.type="PolygonObject",this.points=[],this.dX=this.dY=0;var e=this;t.points&&Vt(t.points,function(t){e.addPoint(t)}),this.pointColor=t.pointColor||!1};b(be,je),je.prototype.addPoint=function(t){this.dY=this.dX=0;var e=this;this.y+t.y<this.y&&(this.dY=Math.abs(this.y+t.y-this.y),Vt(this.points,function(t){t.y+=e.dY})),this.x+t.x<this.x&&(this.dX=Math.abs(this.x+t.x-this.x),e=this,Vt(this.points,function(t){t.x+=e.dX})),this.points.push(S(t.x+this.dX,t.y+this.dY)),this.h=this.w=0,e=this,Vt(this.points,function(t){e.h+=e.y+t.y>e.y+e.h?t.y-e.h:0,e.w+=e.x+t.x>e.x+e.w?t.x-e.w:0})},je.prototype.delPoint=function(t){var e,n=this.getPoints();this.clearPoints();var i=0;for(e=n.length;i<e;i+=1)i!=t&&this.addPoint(n[i])},je.prototype.clearPoints=function(){this.points=[],this.count=0},je.prototype.getPoints=function(){return this.points},je.prototype.getCount=function(){return this.points.length},je.prototype.getPoint=function(t){return this.points[t]},je.prototype.scale=function(t){return!1},je.prototype.drawDynamicBox=function(t){var e=!1;(this.angle||1!=this.alpha||this.shadowColor)&&(Ue(this),e=!0),Xe(this.x,this.y,this.points,this.fillColor,t||"yellow",2,"red"),e&&_e()},je.prototype.getDynamicBox=function(){var t=[];if(this.angle){var e=this.getPosition(1);n=this,Vt(this.points,function(i){t.push(T(k(i,S(n.x,n.y)),e,n.getAngle()))})}else{var n=this;Vt(this.points,function(e){t.push(k(e,S(n.x,n.y)))})}return t},je.prototype.draw=function(){if(this.visible&&this.alpha){var t=!1;(this.angle||1!=this.alpha||this.shadowColor)&&(Ue(this),t=!0),Xe(this.x,this.y,this.points,this.fillColor,this.strokeColor,this.strokeWidth,this.pointColor),this.ondraw&&this.ondraw(),t&&_e()}},this.game.newPolygonObject=function(t){return new je(t)};var Le=function(t){be.call(this,t),this.type="ImageObject",this.loaded=!1,this.file="",this.forOnLoad=t.onload||!1,qe(t.file,this,t.scale||1)};b(be,Le),Le.prototype.draw=function(){if(this.visible&&this.alpha&&this.loaded){var t=!1;(this.angle||1!=this.alpha||this.shadowColor||this.flip.x||this.flip.y)&&(Ue(this),t=!0),He(S(this.x,this.y),P(this.w,this.h),this.file),this.ondraw&&this.ondraw(),t&&_e()}},Le.prototype.simpleDraw=function(t){if(this.loaded){var e=!1;(this.angle||1!=this.alpha||this.shadowColor)&&(Ue(this),e=!0),He(S(t.x,t.y),P(this.w,this.h),this.file),e&&_e()}},Le.prototype.setImage=function(t,e){this.file!=t&&($t(We[t])?(this.file=t,e&&e()):(this.loaded=!1,this.origHeight=this.origWidth=0,this.forOnLoad=e||!1,qe(t,this)))},Le.prototype.getImage=function(){return this.file},Le.prototype.resize=function(t){if(!1!==t.w&&!1===t.h){var e=t.w/this.w;this.w=t.w,this.h*=e}else!1!==t.h&&!1===t.w?(e=t.h/this.h,this.h=t.h,this.w*=e):!1!==t.w&&!1!==t.h&&(this.w=t.w,this.h=t.h)},this.game.newImageObject=function(t){return new Le(t)};var De=function(t){be.call(this,t),this.type="AnimationObject",this.frame=0,this.anim=t.animation,this.step=t.delay||10,this.toFrameStep=this.difStep=0,t.scale&&(this.w*=t.scale,this.h*=t.scale)};b(be,De),De.prototype.draw=function(){if(this.visible&&this.alpha){var t=!1;(this.angle||1!=this.alpha||this.flip.x||this.flip.y||this.shadowColor)&&(Ue(this),t=!0),ze(this.anim,S(this.x,this.y),P(this.w,this.h),this.frame),this.ondraw&&this.ondraw(),this.difStep>this.step?(this.frame=this.frame<this.anim.r?this.frame+1:0,this.difStep=0):this.difStep+=1,t&&_e()}},De.prototype.drawFrames=function(t,e,n){this.visible&&this.alpha&&((this.frame<t||this.frame>e)&&(this.frame=t),n=!1,(this.angle||1!=this.alpha||this.flip.x||this.flip.y||this.shadowColor)&&(Ue(this),n=!0),ze(this.anim,S(this.x,this.y),P(this.w,this.h),this.frame),this.ondraw&&this.ondraw(),this.difStep>this.step?(this.frame=this.frame<e?this.frame+1:t,this.difStep=0):this.difStep+=1,n&&_e())},De.prototype.drawFrame=function(t){if(this.visible&&this.alpha){var e=!1;(this.angle||1!=this.alpha||this.flip.x||this.flip.y||this.shadowColor)&&(Ue(this),e=!0),ze(this.anim,S(this.x,this.y),P(this.w,this.h),t),this.ondraw&&this.ondraw(),e&&_e()}},De.prototype.drawToFrame=function(t){if(this.visible&&this.alpha){if(this.frame<t)this.toFrameStep=1;else{if(!(this.frame>t))return void this.drawFrame(t);this.toFrameStep=-1}this.drawFrame(this.frame),this.ondraw&&this.ondraw(),this.difStep>this.step?(this.frame=this.frame<this.anim.r?this.frame+this.toFrameStep:0,this.difStep=0):this.difStep+=1}},De.prototype.drawReverFrames=function(t,e){this.visible&&this.alpha&&(this.drawFrame(this.frame),this.ondraw&&this.ondraw(),this.difStep>this.step?(this.frame<=t?this.toFrameStep=1:this.frame>=e&&(this.toFrameStep=-1),this.frame+=this.toFrameStep,this.difStep=0):this.difStep+=1)},De.prototype.setAnimation=function(t){t.id!=this.anim.id&&(this.frame=0,this.anim=t)},De.prototype.getAnimation=function(){return this.anim},De.prototype.setDelay=function(t){this.step=0<t?t:this.step},De.prototype.getDelay=function(){return this.step},this.game.newAnimationObject=function(t){return new De(t)};var Ie=function(t){var e=!1;return"RectObject"==t.type?e=s.game.newRectObject({}):"CircleObject"==t.type?e=s.game.newCircleObject({}):"RoundRectObject"==t.type?e=s.game.newRoundRectObject({}):"TextObject"==t.type?e=s.game.newTextObject({}):"EllipsObject"==t.type?e=s.game.newEllipsObject({}):"ImageObject"==t.type?e=s.game.newImageObject({file:t.file}):"TriangleObject"==t.type?e=s.game.newTriangleObject({}):"AnimationObject"==t.type&&(e=s.game.newAnimationObject({animation:t.animation})),e},Fe=0,Me=function(t,e){this.file=t,this.loaded=!1,this.h=this.w=0,this.id=Fe++,this.toLoad=[];var n=r.document.createElement("img"),i=this;n.onload=function(){i.loaded=!0,i.w=this.width,i.h=this.height,i.img=r.document.createElement("canvas"),i.img.width=this.width,i.img.height=this.height,i.context=i.img.getContext("2d"),i.context.drawImage(this,0,0),i.toLoad.length&&Vt(i.toLoad,function(t){t.func(i.context,t.w,t.h,t.r)}),e&&(i.onLoad=e,i.onLoad()),an.load()},n.src=t,an.add()};Me.prototype.onContext=function(t){this.loaded?t(this.context,this.w,this.h,1):this.toLoad.push({w:this.w,h:this.h,r:1,func:t})},Me.prototype.getCanvas=function(){return this.img};var Ne=0;Me.prototype.getAnimation=function(t,e,n,i,o){var r=function(t,e,n,i,o,r){this.id=Ne++,this.image=t,this.x=e,this.y=n,this.w=i,this.h=o,this.endFrame=this.r=r?r-1:0,this.frameCount=this.r+1};return r.prototype={onContext:function(t){this.image.loaded?t(this.image.context,this.w,this.h,this.r):this.image.toLoad.push({w:this.w,h:this.h,r:this.r,func:t})},getImage:function(){return this.image},getCount:function(){return this.r}},new r(this,t,e,n,i,o)};var Re=function(t,e){this.loaded=!0,this.w=t,this.h=e,this.img=r.document.createElement("canvas"),this.img.width=t,this.img.height=e,this.context=this.img.getContext("2d")};Re.prototype.onContext=Me.prototype.onContext,Re.prototype.getAnimation=Me.prototype.getAnimation,this.tiles.newDrawImage=function(t,e){return new Re(t,e)},this.tiles.newImage=function(t,e){return new Me(t,e)},this.tiles.newAnimation=function(t,e,n,i){return new Me(t).getAnimation(0,0,e,n,i)};var ze=function(t,e,n,i){if(t&&t.image.loaded){var o=-y.x,r=-y.y;t.image.img&&q.drawImage(t.image.img,t.x+t.w*i,t.y,t.w,t.h,e.x+o,e.y+r,n.w,n.h)}},We={},qe=function(t,e,n){if($t(We[t])){if(e.loaded=!0,e.file=t,e.w&&!e.h)var i=e.w/We[t].w,o=e.w,s=We[t].h*i;else!e.w&&e.h?(i=e.h/We[t].h,s=e.h,o=We[t].w*i):e.w&&e.h?(o=e.w,s=e.h):(o=We[t].w,s=We[t].h);n&&(o*=n,s*=n),e.w=o,e.h=s,e.forOnLoad&&e.forOnLoad()}else o=r.document.createElement("img"),o.onload=function(){if(We[t]={},We[t].loaded=!0,We[t].img=this,We[t].w=this.width,We[t].h=this.height,$t(e)){if(e.loaded=!0,e.w&&!e.h)var i=e.w/We[t].w,o=e.w,r=We[t].h*i;else!e.w&&e.h?(i=e.h/We[t].h,r=e.h,o=We[t].w*i):e.w&&e.h?(o=e.w,r=e.h):(o=We[t].w,r=We[t].h);n&&(o*=n,r*=n),e.w=o,e.h=r,e.file=t,e.forOnLoad&&e.forOnLoad()}an.load()},o.src=t,an.add()},He=function(t,e,n){if(n){var i=-y.x,o=-y.y;We[n]&&q.drawImage(We[n].img,0,0,We[n].w,We[n].h,t.x+i,t.y+o,e.w,e.h)}},Be=function(t){this.type="Mesh",this.objs=[],this.x=t.x||0,this.y=t.y||0,this.angle=t.angle||0,this.count=0;var e=this;t.add&&Vt(t.add,function(t){e.add(t)}),this.angle&&this.setAngle(this.angle)};Be.prototype={getCount:function(){return this.count},getObjects:function(){return this.objs},add:function(t){this.count+=1,this.objs.push(t),t.offsetMesh=t.getPosition(1),t.turn(this.angle),t.setPositionC(S(this.x+t.offsetMesh.x,this.y+t.offsetMesh.y))},del:function(t){var e=this;Vt(this.objs,function(n){n.id==t.id&&(e.objs.splice(void 0,1),e.count--)})},draw:function(t){Vt(this.objs,function(t){t.draw()})},move:function(t){this.x+=t.x||0,this.y+=t.y||0;var e=this;Vt(this.objs,function(t){t.setPositionC(S(e.x+t.offsetMesh.x,e.y+t.offsetMesh.y))})},turn:function(t){if(0!=t){this.angle%=360,this.angle+=t;var e=S(this.x,this.y),n=this;Vt(this.objs,function(i){i.turn(t),i.setPositionC(T(S(n.x+i.offsetMesh.x,n.y+i.offsetMesh.y),e,n.angle))})}},setAngle:function(t){if(t!=this.angle){this.angle=t%=360;var e=S(this.x,this.y),n=this;Vt(this.objs,function(i){i.setAngle(t),i.setPositionC(T(S(n.x+i.offsetMesh.x,n.y+i.offsetMesh.y),e,n.angle))})}},setPosition:function(t){if(this.x!=t.x||this.y!=t.y){this.x=t.x||this.x,this.y=t.y||this.y;var e=this;Vt(this.objs,function(t){e.angle?t.setPositionC(T(S(e.x+t.offsetMesh.x,e.y+t.offsetMesh.y),S(e.x,e.y),e.angle)):t.setPositionC(S(e.x+t.offsetMesh.x,e.y+t.offsetMesh.y))})}},isDynamicIntersect:function(t){if(3>t.length)return!1;var e=!1;return Vt(this.objs,function(n){if(n.isDynamicIntersect(t))return e=n}),e},isStaticIntersect:function(t){var e=!1;return Vt(this.objs,function(n){if(n.isStaticIntersect(t))return e=n}),e},isIntersect:function(t){var e=!1;return Vt(this.objs,function(n){if(n.isIntersect(t))return e=n}),e}},this.game.newMesh=function(t){return new Be(t)},this.camera.setScale=function(t){},this.camera.circling=function(t,e,n){$t(this.circlingAnglePointJS)||(this.circlingAnglePointJS=n),y.x=t.x+e*Math.cos(L(this.circlingAnglePointJS)),y.y=t.y+e*Math.sin(L(this.circlingAnglePointJS)),this.circlingAnglePointJS=360<=this.circlingAnglePointJS?n:this.circlingAnglePointJS+n},this.camera.circlingC=function(t,e,n){$t(this.circlingAnglePointJS)||(this.circlingAnglePointJS=n),y.x=-p+t.x+e*Math.cos(L(this.circlingAnglePointJS)),y.y=-g+t.y+e*Math.sin(L(this.circlingAnglePointJS)),this.circlingAnglePointJS=360<=this.circlingAnglePointJS?n:this.circlingAnglePointJS+n},this.camera.motion=function(t,e,n){$t(this.motionPercentPointJS)||(this.motionPercentPointJS=e),y.x=t.x+e.w*Math.cos(L(this.motionPercentPointJS)),y.y=t.y+e.h*Math.sin(L(this.motionPercentPointJS)),this.motionPercentPointJS=360<=this.motionPercentPointJS?e:this.motionPercentPointJS+n},this.camera.motionC=function(t,e,n){$t(this.motionPercentPointJS)||(this.motionPercentPointJS=e),this.setPositionC(S(t.x+e.w*Math.cos(L(this.motionPercentPointJS)),t.y+e.h*Math.sin(L(this.motionPercentPointJS)))),this.motionPercentPointJS=360<=this.motionPercentPointJS?e:this.motionPercentPointJS+n},this.camera.follow=function(t){this.moveTimeC(t.getPositionC(),10)},this.camera.move=function(t){y.x+=t.x||0,y.y+=t.y||0},this.camera.moveTime=function(t,e){e=e||1;var n=S(y.x,y.y);this.move(S((t.x-n.x)/e,(t.y-n.y)/e))},this.camera.moveTimeC=function(t,e){e=e||1;var n=S(y.x+p,y.y+g);this.move(S((t.x-n.x)/e,(t.y-n.y)/e))},this.camera.setPosition=function(t){Je(S(!1!==t.x?t.x:y.x,!1!==t.y?t.y:y.y))},this.camera.setPositionC=function(t){Je(S(!1!==t.x?t.x-p:y.x,!1!==t.y?t.y-g:y.y))},this.camera.getPosition=function(t){return t?S(y.x+p,y.y+g):S(y.x,y.y)},this.camera.getPositionC=function(){return S(y.x+p,y.y+g)},this.camera.getStaticBox=function(){return{x:y.x,y:y.y,w:y.x+f,h:y.y+d}},this.camera.getDynamicBox=function(){return[S(y.x,y.y),S(y.x+f,y.y),S(y.x+f,y.y+d),S(y.x,y.y+d)]};var Je=function(t){y=S(t.x,t.y)},_e=function(t){q.restore(),q.globalAlpha=m.globalAlpha,q.fillStyle="black",q.strokeStyle="black",q.msImageSmoothingEnabled=l,q.imageSmoothingEnabled=l},Ue=function(t,e){q.save();var n=t.getPositionC();if(t.angle&&(q.translate(-y.x+n.x,-y.y+n.y),q.rotate(L(t.angle)),q.translate(-n.x+y.x,-n.y+y.y)),1!=t.alpha&&(q.globalAlpha=t.alpha),(t.flip.x||t.flip.y)&&(q.translate(-y.x+n.x,-y.y+n.y),q.scale(t.flip.x?-1:1,t.flip.y?-1:1),q.translate(-n.x+y.x,-n.y+y.y)),t.shadowColor&&(q.shadowBlur=t.shadowBlur,q.shadowColor=t.shadowColor,q.shadowOffsetX=t.shadowX,q.shadowOffsetY=t.shadowY),"EllipsObject"==t.type&&!e){n=t.w/2;var i=t.h/2,o=S(-y.x+t.x,-y.y+t.y);q.translate(o.x,o.y),q.scale(n/i,1),q.translate(-o.x,-o.y)}};this.system.setContextSettings=function(t){q.save();for(var e in t)q[e]=t[e]},this.system.defaultSettings=function(){_e()},this.game.clear=function(){q.clearRect(0,0,f,d)},this.game.fill=function(t){q.fillStyle=t,q.fillRect(0,0,f,d)};var Xe=function(t,e,n,i,o,r,s){if(!(3>n.length)){if(i&&!(3>n.length)){q.fillStyle=i,i=-y.x+t;var a,u=-y.y+e;for(q.beginPath(),q.moveTo(i+n[0].x,u+n[0].y),a=1;a<n.length;a+=1)q.lineTo(i+n[a].x,u+n[a].y);q.closePath(),q.fill()}for(i=0;i<n.length;i+=1)u=i+1<n.length?i+1:0,o&&tn(k(n[i],S(t,e)),k(n[u],S(t,e)),o,r),s&&Ke(k(n[i],S(t,e)),s)}},$e=function(t){t.x||(t.x=0),t.y||(t.y=0),t.w||(t.w=0),t.h||(t.h=0)};this.brush.drawPolygon=function(t){var e=t.points||[],n=t.fillColor||!1,i=t.strokeColor||!1,o=t.strokeWidth||1;if(t=t.pointColor||!1,!(3>e.length)){if(n&&!(3>e.length)){q.fillStyle=n,n=-y.x;var r,s=-y.y;for(q.beginPath(),q.moveTo(n+e[0].x,s+e[0].y),r=1;r<e.length;r+=1)q.lineTo(n+e[r].x,s+e[r].y);q.closePath(),q.fill()}for(n=0;n<e.length;n+=1)s=n+1<e.length?n+1:0,i&&tn(e[n],e[s],i,o),t&&Ke(e[n],t)}},this.brush.drawTriangle=function(t){if($e(t),t.x+t.w<y.x||t.x>y.x+f||t.y+t.h<y.y||t.y>y.y+d)return!1;Xe(t.x,t.y,[S(t.w/2,0),S(t.w,t.h),S(0,t.h)],t.fillColor,t.strokeColor,t.strokeWidth)},this.brush.drawTriangleS=function(t){if($e(t),0>t.x+t.w||t.x>f||0>t.y+t.h||t.y>d)return!1;Xe(y.x+t.x,y.y+t.y,[S(t.w/2,0),S(t.w,t.h),S(0,t.h)],t.fillColor,t.strokeColor,t.strokeWidth)};var Ge=function(t,e,n,i,o,r,s,a,u){q.textAlign=s,q.lineWidth=u,q.font=(r?r+" ":"")+i+"px "+o,i=-y.x,o=-y.y,n&&(q.fillStyle=n,q.fillText(e,i+t.x,o+t.y)),a&&(q.strokeStyle=a,q.strokeText(e,i+t.x,o+t.y))};this.brush.drawMultiText=function(t){var e,n=t.text.split("\n");for(e=0;e<n.length;e+=1)Ge(S(t.x,t.y+t.size*e),n[e],t.color||m.fillStyle,t.size||10,t.font||m.font,t.style||!1,t.align||"left",t.strokeColor||!1,t.strokeWidth||2)},this.brush.drawMultiTextS=function(t){var e,n=t.text.split("\n"),i=t.size||10;for(e=0;e<n.length;e+=1)Ge(S(t.x+y.x,t.y+y.y+i*e),n[e],t.color||m.fillStyle,i||10,t.font||m.font,t.style||!1,t.align||"left",t.strokeColor||!1,t.strokeWidth||2)},this.brush.drawText=function(t){Ge(S(t.x||0,t.y||0),t.text,t.color||!1,t.size||10,t.font||m.font,t.style||!1,t.align||"left",t.strokeColor||!1,t.strokeWidth||2)},this.brush.drawTextS=function(t){Ge(S((t.x||0)+y.x,(t.y||0)+y.y),t.text,t.color||m.fillStyle,t.size||10,t.font||m.font,t.style||!1,t.align||"left",t.strokeColor||!1,t.strokeWidth||2)},this.brush.drawTextLines=function(t){if(t.lines){var e,n=t.size||10;for(e=0;e<t.lines.length;e+=1)Ge(S(t.x,t.y+n*e),t.lines[e],t.color||m.fillStyle,n,t.font||m.font,t.style||!1,t.align||"left",t.strokeColor||!1,t.strokeWidth||2)}},this.brush.drawTextLinesS=function(t){if(t.lines){var e,n=t.size||10;for(e=0;e<t.lines.length;e+=1)Ge(S(t.x+y.x,t.y+y.y+n*e),t.lines[e],t.color||m.fillStyle,n,t.font||m.font,t.style||!1,t.align||"left",t.strokeColor||!1,t.strokeWidth||2)}};var Ye=function(t,e,n){tn(S(t.x-e,t.y),S(t.x+e,t.y),n,2),tn(S(t.x,t.y-e),S(t.x,t.y+e),n,2)},Ve=function(t,e,n,i,o){q.fillStyle=n,q.strokeStyle=i,q.lineWidth=o,i=-y.x+(o?o/2:0);var r=-y.y+(o?o/2:0);n&&q.fillRect(t.x+i,t.y+r,e.w,e.h),o&&q.strokeRect(t.x+i,t.y+r,e.w,e.h)};this.brush.drawRect=function(t){if($e(t),t.x+t.w<y.x||t.x>y.x+f||t.y+t.h<y.y||t.y>y.y+d)return!1;Ve(S(t.x,t.y),P(t.w,t.h),t.fillColor||!1,t.strokeColor||m.strokeStyle,t.strokeWidth||!1)},this.brush.drawRectS=function(t){if($e(t),0>t.x+t.w||t.x>f||0>t.y+t.h||t.y>d)return!1;Ve(S(t.x+y.x,t.y+y.y),P(t.w,t.h),t.fillColor||!1,t.strokeColor||m.strokeStyle,t.strokeWidth||!1)};var Ke=function(t,e){(q.fillStyle=e)&&q.fillRect(-y.x+t.x-1,-y.y+t.y-1,2,2)};this.brush.drawPoint=function(t){if($e(t),t.x<y.x||t.x>y.x+f||t.y<y.y||t.y>y.y+d)return!1;Ke(S(t.x,t.y),t.fillColor||!1)},this.brush.drawPointS=function(t){if($e(t),0>t.x||t.x>f||0>t.y||t.y>d)return!1;Ke(S(t.x+y.x,t.y+y.y),t.fillColor||!1)};var Qe=function(t,e,n,i,o,r){q.fillStyle=i,q.strokeStyle=o,q.lineWidth=r,o=-y.x+t.x+(r?r/2:0),t=-y.y+t.y+(r?r/2:0),q.beginPath(),q.moveTo(o+n,t),q.lineTo(o+e.w-n,t),q.quadraticCurveTo(o+e.w,t,o+e.w,t+n),q.lineTo(o+e.w,t+e.h-n),q.quadraticCurveTo(o+e.w,t+e.h,o+e.w-n,t+e.h),q.lineTo(o+n,t+e.h),q.quadraticCurveTo(o,t+e.h,o,t+e.h-n),q.lineTo(o,t+n),q.quadraticCurveTo(o,t,o+n,t),q.closePath(),i&&q.fill(),r&&q.stroke()};this.brush.drawRoundRect=function(t){if($e(t),t.x+t.w<y.x||t.x>y.x+f||t.y+t.h<y.y||t.y>y.y+d)return!1;Qe(S(t.x,t.y),P(t.w,t.h),t.radius||2,t.fillColor||!1,t.strokeColor||m.strokeStyle,t.strokeWidth||!1)},this.brush.drawRoundRectS=function(t){if($e(t),0>t.x+t.w||t.x>f||0>t.y+t.h||t.y>d)return!1;Qe(S(y.x+t.x,y.y+t.y),P(t.w,t.h),t.radius||2,t.fillColor||!1,t.strokeColor||m.strokeStyle,t.strokeWidth||!1)};var Ze=function(t,e,n,i,o){q.fillStyle=n,q.strokeStyle=i,q.lineWidth=o,i=-y.x+e+(o?o/2:0);var r=-y.y+e+(o?o/2:0);q.beginPath(),q.arc(t.x+i,t.y+r,e,0,2*Math.PI,!0),q.closePath(),n&&q.fill(),o&&q.stroke()};this.brush.drawCircle=function(t){$e(t);var e=2*t.radius;if(t.x+e<y.x||t.x>y.x+f||t.y+e<y.y||t.y>y.y+d)return!1;Ze(S(t.x,t.y),t.radius,t.fillColor||!1,t.strokeColor||m.strokeStyle,t.strokeWidth||!1)},this.brush.drawCircleS=function(t){$e(t);var e=2*t.radius;if(0>t.x+e||t.x>f||0>t.y+e||t.y>d)return!1;Ze(S(t.x+y.x,t.y+y.y),t.radius,t.fillColor||!1,t.strokeColor||m.strokeStyle,t.strokeWidth||!1)};var tn=function(t,e,n,i){q.strokeStyle=n,q.lineWidth=i,n=-y.x,i=-y.y,q.beginPath(),q.moveTo(n+t.x,i+t.y),q.lineTo(n+e.x,i+e.y),q.closePath(),q.stroke()};this.brush.drawLineAngle=function(t){var e=T(S(t.x+t.length,t.y),S(t.x,t.y),t.angle);tn(S(t.x,t.y),S(e.x,e.y),t.strokeColor||m.strokeStyle,t.strokeWidth||1)},this.brush.drawLineAngleS=function(t){var e=T(S(y.x+t.x+t.length,y.y+t.y),S(y.x+t.x,y.y+t.y),t.angle);tn(S(y.x+t.x,y.y+t.y),S(e.x,e.y),t.strokeColor||m.strokeStyle,t.strokeWidth||1)},this.brush.drawLine=function(t){tn(S(t.x1,t.y1),S(t.x1+t.x2,t.y1+t.y2),t.strokeColor||m.strokeStyle,t.strokeWidth||1)},this.brush.drawLineS=function(t){tn(S(y.x+t.x1,y.y+t.y1),S(y.x+t.x2,y.y+t.y2),t.strokeColor||m.strokeStyle,t.strokeWidth||1)},this.brush.drawLineA=function(t){tn(S(t.x1,t.y1),S(t.x2,t.y2),t.strokeColor||m.strokeStyle,t.strokeWidth||1)},this.brush.drawLineAS=function(t){tn(S(t.x1+y.x,t.y1+y.y),S(t.x2+y.x,t.y2+y.y),t.strokeColor||m.strokeStyle,t.strokeWidth||1)},this.brush.drawEllips=function(t){if($e(t),t.x+t.w<y.x||t.x>y.x+f||t.y+t.h<y.y||t.y>y.y+d)return!1;var e=t.w/2,n=t.h/2,i=S(-y.x+t.x,-y.y+t.y);q.save(),q.translate(i.x,i.y),q.scale(e/n,1),q.translate(-i.x,-i.y),Ze(S(t.x,t.y),n,t.fillColor,t.strokeColor,t.strokeWidth),q.restore()},this.brush.drawEllipsS=function(t){if($e(t),0>t.x+t.w||t.x>f||0>t.y+t.h||t.y>d)return!1;var e=t.w/2,n=t.h/2,i=S(t.x,t.y);q.save(),q.translate(i.x,i.y),q.scale(e/n,1),q.translate(-i.x,-i.y),Ze(S(y.x+t.x,y.y+t.y),n,t.fillColor,t.strokeColor,t.strokeWidth),q.restore()},this.brush.drawImageS=function(t){if(t.file)if($t(We[t.file])){if(We[t.file].loaded){var e=t.x||0,n=t.y||0;if(t.w&&!t.h)var i=t.w/We[t.file].w,o=t.w,s=We[t.file].h*i;else!t.w&&t.h?(i=t.h/We[t.file].h,s=t.h,o=We[t.file].w*i):t.w&&t.h?(o=t.w,s=t.h):(o=We[t.file].w,s=We[t.file].h);if(t.scale&&(o*=t.scale,s*=t.scale),0>e+o||e>f||0>n+s||n>d)return!1;q.drawImage(We[t.file].img,0,0,We[t.file].w,We[t.file].h,e,n,o,s)}}else We[t.file]={loaded:!1},e=r.document.createElement("img"),e.onload=function(){We[t.file].loaded=!0,We[t.file].img=this,We[t.file].w=this.width,We[t.file].h=this.height,an.load()},e.src=t.file,an.add()},this.brush.drawImage=function(t){if(t.file)if($t(We[t.file])){if(We[t.file].loaded){var e=t.x||0,n=t.y||0;if(t.w&&!t.h)var i=t.w/We[t.file].w,o=t.w,s=We[t.file].h*i;else!t.w&&t.h?(i=t.h/We[t.file].h,s=t.h,o=We[t.file].w*i):t.w&&t.h?(o=t.w,s=t.h):(o=We[t.file].w,s=We[t.file].h);if(t.scale&&(o*=t.scale,s*=t.scale),e+o<y.x||e>y.x+f||n+s<y.y||n>y.y+d)return!1;q.drawImage(We[t.file].img,0,0,We[t.file].w,We[t.file].h,-y.x+e,-y.y+n,o,s)}}else We[t.file]={},We[t.file].loaded=!1,e=r.document.createElement("img"),e.onload=function(){We[t.file].loaded=!0,We[t.file].img=this,We[t.file].w=this.width,We[t.file].h=this.height,an.load()},e.src=t.file,an.add()},this.brush.onContext=function(t){t(q)},this.brush.getPixelColor=function(t,e){var n=q.getImageData(t,e,1,1).data;return"rgb("+n[0]+", "+n[1]+", "+n[2]+")"},this.brush.setPixelColor=function(t,e,n){var i=q.createImageData(1,1);i.data[0]=n.r||i.data[0],i.data[1]=n.g||i.data[1],i.data[2]=n.b||i.data[2],i.data[3]=n.a||255,q.putImageData(i,t,e)},this.brush.onPixel=function(t,e,n){var i=q.getImageData(t,e,1,1),o={r:i.data[0],g:i.data[1],b:i.data[2],a:i.data[3]?i.data[3]:255};n(o),i.data[0]=o.r,i.data[1]=o.g,i.data[2]=o.b,i.data[3]=o.a,q.putImageData(i,t,e)},this.brush.onPixels=function(t,e,n,i,o){n=q.getImageData(t,e,n,i);var r;for(i=0,r=n.data.length;i<r;i+=4){var s={r:n.data[i],g:n.data[i+1],b:n.data[i+2],a:n.data[i+3]?n.data[i+3]:255};o(s),n.data[i]=s.r,n.data[i+1]=s.g,n.data[i+2]=s.b,n.data[i+3]=s.a}q.putImageData(n,t,e)},this.brush.onRawPixels=function(t,e,n,i,o){n=q.getImageData(t,e,n,i),o(n.data,n.data.length),q.putImageData(n,t,e)};var en=r.AudioContext||r.webkitAudioContext||!1;(en=!!en&&new en)&&en.listener.setPosition(0,0,0);var nn=function(t,e){en||v('module "wAudio" is not supported! use a "audio"'),this.vol=e&&1>=e&&0<e?e:1,this.loadPLay=this.nextPlay=this.loaded=this.playing=!1,this.pausedTime=this.duration=this.startTime=0;var n=this,i=new XMLHttpRequest;i.open("GET",t,!0),i.responseType="arraybuffer",i.onload=function(t){en.decodeAudioData(this.response,function(t){n.wABuffer=t,n.duration=n.wABuffer.duration,n.wAGain=en.createGain(),n.wAGain.gain.value=n.vol,n.wAPanner=en.createPanner(),n.wAPanner.setPosition(0,0,1),n.wAPanner.panningModel="equalpower",an.load(),n.loaded=!0,n.loadPlay&&n.replay()},function(t){v("error in wAudio.newAudio : error decoding file",t)})},t?i.send():v("error in wAudio.newAudio : Where is file?"),an.add()};nn.prototype.play=function(t){if(this.loaded){if(!this.playing){this.playing=!0,this.wASource=en.createBufferSource(),this.wASource.buffer=this.wABuffer,this.wAListener=en.destination,this.wASource.connect(this.wAGain),this.wAGain.connect(this.wAPanner),this.wAPanner.connect(this.wAListener),this.wASource.start(0,this.pausedTime,this.duration),this.startTime=en.currentTime;var e=this;this.wASource.onended=function(){e.playing=!1,e.startTime=0,e.pausedTime=0,e.nextPlay&&e.nextPlay.replay()}}}else this.loadPlay=!0},nn.prototype.replay=function(t){this.loaded?(this.stop(),this.play()):this.loadPlay=!0},nn.prototype.stop=function(){this.pause(),this.pausedTime=this.startTime=0},nn.prototype.pause=function(){if(this.playing){this.pausedTime=this.getProgress(),this.playing=!1,this.wASource.stop(0);var t=this;this.wASource.onended=function(){t.playing=!1}}},nn.prototype.getProgress=function(){return this.playing?en.currentTime-this.startTime+this.pausedTime:this.pausedTime},nn.prototype.playPause=function(){this.playing?this.pause():this.play()},nn.prototype.setNextPlay=function(t){this.nextPlay=t},nn.prototype.setVolume=function(t){this.vol=t&&1>=t&&0<t?t:this.vol,this.wAGain.gain.value=this.vol},nn.prototype.getVolume=function(){return this.vol},nn.prototype.setSide=function(t){this.side=t,this.wAPanner&&this.wAPanner.setPosition(this.side,0,1-Math.abs(this.side))},nn.prototype.getSide=function(){return this.side},this.wAudio.newAudio=function(t,e){return new nn(t,e)};var on=function(t,e){var n,i=r.document.createElement("audio");if("string"==typeof t){var o=r.document.createElement("source");o.src=t,i.appendChild(o)}else{var s=0;for(n=t.length;s<n;s+=1)o=r.document.createElement("source"),o.src=t[s],i.appendChild(o)}this.vol=e&&1>=e&&0<e?e:1,this.playing=0,this.audio=i,this.nextPlay=this.loaded=!1,i.volume=this.vol;var a=this;i.onloadeddata=function(){a.loaded=!0,an.load()},i.onended=function(){a.playing=!1,a.nextPlay&&a.nextPlay.play()},i.load(),an.add()};on.prototype.play=function(t){this.playing||(t&&(this.vol=t&&1>=t&&0<t?t:this.vol,this.audio.volume=this.vol),this.playing=!0,this.audio.play())},on.prototype.replay=function(t){t&&this.setVolume(t),this.playing=!0,this.audio.currentTime=0,this.audio.play()},on.prototype.stop=function(){this.playing&&(this.playing=!1,this.audio.pause(),this.audio.currentTime=0)},on.prototype.pause=function(){this.playing&&(this.playing=!1,this.audio.pause())},on.prototype.playPause=function(){this.playing?this.pause():this.play()},on.prototype.setNextPlay=function(t){this.nextPlay=t},on.prototype.setVolume=function(t){this.vol=t&&1>=t&&0<t?t:this.vol,this.audio.volume=this.vol},on.prototype.getVolume=function(){return this.vol},this.audio.newAudio=function(t,e){return new on(t,e)};var rn=[],sn=[];this.zList.useZValue=function(){this.update=function(){sn.length=0,Vt(rn,function(t){t.isInCamera()&&sn.push(t)}),sn.sort(function(t,e){return t.z-e.z})}},this.zList.useYValue=function(){this.update=function(){sn.length=0,Vt(rn,function(t){t.isInCamera()&&sn.push(t)}),sn.sort(function(t,e){return t.y+t.h-(e.y+e.h)})}},this.zList.add=function(t){rn.push(t)},this.zList.init=function(t){Vt(t,function(t){s.zList.add(t)})},this.zList.draw=function(t){s.OOP.drawArr(sn,t)},this.zList.del=function(t){s.OOP.delObject(rn,t)},this.zList.useYValue();var an={count:0,loaded:0,errored:0,add:function(){this.count+=1},load:function(){this.loaded+=1},error:function(){this.errored+=1}};this.resources.isLoaded=function(){return an.count==an.loaded},this.resources.getProgress=function(){return Math.ceil(an.loaded/an.count*100)},this.levels.forStringArray=function(t,e){var n=t.offset||S(0,0);Vt(t.source,function(i,o){Vt(i,function(i,r){" "!=i&&e(i,n.x+t.w*r,n.y+t.h*o,t.w,t.h)})})};var un=function(t){"ImageObject"==t.type&&"undefined"!=typeof RESOURCES&&t.resFile&&(t.file=RESOURCES[t.resFile]),"AnimationObject"==t.type&&"undefined"!=typeof ANIMATIONS&&t.animId&&(t.anim=ANIMATIONS[t.animId]);var e=Ie(t);return e.name="",Yt(t,function(t,n){"id"!=n&&(e[n]=t)}),e},cn=function(t,e){var n={settings:{},objects:[]};return t=JSON.parse(t),n.settings=t.settings,Vt(t.objects,function(t){var i=un(t);i.name=t.name,e&&e(i),n.objects.push(i)}),n},hn=function(t,e,n){var i=[],o={};if(t&&"json"==e){e=cn(t,n),i=e.objects,o=e.settings;var r=t}this.backgroundColor=!!o.backgroundColor&&o.backgroundColor,this.reload=function(){i=cn(r)},this.clear=function(){Kt(i)},this.add=function(t){i.push(t)},this.del=function(t){Vt(i,function(e,n){if(t.id==e.id)return i.splice(n,1),"break"})},this.delById=function(t){i.splice(t,1)},this.getObjects=function(){return i},this.getObjectByName=function(t){var e,n=0;for(e=i.length;n<e;n+=1)if(i[n].name==t)return i[n];return!1},this.getObjectById=function(t){var e,n=0;for(e=i.length;n<e;n+=1)if(i[n].id==t)return i[n];return!1},this.draw=function(t){this.backgroundColor&&s.game.fill(this.backgroundColor),Vt(i,function(e){t&&t(e),e.draw()})},this.getLevelAsJSON=function(t,e){var n='{"settings":'+JSON.stringify({backgroundColor:this.backgroundColor})+',"objects":[';return i.length?(Vt(i,function(i,o){t&&t(i),n+="{",Yt(i,function(t,e){"function"!=typeof t&&(n+='"'+e+'":'+JSON.stringify(t)+",")}),n=n.substr(0,n.length-1)+"},",e&&e(i)}),(n=n.substr(0,n.length-1))+"]}"):n+"]}"}};this.levels.newLevelFromJSON=function(t,e){return new hn(t,"json",e||!1)},this.levels.newEmptyLevel=function(t){return new hn(!1)};var ln=0,fn=0,dn=0,pn=!1;this.system.initFPSCheck=function(){pn||(pn=!0,W.addEvent("postLoop","fpsCheckUpdate",function(){dn+=1,1e3<=ne-fn&&(ln=dn,dn=0,fn=ne)}))},this.system.getFPS=function(){return ln};var gn=this.filters;gn.setCSSFilter=function(t,e){var n=(e?e.canvas:B).style,i="";Yt(t,function(t,e){i+=" "+e+"("+t+")"}),n.OFilter=n.MozFilter=n.WebkitFilter=n.filter=i},gn.clearCSSFilter=function(t){t=(t?t.canvas:B).style,t.OFilter=t.MozFilter=t.WebkitFilter=t.filter="none"},gn.setCSSTransform=function(t,e){var n=(e?e.canvas:B).style,i="perspective("+f+"px)";Yt(t,function(t,e){i+=" "+e+"("+t+")"}),n.transform=n.MozTransform=n.WebkitTransform=i},gn.clearCSSTransform=function(t){t=(t?t.canvas:B).style,t.transform=t.MozTransform=t.WebkitTransform="none"},this.OOP.newRever=function(t,e,n){var i=function(t,e,n){this.min=t,this.max=e,this.step=n,this.value=t,this.to=n};return i.prototype={update:function(){var t=this.value;return this.value<=this.min?this.to=this.step:this.value>=this.max&&(this.to=-this.step),this.value+=this.to,t},getValue:function(){return this.value},setValue:function(t){this.value=parseFloat(t)},setStep:function(t){this.step=t},getStep:function(){return this.step}},new i(t,e,n)};var yn={};this.OOP.once=function(t,e){yn[t]||(yn[t]=!0,e())},this.OOP.newTimer=function(t,e){if(0>=t)return ve("error in system.newTimer : variable < 0, Timer is not created");var n={time:0<t?t:1e3,func:e,startTime:!1,ending:!1,start:function(){this.ending||this.startTime||(this.startTime=ne)},run:function(){!this.ending&&this.startTime&&ne-this.startTime>=this.time&&(this.func(),this.ending=!0)},end:function(){this.ending||(this.ending=!0,this.func())},restart:function(t){if(this.startTime||this.start(),this.ending){if(t&&0>=t)return ve("error in Timer.restart : variable < 0");t&&(this.time=t),this.ending=!1,this.startTime=ne}},stop:function(){this.ending||(this.ending=!0)}};return W.addEvent("postLoop","timer"+D(-100,100)*D(-100,100)+ne,function(){n.run()}),n},this.memory.local={storage:r.localStorage,clear:function(){this.storage.clear()},save:function(t,e){this.storage.setItem(t,e)},saveAsObject:function(t,e){var n=JSON.stringify(e);this.storage.setItem(t,n)},loadAsObject:function(t){return JSON.parse(this.storage.getItem(t))},load:function(t){return this.storage.getItem(t)},loadAsNumber:function(t){return parseFloat(this.storage.getItem(t))}},this.memory.temp={values:{},save:function(t,e){this.values[t]=e},load:function(t){return this.values[t]},loadAsNumber:function(t){return parseFloat(this.values[t])}},r.onload=function(){if(q){for(var t in m)q[t]=m[t];q.save()}return W.runEvent("onload"),W.loaded=!0,"function"==typeof POINTJS_USER_ONLOAD&&POINTJS_USER_ONLOAD(),!1},r.onblur=function(){if(h)return W.runEvent("gameBlur"),!1},r.onfocus=function(){if(!h)return r.document.activeElement.blur(),r.focus(),W.runEvent("gameFocus"),!1},r.onresize=function(){return W.runEvent("gameResize"),q&&(q.textBaseline=m.textBaseline),!1},r.onclick=function(){r.document.activeElement.blur(),r.focus()},"undefined"!=typeof POINTJS_LOADED_DOM_IGNORE&&r.onload()}var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};t.exports=i},function(t,e,n){var i=n(9);"string"==typeof i&&(i=[[t.i,i,""]]);var o={hmr:!0};o.transform=void 0;n(11)(i,o);i.locals&&(t.exports=i.locals)},function(t,e,n){e=t.exports=n(10)(void 0),e.push([t.i,"body {\n  background: black;\n}\n\n.chat {\n  width: 300px;\n  height: 200px;\n  background: gray;\n}\n\n",""])},function(t,e){function n(t,e){var n=t[1]||"",o=t[3];if(!o)return n;if(e&&"function"==typeof btoa){var r=i(o);return[n].concat(o.sources.map(function(t){return"/*# sourceURL="+o.sourceRoot+t+" */"})).concat([r]).join("\n")}return[n].join("\n")}function i(t){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(t))))+" */"}t.exports=function(t){var e=[];return e.toString=function(){return this.map(function(e){var i=n(e,t);return e[2]?"@media "+e[2]+"{"+i+"}":i}).join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var i={},o=0;o<this.length;o++){var r=this[o][0];"number"==typeof r&&(i[r]=!0)}for(o=0;o<t.length;o++){var s=t[o];"number"==typeof s[0]&&i[s[0]]||(n&&!s[2]?s[2]=n:n&&(s[2]="("+s[2]+") and ("+n+")"),e.push(s))}},e}},function(t,e,n){function i(t,e){for(var n=0;n<t.length;n++){var i=t[n],o=p[i.id];if(o){o.refs++;for(var r=0;r<o.parts.length;r++)o.parts[r](i.parts[r]);for(;r<i.parts.length;r++)o.parts.push(h(i.parts[r],e))}else{for(var s=[],r=0;r<i.parts.length;r++)s.push(h(i.parts[r],e));p[i.id]={id:i.id,refs:1,parts:s}}}}function o(t,e){for(var n=[],i={},o=0;o<t.length;o++){var r=t[o],s=e.base?r[0]+e.base:r[0],a=r[1],u=r[2],c=r[3],h={css:a,media:u,sourceMap:c};i[s]?i[s].parts.push(h):n.push(i[s]={id:s,parts:[h]})}return n}function r(t,e){var n=y(t.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var i=x[x.length-1];if("top"===t.insertAt)i?i.nextSibling?n.insertBefore(e,i.nextSibling):n.appendChild(e):n.insertBefore(e,n.firstChild),x.push(e);else if("bottom"===t.insertAt)n.appendChild(e);else{if("object"!=typeof t.insertAt||!t.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var o=y(t.insertInto+" "+t.insertAt.before);n.insertBefore(e,o)}}function s(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t);var e=x.indexOf(t);e>=0&&x.splice(e,1)}function a(t){var e=document.createElement("style");return t.attrs.type="text/css",c(e,t.attrs),r(t,e),e}function u(t){var e=document.createElement("link");return t.attrs.type="text/css",t.attrs.rel="stylesheet",c(e,t.attrs),r(t,e),e}function c(t,e){Object.keys(e).forEach(function(n){t.setAttribute(n,e[n])})}function h(t,e){var n,i,o,r;if(e.transform&&t.css){if(!(r=e.transform(t.css)))return function(){};t.css=r}if(e.singleton){var c=v++;n=m||(m=a(e)),i=l.bind(null,n,c,!1),o=l.bind(null,n,c,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=u(e),i=d.bind(null,n,e),o=function(){s(n),n.href&&URL.revokeObjectURL(n.href)}):(n=a(e),i=f.bind(null,n),o=function(){s(n)});return i(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;i(t=e)}else o()}}function l(t,e,n,i){var o=n?"":i.css;if(t.styleSheet)t.styleSheet.cssText=b(e,o);else{var r=document.createTextNode(o),s=t.childNodes;s[e]&&t.removeChild(s[e]),s.length?t.insertBefore(r,s[e]):t.appendChild(r)}}function f(t,e){var n=e.css,i=e.media;if(i&&t.setAttribute("media",i),t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}function d(t,e,n){var i=n.css,o=n.sourceMap,r=void 0===e.convertToAbsoluteUrls&&o;(e.convertToAbsoluteUrls||r)&&(i=w(i)),o&&(i+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */");var s=new Blob([i],{type:"text/css"}),a=t.href;t.href=URL.createObjectURL(s),a&&URL.revokeObjectURL(a)}var p={},g=function(t){var e;return function(){return void 0===e&&(e=t.apply(this,arguments)),e}}(function(){return window&&document&&document.all&&!window.atob}),y=function(t){var e={};return function(n){if(void 0===e[n]){var i=t.call(this,n);if(i instanceof window.HTMLIFrameElement)try{i=i.contentDocument.head}catch(t){i=null}e[n]=i}return e[n]}}(function(t){return document.querySelector(t)}),m=null,v=0,x=[],w=n(12);t.exports=function(t,e){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");e=e||{},e.attrs="object"==typeof e.attrs?e.attrs:{},e.singleton||(e.singleton=g()),e.insertInto||(e.insertInto="head"),e.insertAt||(e.insertAt="bottom");var n=o(t,e);return i(n,e),function(t){for(var r=[],s=0;s<n.length;s++){var a=n[s],u=p[a.id];u.refs--,r.push(u)}if(t){i(o(t,e),e)}for(var s=0;s<r.length;s++){var u=r[s];if(0===u.refs){for(var c=0;c<u.parts.length;c++)u.parts[c]();delete p[u.id]}}}};var b=function(){var t=[];return function(e,n){return t[e]=n,t.filter(Boolean).join("\n")}}()},function(t,e){t.exports=function(t){var e="undefined"!=typeof window&&window.location;if(!e)throw new Error("fixUrls requires window.location");if(!t||"string"!=typeof t)return t;var n=e.protocol+"//"+e.host,i=n+e.pathname.replace(/\/[^\/]*$/,"/");return t.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(t,e){var o=e.trim().replace(/^"(.*)"$/,function(t,e){return e}).replace(/^'(.*)'$/,function(t,e){return e});if(/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/)/i.test(o))return t;var r;return r=0===o.indexOf("//")?o:0===o.indexOf("/")?n+o:i+o.replace(/^\.\//,""),"url("+JSON.stringify(r)+")"})}},function(t,e,n){function i(t){return n(o(t))}function o(t){var e=r[t];if(!(e+1))throw new Error("Cannot find module '"+t+"'.");return e}var r={"./editor/index.js":14,"./main/index.js":15};i.keys=function(){return Object.keys(r)},i.resolve=o,t.exports=i,i.id=13},function(t,e,n){"use strict";n(0).game.newLoop("editor",new function(){this.update=function(){}})},function(t,e,n){"use strict";(function(t){var e=n(0),i=n(1),o=n(4),r=n(2),s=n(5),a=n(16),u=n(17),c=u("chat.tpl"),h=t(c(".chat"));t(c(".chat > .messages"));h.css("display","none"),r.events.on("logoLoaded",function(){}),r.events.on("progress",function(t){setTimeout(function(){r.events.emit("client.connection")},1e4)}),e.game.newLoop("main",new function(){this.entry=function(){i.logo.step>9&&h.css("display","block"),s.connection.entry(),a.backgroundAnimation.entry()},this.update=function(){e.game.fill("#000000"),i.logo.draw(),o.progress.draw(),a.backgroundAnimation.draw(),4===i.logo.step&&s.connection.draw()},this.exit=function(){h.css("display","none")}})}).call(e,n(3))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.backgroundAnimation=void 0;var i=n(0),o=n(1),r=(n(5),{list:[],entry:function(){var t=this,e=i.game.getWH();i.OOP.forInt((e.w-e.h)/4,function(n){t.list.push(i.game.newCircleObject({x:(0,i.random)(0,e.w),y:(0,i.random)(0,e.h),radius:1,fillColor:"#ffffff",userData:{_x:(0,i.random)(0,1)?-(0,i.random)(1,5)/10:(0,i.random)(1,5)/10,_y:(0,i.random)(0,1)?-(0,i.random)(1,5)/10:(0,i.random)(1,5)/10}}))})},draw:function(){var t=this;if(!(o.logo.step>6)){var e=i.game.getWH();i.OOP.forArr(this.list,function(n){n.x+=n._x,n.y+=n._y,n.x<0&&(n._x=(0,i.random)(1,5)/10),n.x>e.w&&(n._x=-(0,i.random)(1,5)/10),n.y<0&&(n._y=(0,i.random)(1,5)/10),n.y>e.h&&(n._y=-(0,i.random)(1,5)/10),i.OOP.forArr(t.list,function(t){i.vector.getDistance(n.getPosition(),t.getPosition())<70&&i.brush.drawLineAS({x1:n.x,y1:n.y,x2:t.x,y2:t.y,strokeColor:"#7698cc",strokeWidth:.02})})})}}});e.backgroundAnimation=r},function(t,e,n){"use strict";(function(e){var i=n(0),o=e("body");t.exports=function(t){var r=i.OOP.getUniqueKey(32),s=document.createElement("span");s.onmousedown=s.onmouseup=s.onmousemove=s.onmousewheel=s.onclick=s.onkeydown=s.oncontextmenu=s.onkeypress=s.onkeyup=function(t){t.stopPropagation()};var a=e(s).attr("id",r).css({position:"absolute",zIndex:3e4}),u=i.OOP.parse(n(18)("./"+t));return a.append(u),o.append(a),function(t){return"#"+r+" > "+t}}}).call(e,n(3))},function(t,e,n){function i(t){return n(o(t))}function o(t){var e=r[t];if(!(e+1))throw new Error("Cannot find module '"+t+"'.");return e}var r={"./chat.tpl":19};i.keys=function(){return Object.keys(r)},i.resolve=o,t.exports=i,i.id=18},function(t,e,n){t.exports=n.p+"tpl/chat.tpl"},function(t,e,n){function i(t){return n(o(t))}function o(t){var e=r[t];if(!(e+1))throw new Error("Cannot find module '"+t+"'.");return e}var r={"./0.jpg":21,"./1.jpg":22,"./10.jpg":23,"./11.jpg":24,"./12.jpg":25,"./13.jpg":26,"./14.jpg":27,"./15.jpg":28,"./16.jpg":29,"./17.jpg":30,"./18.jpg":31,"./19.jpg":32,"./2.jpg":33,"./20.jpg":34,"./21.jpg":35,"./22.jpg":36,"./23.jpg":37,"./24.jpg":38,"./25.jpg":39,"./26.jpg":40,"./27.jpg":41,"./28.jpg":42,"./29.jpg":43,"./3.jpg":44,"./4.jpg":45,"./5.jpg":46,"./6.jpg":47,"./7.jpg":48,"./8.jpg":49,"./9.jpg":50};i.keys=function(){return Object.keys(r)},i.resolve=o,t.exports=i,i.id=20},function(t,e,n){t.exports=n.p+"images/background/0.jpg"},function(t,e,n){t.exports=n.p+"images/background/1.jpg"},function(t,e,n){t.exports=n.p+"images/background/10.jpg"},function(t,e,n){t.exports=n.p+"images/background/11.jpg"},function(t,e,n){t.exports=n.p+"images/background/12.jpg"},function(t,e,n){t.exports=n.p+"images/background/13.jpg"},function(t,e,n){t.exports=n.p+"images/background/14.jpg"},function(t,e,n){t.exports=n.p+"images/background/15.jpg"},function(t,e,n){t.exports=n.p+"images/background/16.jpg"},function(t,e,n){t.exports=n.p+"images/background/17.jpg"},function(t,e,n){t.exports=n.p+"images/background/18.jpg"},function(t,e,n){t.exports=n.p+"images/background/19.jpg"},function(t,e,n){t.exports=n.p+"images/background/2.jpg"},function(t,e,n){t.exports=n.p+"images/background/20.jpg"},function(t,e,n){t.exports=n.p+"images/background/21.jpg"},function(t,e,n){t.exports=n.p+"images/background/22.jpg"},function(t,e,n){t.exports=n.p+"images/background/23.jpg"},function(t,e,n){t.exports=n.p+"images/background/24.jpg"},function(t,e,n){t.exports=n.p+"images/background/25.jpg"},function(t,e,n){t.exports=n.p+"images/background/26.jpg"},function(t,e,n){t.exports=n.p+"images/background/27.jpg"},function(t,e,n){t.exports=n.p+"images/background/28.jpg"},function(t,e,n){t.exports=n.p+"images/background/29.jpg"},function(t,e,n){t.exports=n.p+"images/background/3.jpg"},function(t,e,n){t.exports=n.p+"images/background/4.jpg"},function(t,e,n){t.exports=n.p+"images/background/5.jpg"},function(t,e,n){t.exports=n.p+"images/background/6.jpg"},function(t,e,n){t.exports=n.p+"images/background/7.jpg"},function(t,e,n){t.exports=n.p+"images/background/8.jpg"},function(t,e,n){t.exports=n.p+"images/background/9.jpg"}]);