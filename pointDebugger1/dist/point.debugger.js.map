{"version":3,"sources":["webpack:///webpack/bootstrap 40d6140687b1f5a86d8a","webpack:///./scripts/shtml.js","webpack:///./point.debugger.js","webpack:///./style/common.scss?d41d","webpack:///./style/common.scss","webpack:///../node_modules/style-loader/lib/addStyles.js","webpack:///../node_modules/style-loader/lib/urls.js","webpack:///./scripts/stats.js","webpack:///./scripts/visualEditor.menu.js","webpack:///./scripts/visualEditor.js"],"names":["shtml","selector","version","document","querySelectorAll","length","createElement","tagName","all","cb","i","move","container","onmousedown","e","offsetX","offsetY","lock","$","css","zIndex","opacity","position","width","height","top","left","append","on","x","pageX","y","pageY","remove","parentNode","removeChild","appendChild","addClass","className","classList","add","removeClass","issetClass","contains","toggleClass","key","value","style","window","getComputedStyle","html","innerHTML","attr","setAttribute","getAttribute","removeAttr","removeAttribute","parent","val","eventName","addEventListener","onLoad","onreadystatechange","readyState","ready","push","element","onmousemove","onmouseup","onmousewheel","stopPropagation","module","exports","require","pjs","OOP","random","mouse","point","vector","size","game","PointJS","apply","arguments","math","mouseControl","keyControl","isObject","object","mp","getPosition","w","h","visualEditor","stats","isDebug","debug","canvas","newLoopFromClassObject","update","getWH","start","end","draw","config","JSON","parse","localStorage","getItem","mode","configSave","setItem","stringify","statsHeight","context","getContext","setMode","statsSize","saveConfig","drawLine","option","strokeStyle","color","lineWidth","beginPath","moveTo","x1","y1","lineTo","x2","y2","closePath","stroke","drawText","font","fillStyle","fillText","text","speed","min","max","current","list","fps","clearRect","Math","maxFps","round","toFixed","requestAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","oRequestAnimationFrame","msRequestAnimationFrame","setTimeout","beginTime","prevTime","frames","performance","Date","now","time","parseInt","menu","wrapper","title","items","isActive","addItem","item","type","id","objects","forArr","options","fillColor","strokeColor","strokeWidth","angle","alpha","visible","radius","close","index","findIndex","splice","closeButton","content","padding","el","find","forEach","name","querySelector","brush","drawLineAS"],"mappings":"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kC,uBAAuB,qBAAqB,4CAA4C,iBAAiB,mCAAmC,GAAG,wCAAwC,0BAA0B,uBAAuB,mBAAmB,iBAAiB,GAAG,yCAAyC,0BAA0B,uBAAuB,eAAe,GAAG,wCAAwC,0CAA0C,GAAG,wCAAwC,iBAAiB,GAAG;;AAEn5G;;;;;;;;;;;;;ACPA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,CAAC;;AAED;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA,iBAAiB,mBAAmB;AACpC;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,iBAAiB,sBAAsB;AACvC;;AAEA;AACA,mBAAmB,2BAA2B;;AAE9C;AACA;AACA;AACA;AACA;;AAEA;AACA,gBAAgB,mBAAmB;AACnC;AACA;;AAEA;AACA;;AAEA,iBAAiB,2BAA2B;AAC5C;AACA;;AAEA,QAAQ,uBAAuB;AAC/B;AACA;AACA,GAAG;AACH;;AAEA,iBAAiB,uBAAuB;AACxC;AACA;;AAEA,2BAA2B;AAC3B;AACA;AACA;;AAEA;AACA;AACA;;AAEA,gBAAgB,iBAAiB;AACjC;AACA;AACA;AACA;AACA;AACA,cAAc;;AAEd,kDAAkD,sBAAsB;AACxE;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA,EAAE;AACF;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,EAAE;AACF;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,CAAC;;AAED;AACA;;AAEA;AACA;AACA,EAAE;AACF;AACA;;AAEA;;AAEA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,EAAE;AACF;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,uDAAuD;AACvD;;AAEA,6BAA6B,mBAAmB;;AAEhD;;AAEA;;AAEA;AACA;;;;;;;;AC5WA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,wCAAwC,WAAW,EAAE;AACrD,wCAAwC,WAAW,EAAE;;AAErD;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA,sCAAsC;AACtC,GAAG;AACH;AACA,8DAA8D;AAC9D;;AAEA;AACA;AACA,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","file":"point.debugger.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 1);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 40d6140687b1f5a86d8a","const shtml = function (selector) {\r\n    this.version = 0.4;\r\n\r\n    this.selector = typeof selector === 'string' ? document.querySelectorAll(selector) : selector;\r\n\r\n    if (!this.selector.length){\r\n        this.selector = [this.selector];\r\n    }\r\n\r\n    this.createElement = function (tagName) {\r\n\r\n    };\r\n\r\n    this.all = function (cb) {\r\n        for(let i = 0; i < this.selector.length; i ++){\r\n            if (typeof this.selector[i] === \"object\"){\r\n                cb(this.selector[i]);\r\n            }\r\n        }\r\n        return this;\r\n    };\r\n\r\n    this.move = function (container, cb) {\r\n\r\n        this.selector[0].onmousedown =  (e) => {\r\n            const offsetX = e.offsetX;\r\n            const offsetY = e.offsetY;\r\n            const lock = $.createElement('div').css({\r\n                zIndex: 51000,\r\n                opacity: .5,\r\n                position: 'fixed',\r\n                width: '100%',\r\n                height: '100%',\r\n                top: 0,\r\n                left: 0\r\n            });\r\n\r\n            $('body').append(lock);\r\n\r\n\r\n\r\n            lock.on('mousemove', e => {\r\n                const x = e.pageX - offsetX;\r\n                const y = e.pageY - offsetY;\r\n                container.css({\r\n                    left: x + 'px',\r\n                    top: y + 'px',\r\n                });\r\n                cb && cb(x, y);\r\n            });\r\n\r\n            lock.on('mouseup', e => {\r\n                lock.remove();\r\n            });\r\n\r\n        };\r\n\r\n\r\n        return this;\r\n    };\r\n\r\n    this.remove = function () {\r\n        this.selector[0].parentNode.removeChild(this.selector[0]);\r\n    };\r\n\r\n    this.append = function (e) {\r\n        return this.all(selector => {\r\n            if (typeof e.selector === 'object'){\r\n                for (let i = 0; i < e.selector.length; i ++){\r\n                    selector.appendChild(e.selector[i]);\r\n                }\r\n            } else {\r\n                selector.appendChild(e)\r\n            }\r\n        });\r\n    };\r\n\r\n    this.addClass = function (className) {\r\n        return this.all(selector => selector.classList.add(className));\r\n    };\r\n\r\n    this.removeClass = function (className) {\r\n        return this.all(selector => selector.classList.remove(className));\r\n    };\r\n\r\n    this.issetClass = function (className) {\r\n        return this.selector[0].classList.contains(className);\r\n    };\r\n\r\n    this.toggleClass = function (className) {\r\n        return this.all(selector => {\r\n            selector.classList.contains(className) ? selector.classList.remove(className) : selector.classList.add(className);\r\n        });\r\n    };\r\n\r\n    this.css = function (key, value) {\r\n        if (typeof key === \"string\") {\r\n\r\n            if (typeof value === \"string\" || typeof value === \"number\"){\r\n                return this.all(selector => selector.style[key] = value);\r\n            }\r\n\r\n            return window.getComputedStyle(this.selector[0], null)[key];\r\n        }\r\n\r\n        for(let i in key){\r\n            this.css(i, key[i]);\r\n        }\r\n\r\n        return this;\r\n    };\r\n\r\n    this.html = function (value) {\r\n        if (typeof value === \"undefined\"){\r\n            return this.selector[0].innerHTML;\r\n        }\r\n\r\n        return this.all(selector => selector.innerHTML = value);\r\n    };\r\n\r\n    this.attr = function (key, value) {\r\n        if (typeof key === \"string\") {\r\n\r\n            if (typeof value !== \"undefined\"){\r\n                return this.all(selector => selector.setAttribute(key, value));\r\n            }\r\n\r\n            return selector.getAttribute(key);\r\n        }\r\n\r\n        for(let i in key){\r\n            this.attr(i, key[i]);\r\n        }\r\n\r\n        return this;\r\n    };\r\n\r\n    this.removeAttr = function (key) {\r\n        return this.all(selector => selector.removeAttribute(key));\r\n    };\r\n\r\n    this.parent = function () {\r\n        return $(this.selector[0].parentNode);\r\n    };\r\n\r\n    this.val = function (value) {\r\n        if (value){\r\n            return this.all(selector => selector.value = value);\r\n        }\r\n        return this.selector[0].value;\r\n    };\r\n\r\n    this.on = function (eventName, cb) {\r\n        return this.all(selector => selector.addEventListener(eventName, cb));\r\n    };\r\n\r\n    return this;\r\n};\r\n\r\nconst $ = function (e) {\r\n    return new shtml(e);\r\n};\r\n\r\n\r\nconst onLoad = [];\r\n\r\ndocument.onreadystatechange = function () {\r\n    if (document.readyState === \"interactive\") {\r\n        for (let cb of onLoad){\r\n            cb();\r\n        }\r\n    }\r\n};\r\n\r\n$.ready = function (cb) {\r\n    if (document.readyState === 'loading'){\r\n        onLoad.push(cb);\r\n    }\r\n    if (document.readyState === 'interactive' || document.readyState === 'complete'){\r\n        cb();\r\n    }\r\n};\r\n\r\n$.createElement = function (tagName) {\r\n    const element = document.createElement(tagName);\r\n    element.onmousemove = element.onmousedown = element.onmouseup = element.onmousewheel = function (e) {\r\n        return e.stopPropagation();\r\n    };\r\n    return $(element);\r\n};\r\n\r\nmodule.exports = $;\n\n\n// WEBPACK FOOTER //\n// ./scripts/shtml.js","require('./style/common.scss');\r\n\r\nlet pjs, OOP, random, mouse, key, point, vector, size, game;\r\n\r\nPointJS = function (e) {\r\n    return function () {\r\n        e.apply(this, arguments);\r\n\r\n        pjs = this;\r\n        OOP = pjs.OOP;\r\n        random = pjs.math.random;\r\n        mouse = pjs.mouseControl;\r\n        key = pjs.keyControl;\r\n        vector = pjs.vector;\r\n        point = vector.point;\r\n        size = vector.size;\r\n        game = pjs.game;\r\n\r\n        // Проверка вхождения курсора в обьект\r\n        pjs.mouseControl.isObject = function (object) {\r\n            const mp = pjs.mouseControl.getPosition();\r\n            return mp.x > object.x && mp.x < object.x + object.w && mp.y > object.y && mp.y < object.y + object.h\r\n        };\r\n\r\n\r\n        const visualEditor = require('./scripts/visualEditor.menu');\r\n        const stats = require('./scripts/stats');\r\n\r\n        let isDebug = false;\r\n        pjs.debug = function (e) {\r\n            isDebug = e;\r\n            stats.canvas.css('display', e ? 'block' : 'none');\r\n        };\r\n\r\n\r\n        mouse.position = point();\r\n        game.size = size();\r\n\r\n        game.newLoopFromClassObject = function (e) {\r\n            return function () {\r\n                if (typeof arguments[1].update === 'function') {\r\n                    arguments[1].update = function (e) {\r\n                        return function () {\r\n                            mouse.position = mouse.getPosition();\r\n                            game.size = game.getWH();\r\n                            if (isDebug) {\r\n                                stats.start();\r\n                                const apply = e.apply(this, arguments);\r\n                                stats.end();\r\n                                visualEditor.draw();\r\n                                return apply;\r\n                            } else {\r\n                                return e.apply(this, arguments);\r\n                            }\r\n                        }\r\n                    }(arguments[1].update);\r\n                }\r\n                return e.apply(this, arguments);\r\n            }\r\n        }(game.newLoopFromClassObject);\r\n    }\r\n}(PointJS);\r\n\r\nexport {pjs, OOP, random, mouse, key, point, vector, size, game};\n\n\n// WEBPACK FOOTER //\n// ./point.debugger.js","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../node_modules/css-loader/index.js!../../node_modules/resolve-url-loader/index.js!../../node_modules/sass-loader/lib/loader.js?sourceMap!./common.scss\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// Prepare cssTransformation\nvar transform;\n\nvar options = {\"hmr\":true}\noptions.transform = transform\n// add the styles to the DOM\nvar update = require(\"!../../node_modules/style-loader/lib/addStyles.js\")(content, options);\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../node_modules/css-loader/index.js!../../node_modules/resolve-url-loader/index.js!../../node_modules/sass-loader/lib/loader.js?sourceMap!./common.scss\", function() {\n\t\t\tvar newContent = require(\"!!../../node_modules/css-loader/index.js!../../node_modules/resolve-url-loader/index.js!../../node_modules/sass-loader/lib/loader.js?sourceMap!./common.scss\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./style/common.scss\n// module id = 2\n// module chunks = 0","exports = module.exports = require(\"../../node_modules/css-loader/lib/css-base.js\")(undefined);\n// imports\n\n\n// module\nexports.push([module.id, \".pointDebugger {\\n  display: none;\\n  background: #3d3d3d;\\n  z-index: 50000;\\n  position: fixed;\\n  top: 5px;\\n  right: 5px;\\n}\\n\\ncanvas.pointDebugger {\\n  opacity: 0.9;\\n}\\n\\ncanvas.pointDebugger:hover {\\n  cursor: pointer;\\n  opacity: 1;\\n}\\n\\ndiv.pointDebugger {\\n  width: 300px;\\n}\\n\\ndiv.pointDebugger .wrapper {\\n  color: #ffffff;\\n  background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAIAAAAbCAIAAADZDckgAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAAhSURBVHjaYtFe9JyBgYHl////lFD/oLx//6inkjAFEGAAejVPzRDTs5AAAAAASUVORK5CYII=);\\n}\\n\\ndiv.pointDebugger .wrapper .title {\\n  padding: 5px;\\n  color: #ffffff;\\n  background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAIAAAAbCAIAAADZDckgAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAAhSURBVHjaYtFe9JyBgYHl////lFD/oLx//6inkjAFEGAAejVPzRDTs5AAAAAASUVORK5CYII=);\\n}\\n\\ndiv.pointDebugger .items {\\n  overflow-y: scroll;\\n  height: auto;\\n}\\n\\ndiv.pointDebugger .items::-webkit-scrollbar-track {\\n  -webkit-box-shadow: inset 0 0 6px rgba(0, 0, 0, 0.3);\\n}\\n\\ndiv.pointDebugger .items::-webkit-scrollbar {\\n  width: 10px;\\n}\\n\\ndiv.pointDebugger .items::-webkit-scrollbar-thumb {\\n  background-color: #181818;\\n}\\n\\ndiv.pointDebugger .items .item {\\n  padding: 5px;\\n  border-bottom: 1px solid #000000;\\n  color: #ffffff;\\n  font-size: small;\\n  font-weight: bold;\\n}\\n\\ndiv.pointDebugger .items .item.CircleObject {\\n  border-left: 3px solid #ffffff;\\n}\\n\\ndiv.pointDebugger .items .item:hover {\\n  background: #1d1d1d;\\n  color: #cbcbcb;\\n  cursor: pointer;\\n}\\n\\ndiv.pointDebugger .items .item.active {\\n  background: #000000;\\n}\\n\\n.visualEditor {\\n  background: black;\\n  width: 300px;\\n  position: absolute;\\n  z-index: 49999;\\n}\\n\\n.visualEditor .title {\\n  padding: 5px;\\n  color: #ffffff;\\n  background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAIAAAAbCAIAAADZDckgAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAAhSURBVHjaYtFe9JyBgYHl////lFD/oLx//6inkjAFEGAAejVPzRDTs5AAAAAASUVORK5CYII=);\\n}\\n\\n.visualEditor .closeButton {\\n  position: absolute;\\n  top: 0;\\n  right: 0;\\n  background: rgba(128, 128, 128, 0.69);\\n  color: black;\\n  padding: 8px 9px 8px 9px;\\n  font-weight: bold;\\n  font-size: 11px;\\n  font-family: Helvetica,Arial,sans-serif;\\n}\\n\\n.visualEditor .closeButton:hover {\\n  cursor: pointer;\\n  background: rgba(128, 128, 128, 0.31);\\n}\\n\\n.visualEditor .content {\\n  background: #3d3d3d;\\n  overflow-y: scroll;\\n  max-height: 273px;\\n  border-bottom: 1px solid #597480;\\n  border-left: 1px solid #597480;\\n  border-right: 1px solid #597480;\\n}\\n\\n.visualEditor .content::-webkit-scrollbar-track {\\n  -webkit-box-shadow: inset 0 0 6px rgba(0, 0, 0, 0.3);\\n}\\n\\n.visualEditor .content::-webkit-scrollbar {\\n  width: 10px;\\n}\\n\\n.visualEditor .content::-webkit-scrollbar-thumb {\\n  background-color: #181818;\\n}\\n\\n.visualEditor .content .item {\\n  position: relative;\\n  font-size: small;\\n  font-family: Helvetica,Arial,sans-serif;\\n  padding: 5px;\\n  border-bottom: 1px solid black;\\n}\\n\\n.visualEditor .content .item .name {\\n  display: inline-block;\\n  position: relative;\\n  color: #ffffff;\\n  width: 100px;\\n}\\n\\n.visualEditor .content .item .value {\\n  display: inline-block;\\n  position: relative;\\n  left: 50px;\\n}\\n\\n.visualEditor .content .item:hover {\\n  background: rgba(128, 128, 128, 0.31);\\n}\\n\\n.visualEditor .content .item input {\\n  width: 100px;\\n}\\n\\n\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../node_modules/css-loader!../node_modules/resolve-url-loader!../node_modules/sass-loader/lib/loader.js?sourceMap!./style/common.scss\n// module id = 3\n// module chunks = 0","/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n\nvar stylesInDom = {};\n\nvar\tmemoize = function (fn) {\n\tvar memo;\n\n\treturn function () {\n\t\tif (typeof memo === \"undefined\") memo = fn.apply(this, arguments);\n\t\treturn memo;\n\t};\n};\n\nvar isOldIE = memoize(function () {\n\t// Test for IE <= 9 as proposed by Browserhacks\n\t// @see http://browserhacks.com/#hack-e71d8692f65334173fee715c222cb805\n\t// Tests for existence of standard globals is to allow style-loader\n\t// to operate correctly into non-standard environments\n\t// @see https://github.com/webpack-contrib/style-loader/issues/177\n\treturn window && document && document.all && !window.atob;\n});\n\nvar getElement = (function (fn) {\n\tvar memo = {};\n\n\treturn function(selector) {\n\t\tif (typeof memo[selector] === \"undefined\") {\n\t\t\tvar styleTarget = fn.call(this, selector);\n\t\t\t// Special case to return head of iframe instead of iframe itself\n\t\t\tif (styleTarget instanceof window.HTMLIFrameElement) {\n\t\t\t\ttry {\n\t\t\t\t\t// This will throw an exception if access to iframe is blocked\n\t\t\t\t\t// due to cross-origin restrictions\n\t\t\t\t\tstyleTarget = styleTarget.contentDocument.head;\n\t\t\t\t} catch(e) {\n\t\t\t\t\tstyleTarget = null;\n\t\t\t\t}\n\t\t\t}\n\t\t\tmemo[selector] = styleTarget;\n\t\t}\n\t\treturn memo[selector]\n\t};\n})(function (target) {\n\treturn document.querySelector(target)\n});\n\nvar singleton = null;\nvar\tsingletonCounter = 0;\nvar\tstylesInsertedAtTop = [];\n\nvar\tfixUrls = require(\"./urls\");\n\nmodule.exports = function(list, options) {\n\tif (typeof DEBUG !== \"undefined\" && DEBUG) {\n\t\tif (typeof document !== \"object\") throw new Error(\"The style-loader cannot be used in a non-browser environment\");\n\t}\n\n\toptions = options || {};\n\n\toptions.attrs = typeof options.attrs === \"object\" ? options.attrs : {};\n\n\t// Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\n\t// tags it will allow on a page\n\tif (!options.singleton) options.singleton = isOldIE();\n\n\t// By default, add <style> tags to the <head> element\n\tif (!options.insertInto) options.insertInto = \"head\";\n\n\t// By default, add <style> tags to the bottom of the target\n\tif (!options.insertAt) options.insertAt = \"bottom\";\n\n\tvar styles = listToStyles(list, options);\n\n\taddStylesToDom(styles, options);\n\n\treturn function update (newList) {\n\t\tvar mayRemove = [];\n\n\t\tfor (var i = 0; i < styles.length; i++) {\n\t\t\tvar item = styles[i];\n\t\t\tvar domStyle = stylesInDom[item.id];\n\n\t\t\tdomStyle.refs--;\n\t\t\tmayRemove.push(domStyle);\n\t\t}\n\n\t\tif(newList) {\n\t\t\tvar newStyles = listToStyles(newList, options);\n\t\t\taddStylesToDom(newStyles, options);\n\t\t}\n\n\t\tfor (var i = 0; i < mayRemove.length; i++) {\n\t\t\tvar domStyle = mayRemove[i];\n\n\t\t\tif(domStyle.refs === 0) {\n\t\t\t\tfor (var j = 0; j < domStyle.parts.length; j++) domStyle.parts[j]();\n\n\t\t\t\tdelete stylesInDom[domStyle.id];\n\t\t\t}\n\t\t}\n\t};\n};\n\nfunction addStylesToDom (styles, options) {\n\tfor (var i = 0; i < styles.length; i++) {\n\t\tvar item = styles[i];\n\t\tvar domStyle = stylesInDom[item.id];\n\n\t\tif(domStyle) {\n\t\t\tdomStyle.refs++;\n\n\t\t\tfor(var j = 0; j < domStyle.parts.length; j++) {\n\t\t\t\tdomStyle.parts[j](item.parts[j]);\n\t\t\t}\n\n\t\t\tfor(; j < item.parts.length; j++) {\n\t\t\t\tdomStyle.parts.push(addStyle(item.parts[j], options));\n\t\t\t}\n\t\t} else {\n\t\t\tvar parts = [];\n\n\t\t\tfor(var j = 0; j < item.parts.length; j++) {\n\t\t\t\tparts.push(addStyle(item.parts[j], options));\n\t\t\t}\n\n\t\t\tstylesInDom[item.id] = {id: item.id, refs: 1, parts: parts};\n\t\t}\n\t}\n}\n\nfunction listToStyles (list, options) {\n\tvar styles = [];\n\tvar newStyles = {};\n\n\tfor (var i = 0; i < list.length; i++) {\n\t\tvar item = list[i];\n\t\tvar id = options.base ? item[0] + options.base : item[0];\n\t\tvar css = item[1];\n\t\tvar media = item[2];\n\t\tvar sourceMap = item[3];\n\t\tvar part = {css: css, media: media, sourceMap: sourceMap};\n\n\t\tif(!newStyles[id]) styles.push(newStyles[id] = {id: id, parts: [part]});\n\t\telse newStyles[id].parts.push(part);\n\t}\n\n\treturn styles;\n}\n\nfunction insertStyleElement (options, style) {\n\tvar target = getElement(options.insertInto)\n\n\tif (!target) {\n\t\tthrow new Error(\"Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.\");\n\t}\n\n\tvar lastStyleElementInsertedAtTop = stylesInsertedAtTop[stylesInsertedAtTop.length - 1];\n\n\tif (options.insertAt === \"top\") {\n\t\tif (!lastStyleElementInsertedAtTop) {\n\t\t\ttarget.insertBefore(style, target.firstChild);\n\t\t} else if (lastStyleElementInsertedAtTop.nextSibling) {\n\t\t\ttarget.insertBefore(style, lastStyleElementInsertedAtTop.nextSibling);\n\t\t} else {\n\t\t\ttarget.appendChild(style);\n\t\t}\n\t\tstylesInsertedAtTop.push(style);\n\t} else if (options.insertAt === \"bottom\") {\n\t\ttarget.appendChild(style);\n\t} else if (typeof options.insertAt === \"object\" && options.insertAt.before) {\n\t\tvar nextSibling = getElement(options.insertInto + \" \" + options.insertAt.before);\n\t\ttarget.insertBefore(style, nextSibling);\n\t} else {\n\t\tthrow new Error(\"[Style Loader]\\n\\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\\n Must be 'top', 'bottom', or Object.\\n (https://github.com/webpack-contrib/style-loader#insertat)\\n\");\n\t}\n}\n\nfunction removeStyleElement (style) {\n\tif (style.parentNode === null) return false;\n\tstyle.parentNode.removeChild(style);\n\n\tvar idx = stylesInsertedAtTop.indexOf(style);\n\tif(idx >= 0) {\n\t\tstylesInsertedAtTop.splice(idx, 1);\n\t}\n}\n\nfunction createStyleElement (options) {\n\tvar style = document.createElement(\"style\");\n\n\toptions.attrs.type = \"text/css\";\n\n\taddAttrs(style, options.attrs);\n\tinsertStyleElement(options, style);\n\n\treturn style;\n}\n\nfunction createLinkElement (options) {\n\tvar link = document.createElement(\"link\");\n\n\toptions.attrs.type = \"text/css\";\n\toptions.attrs.rel = \"stylesheet\";\n\n\taddAttrs(link, options.attrs);\n\tinsertStyleElement(options, link);\n\n\treturn link;\n}\n\nfunction addAttrs (el, attrs) {\n\tObject.keys(attrs).forEach(function (key) {\n\t\tel.setAttribute(key, attrs[key]);\n\t});\n}\n\nfunction addStyle (obj, options) {\n\tvar style, update, remove, result;\n\n\t// If a transform function was defined, run it on the css\n\tif (options.transform && obj.css) {\n\t    result = options.transform(obj.css);\n\n\t    if (result) {\n\t    \t// If transform returns a value, use that instead of the original css.\n\t    \t// This allows running runtime transformations on the css.\n\t    \tobj.css = result;\n\t    } else {\n\t    \t// If the transform function returns a falsy value, don't add this css.\n\t    \t// This allows conditional loading of css\n\t    \treturn function() {\n\t    \t\t// noop\n\t    \t};\n\t    }\n\t}\n\n\tif (options.singleton) {\n\t\tvar styleIndex = singletonCounter++;\n\n\t\tstyle = singleton || (singleton = createStyleElement(options));\n\n\t\tupdate = applyToSingletonTag.bind(null, style, styleIndex, false);\n\t\tremove = applyToSingletonTag.bind(null, style, styleIndex, true);\n\n\t} else if (\n\t\tobj.sourceMap &&\n\t\ttypeof URL === \"function\" &&\n\t\ttypeof URL.createObjectURL === \"function\" &&\n\t\ttypeof URL.revokeObjectURL === \"function\" &&\n\t\ttypeof Blob === \"function\" &&\n\t\ttypeof btoa === \"function\"\n\t) {\n\t\tstyle = createLinkElement(options);\n\t\tupdate = updateLink.bind(null, style, options);\n\t\tremove = function () {\n\t\t\tremoveStyleElement(style);\n\n\t\t\tif(style.href) URL.revokeObjectURL(style.href);\n\t\t};\n\t} else {\n\t\tstyle = createStyleElement(options);\n\t\tupdate = applyToTag.bind(null, style);\n\t\tremove = function () {\n\t\t\tremoveStyleElement(style);\n\t\t};\n\t}\n\n\tupdate(obj);\n\n\treturn function updateStyle (newObj) {\n\t\tif (newObj) {\n\t\t\tif (\n\t\t\t\tnewObj.css === obj.css &&\n\t\t\t\tnewObj.media === obj.media &&\n\t\t\t\tnewObj.sourceMap === obj.sourceMap\n\t\t\t) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tupdate(obj = newObj);\n\t\t} else {\n\t\t\tremove();\n\t\t}\n\t};\n}\n\nvar replaceText = (function () {\n\tvar textStore = [];\n\n\treturn function (index, replacement) {\n\t\ttextStore[index] = replacement;\n\n\t\treturn textStore.filter(Boolean).join('\\n');\n\t};\n})();\n\nfunction applyToSingletonTag (style, index, remove, obj) {\n\tvar css = remove ? \"\" : obj.css;\n\n\tif (style.styleSheet) {\n\t\tstyle.styleSheet.cssText = replaceText(index, css);\n\t} else {\n\t\tvar cssNode = document.createTextNode(css);\n\t\tvar childNodes = style.childNodes;\n\n\t\tif (childNodes[index]) style.removeChild(childNodes[index]);\n\n\t\tif (childNodes.length) {\n\t\t\tstyle.insertBefore(cssNode, childNodes[index]);\n\t\t} else {\n\t\t\tstyle.appendChild(cssNode);\n\t\t}\n\t}\n}\n\nfunction applyToTag (style, obj) {\n\tvar css = obj.css;\n\tvar media = obj.media;\n\n\tif(media) {\n\t\tstyle.setAttribute(\"media\", media)\n\t}\n\n\tif(style.styleSheet) {\n\t\tstyle.styleSheet.cssText = css;\n\t} else {\n\t\twhile(style.firstChild) {\n\t\t\tstyle.removeChild(style.firstChild);\n\t\t}\n\n\t\tstyle.appendChild(document.createTextNode(css));\n\t}\n}\n\nfunction updateLink (link, options, obj) {\n\tvar css = obj.css;\n\tvar sourceMap = obj.sourceMap;\n\n\t/*\n\t\tIf convertToAbsoluteUrls isn't defined, but sourcemaps are enabled\n\t\tand there is no publicPath defined then lets turn convertToAbsoluteUrls\n\t\ton by default.  Otherwise default to the convertToAbsoluteUrls option\n\t\tdirectly\n\t*/\n\tvar autoFixUrls = options.convertToAbsoluteUrls === undefined && sourceMap;\n\n\tif (options.convertToAbsoluteUrls || autoFixUrls) {\n\t\tcss = fixUrls(css);\n\t}\n\n\tif (sourceMap) {\n\t\t// http://stackoverflow.com/a/26603875\n\t\tcss += \"\\n/*# sourceMappingURL=data:application/json;base64,\" + btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))) + \" */\";\n\t}\n\n\tvar blob = new Blob([css], { type: \"text/css\" });\n\n\tvar oldSrc = link.href;\n\n\tlink.href = URL.createObjectURL(blob);\n\n\tif(oldSrc) URL.revokeObjectURL(oldSrc);\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../node_modules/style-loader/lib/addStyles.js\n// module id = 5\n// module chunks = 0","\n/**\n * When source maps are enabled, `style-loader` uses a link element with a data-uri to\n * embed the css on the page. This breaks all relative urls because now they are relative to a\n * bundle instead of the current page.\n *\n * One solution is to only use full urls, but that may be impossible.\n *\n * Instead, this function \"fixes\" the relative urls to be absolute according to the current page location.\n *\n * A rudimentary test suite is located at `test/fixUrls.js` and can be run via the `npm test` command.\n *\n */\n\nmodule.exports = function (css) {\n  // get current location\n  var location = typeof window !== \"undefined\" && window.location;\n\n  if (!location) {\n    throw new Error(\"fixUrls requires window.location\");\n  }\n\n\t// blank or null?\n\tif (!css || typeof css !== \"string\") {\n\t  return css;\n  }\n\n  var baseUrl = location.protocol + \"//\" + location.host;\n  var currentDir = baseUrl + location.pathname.replace(/\\/[^\\/]*$/, \"/\");\n\n\t// convert each url(...)\n\t/*\n\tThis regular expression is just a way to recursively match brackets within\n\ta string.\n\n\t /url\\s*\\(  = Match on the word \"url\" with any whitespace after it and then a parens\n\t   (  = Start a capturing group\n\t     (?:  = Start a non-capturing group\n\t         [^)(]  = Match anything that isn't a parentheses\n\t         |  = OR\n\t         \\(  = Match a start parentheses\n\t             (?:  = Start another non-capturing groups\n\t                 [^)(]+  = Match anything that isn't a parentheses\n\t                 |  = OR\n\t                 \\(  = Match a start parentheses\n\t                     [^)(]*  = Match anything that isn't a parentheses\n\t                 \\)  = Match a end parentheses\n\t             )  = End Group\n              *\\) = Match anything and then a close parens\n          )  = Close non-capturing group\n          *  = Match anything\n       )  = Close capturing group\n\t \\)  = Match a close parens\n\n\t /gi  = Get all matches, not the first.  Be case insensitive.\n\t */\n\tvar fixedCss = css.replace(/url\\s*\\(((?:[^)(]|\\((?:[^)(]+|\\([^)(]*\\))*\\))*)\\)/gi, function(fullMatch, origUrl) {\n\t\t// strip quotes (if they exist)\n\t\tvar unquotedOrigUrl = origUrl\n\t\t\t.trim()\n\t\t\t.replace(/^\"(.*)\"$/, function(o, $1){ return $1; })\n\t\t\t.replace(/^'(.*)'$/, function(o, $1){ return $1; });\n\n\t\t// already a full url? no change\n\t\tif (/^(#|data:|http:\\/\\/|https:\\/\\/|file:\\/\\/\\/)/i.test(unquotedOrigUrl)) {\n\t\t  return fullMatch;\n\t\t}\n\n\t\t// convert the url to a full url\n\t\tvar newUrl;\n\n\t\tif (unquotedOrigUrl.indexOf(\"//\") === 0) {\n\t\t  \t//TODO: should we add protocol?\n\t\t\tnewUrl = unquotedOrigUrl;\n\t\t} else if (unquotedOrigUrl.indexOf(\"/\") === 0) {\n\t\t\t// path should be relative to the base url\n\t\t\tnewUrl = baseUrl + unquotedOrigUrl; // already starts with '/'\n\t\t} else {\n\t\t\t// path should be relative to current directory\n\t\t\tnewUrl = currentDir + unquotedOrigUrl.replace(/^\\.\\//, \"\"); // Strip leading './'\n\t\t}\n\n\t\t// send back the fixed url(...)\n\t\treturn \"url(\" + JSON.stringify(newUrl) + \")\";\n\t});\n\n\t// send back the fixed css\n\treturn fixedCss;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../node_modules/style-loader/lib/urls.js\n// module id = 6\n// module chunks = 0","const $ = require('./shtml');\r\n\r\n// Настройки\r\nlet config = JSON.parse(localStorage.getItem('point.debugger')) || {\r\n\r\n    // Режимы\r\n    // 0 - Диаграммой отображается кол-во фпс и скорость выполнения скрипта за последние несколько секунд. Под диаграммой выводятся минимальные и максимальные значения.\r\n    // 1 - Диаграмма не отображается, отображается в текстовом виде кол-во фпс и скорость выполнения, а так же минимальные и максимальные значения.\r\n    // 2 - Диаграмма не отображается, отображается в текстовом виде кол-во фпс и скорость выполнения (без минимальных и максимальных значений).\r\n    mode: 1\r\n};\r\n\r\n// Сохранение настроек\r\nconst configSave = function () {\r\n    localStorage.setItem('point.debugger', JSON.stringify(config));\r\n};\r\n\r\n// Высота диаграммы\r\nconst statsHeight = 60;\r\n\r\n// Канвас, на котором будем рисовать\r\nconst canvas = $.createElement('canvas').addClass('pointDebugger');\r\nconst context = canvas.selector[0].getContext('2d');\r\n\r\n// Добавляем канвас после загрузки страницы\r\n$.ready(() => $('body').append(canvas));\r\n\r\n// Изменяем режимы при клике на холст\r\ncanvas.on('click', e => setMode(config.mode === 2 ? 0 : config.mode + 1));\r\n\r\n// Размер блока для каждого из режимов\r\nconst statsSize = [[300, 105], [150, 32], [80, 32]];\r\n\r\n// Переключение режимов\r\nconst setMode = function (mode, saveConfig = true) {\r\n    config.mode = mode;\r\n\r\n    canvas.selector[0].width = statsSize[config.mode][0];\r\n    canvas.selector[0].height = statsSize[config.mode][1];\r\n    canvas.css({\r\n        width: statsSize[config.mode][0],\r\n        height: statsSize[config.mode][1]\r\n    });\r\n\r\n    saveConfig && configSave();\r\n};\r\n\r\nsetMode(config.mode);\r\n\r\n// Отрисовать линию\r\nconst drawLine = function (option) {\r\n    context.strokeStyle = option.color;\r\n    context.lineWidth = option.width;\r\n    context.beginPath();\r\n    context.moveTo(option.x1, option.y1);\r\n    context.lineTo(option.x2, option.y2);\r\n    context.closePath();\r\n    context.stroke();\r\n};\r\n\r\n// Отрисовать текст\r\nconst drawText = function (option) {\r\n    context.font = `bold ${option.size}px Helvetica,Arial,sans-serif`;\r\n    context.fillStyle = option.color;\r\n    context.fillText(option.text, option.x, option.y);\r\n};\r\n\r\nconst speed = {\r\n    min: 0,\r\n    max: 0,\r\n    current: 0,\r\n    list: [],\r\n    color: '#0f0'\r\n};\r\n\r\nconst fps = {\r\n    min: 0,\r\n    max: 60,\r\n    current: 0,\r\n    list: [],\r\n    color: '#00FFFF'\r\n};\r\n\r\nfor (let i = 0; i < statsSize[0][0]; i++) {\r\n    speed.list[i] = 0;\r\n    fps.list[i] = 0;\r\n}\r\n\r\n(function update() {\r\n\r\n    // Очищаем весь холст\r\n    context.clearRect(0, 0, statsSize[config.mode][0], statsSize[config.mode][1]);\r\n\r\n    speed.list[statsSize[0][0] - 1] = speed.current;\r\n    fps.list[statsSize[0][0] - 1] = fps.current;\r\n\r\n    speed.min = Math.min.apply(null, speed.list);\r\n    speed.max = Math.max.apply(null, speed.list);\r\n\r\n    fps.min = Math.min.apply(null, fps.list);\r\n    if (fps.current > fps.max) {\r\n        fps.max = fps.current;\r\n    }\r\n    const maxFps = Math.max.apply(null, fps.list);\r\n\r\n    if (config.mode === 0 || config.mode === 1) {\r\n        for (let i = 0; i < statsSize[0][0]; i++) {\r\n            if (statsSize[0][0] === i + 1) {\r\n                continue;\r\n            }\r\n\r\n            if (config.mode === 0) {\r\n                drawLine({\r\n                    color: speed.color,\r\n                    width: .5,\r\n                    x1: i,\r\n                    y1: Math.round((1 - (speed.list[i] / speed.max)) * statsHeight),\r\n                    x2: i + 1,\r\n                    y2: Math.round((1 - (speed.list[i + 1] / speed.max)) * statsHeight)\r\n                });\r\n\r\n                drawLine({\r\n                    color: fps.color,\r\n                    width: .5,\r\n                    x1: i,\r\n                    y1: Math.round((1 - (fps.list[i] / fps.max)) * statsHeight),\r\n                    x2: i + 1,\r\n                    y2: Math.round((1 - (fps.list[i + 1] / fps.max)) * statsHeight)\r\n                });\r\n            }\r\n\r\n            speed.list[i] = speed.list[i + 1];\r\n            fps.list[i] = fps.list[i + 1];\r\n        }\r\n    }\r\n\r\n    if (config.mode === 0) {\r\n        drawLine({\r\n            color: '#000000',\r\n            width: .5,\r\n            x1: 0,\r\n            y1: statsHeight + 3,\r\n            x2: statsSize[0][0],\r\n            y2: statsHeight + 3\r\n        });\r\n    }\r\n\r\n    drawText({\r\n        x: 2,\r\n        y: config.mode === 0 ? statsHeight + 19 : 12,\r\n        size: 11,\r\n        text: `FPS: ${fps.current}` + (config.mode < 2 ? ` (${fps.min}-${maxFps})` : ''),\r\n        color: fps.color\r\n    });\r\n\r\n    drawText({\r\n        x: 2,\r\n        y: config.mode === 0 ? statsHeight + 37 : 27,\r\n        size: 11,\r\n        text: `SPEED: ${speed.current.toFixed(2)}` + (config.mode < 2 ? ` (${speed.min.toFixed(2)}-${speed.max.toFixed(2)})` : ''),\r\n        color: speed.color\r\n    });\r\n\r\n    (requestAnimationFrame || webkitRequestAnimationFrame || mozRequestAnimationFrame || oRequestAnimationFrame || msRequestAnimationFrame || function (cb) {\r\n        setTimeout(cb, 1000 / 60)\r\n    })(update);\r\n})();\r\n\r\nlet beginTime = 0;\r\nlet prevTime = beginTime;\r\nlet frames = 0;\r\n\r\nmodule.exports = {\r\n    canvas, setMode,\r\n    start: function () {\r\n        beginTime = (performance || Date).now();\r\n    },\r\n    end: function () {\r\n        frames++;\r\n\r\n        let time = ( performance || Date ).now();\r\n\r\n        speed.current = time - beginTime;\r\n\r\n        if (time >= prevTime + 1000) {\r\n\r\n            fps.current = parseInt((frames * 1000) / (time - prevTime));\r\n\r\n            prevTime = time;\r\n            frames = 0;\r\n\r\n        }\r\n\r\n        beginTime = time;\r\n    }\r\n};\n\n\n// WEBPACK FOOTER //\n// ./scripts/stats.js","const $ = require('./shtml');\r\nimport {pjs, mouse, game, OOP} from \"../point.debugger\";\r\nconst visualEditor = require('./visualEditor');\r\n\r\nconst canvas = require('./stats').canvas;\r\nconst menu = $.createElement('div').addClass('pointDebugger');\r\nconst wrapper = $.createElement('div').addClass('wrapper');\r\nconst title = $.createElement('div').addClass('title');\r\nconst items = $.createElement('div').addClass('items');\r\n\r\ntitle.html('Список обьектов');\r\n\r\nwrapper.append(title);\r\nmenu.append(wrapper);\r\nmenu.append(items);\r\n\r\nlet isActive = false;\r\n\r\ncanvas.on('contextmenu', () => {\r\n    menu.css('display', 'block');\r\n    items.css('maxHeight', pjs.game.getWH().h - 40 + 'px');\r\n    isActive = true;\r\n});\r\n\r\ndocument.onmousemove = function () {\r\n    if (isActive && game.size.w - 305 > mouse.position.x) {\r\n        menu.css('display', 'none');\r\n        isActive = false;\r\n    }\r\n};\r\n\r\n$.ready(() => $('body').append(menu));\r\n\r\n\r\nconst addItem = function (e) {\r\n    const item = $.createElement('div');\r\n    item.html(`${e.type} #${e.id}`).addClass('item').addClass(e.type).attr('item-id', e.id);\r\n\r\n    item.on('click', () => {\r\n        item.toggleClass('active');\r\n        if (item.issetClass('active')) {\r\n            // dbg.add(e, ['id', 'type', 'x', 'y']);\r\n            visualEditor.add(e);\r\n        } else {\r\n            // dbg.remove(e);\r\n            visualEditor.remove(e);\r\n        }\r\n    });\r\n    items.append(item);\r\n};\r\n\r\n// Обьекты, которые будем отлавливать\r\nconst objects = [\r\n    'newBaseObject',\r\n    'newTriangleObject',\r\n    'newRectObject',\r\n    'newRoundRectObject',\r\n    'newCircleObject',\r\n    'newEllipsObject',\r\n    'newTextObject',\r\n    'newPolygonObject',\r\n    'newImageObject',\r\n    'newAnimationObject'\r\n];\r\nOOP.forArr(objects, object => {\r\n    game[object] = function (e) {\r\n        return function () {\r\n            const item = e.apply(this, arguments);\r\n            addItem(item);\r\n            return item;\r\n        }\r\n    }(game[object]);\r\n});\r\n\r\nmodule.exports = visualEditor;\n\n\n// WEBPACK FOOTER //\n// ./scripts/visualEditor.menu.js","import {game, random} from \"../point.debugger\";\r\n\r\nconst $ = require('./shtml');\r\n\r\nconst options = {\r\n    x: 'number',\r\n    y: 'number',\r\n    w: 'number',\r\n    h: 'number',\r\n    fillColor: 'color',\r\n    strokeColor: 'color',\r\n    strokeWidth: 'number',\r\n    angle: 'number',\r\n    alpha: 'number',\r\n    visible: 'bool',\r\n    radius: 'number'\r\n};\r\n\r\nconst list = [];\r\n\r\nlet frames = 0;\r\n\r\nconst close = function (element) {\r\n    const index = list.findIndex(e => e.element === element);\r\n    if (index > -1){\r\n        list.splice(index, 1);\r\n        $(`[visualeditor-id=\"${element.id}\"]`).remove();\r\n        $(`.pointDebugger > .items > [item-id=\"${element.id}\"]`).removeClass('active');\r\n    }\r\n};\r\n\r\nmodule.exports = {\r\n    add: function (element) {\r\n        const container = $.createElement('div').addClass('visualEditor').attr('visualEditor-id', element.id);\r\n        const title = $.createElement('div').addClass('title').html(`#${element.id} - ${element.type}`);\r\n        const closeButton = $.createElement('div').addClass('closeButton').html('X');\r\n        const content = $.createElement('div').addClass('content');\r\n\r\n\r\n        const x = random(0, game.size.w - 300 - 300);\r\n        const y = random(0, game.size.h - 289);\r\n\r\n        container.css({\r\n            padding: 100,\r\n            top: y  + 'px',\r\n            left: x + 'px'\r\n        });\r\n\r\n        $.ready(() => $('body').append(container));\r\n\r\n        // container.on('mousedown', () => {\r\n        //    OOP.forArr(list, e => e.container.css('z-index', 49998));\r\n        //    container.css('z-index', 49999);\r\n        // });\r\n\r\n        title.move(container, (x, y) => {\r\n            const el = list.find(e => e.element === element);\r\n            el.x = x;\r\n            el.y = y;\r\n        });\r\n\r\n        closeButton.on('click', e => close(element));\r\n\r\n        container.append(title);\r\n        container.append(closeButton);\r\n        container.append(content);\r\n\r\n\r\n        OOP.forEach(options, (type, e) => {\r\n            const item = $.createElement('div').addClass('item').attr('type', e);\r\n            const name = $.createElement('div').addClass('name').html(e);\r\n\r\n            item.append(name);\r\n\r\n            switch (type){\r\n                case 'number': {\r\n                    const value = $.createElement('input').attr('type', 'number').addClass('value');\r\n\r\n                    value.on('mouseenter', e => {\r\n                        value.attr('lock', true);\r\n                    });\r\n                    value.on('mouseleave', e => {\r\n                        value.removeAttr('lock').attr('update', value.val());\r\n                    });\r\n\r\n                    item.append(value);\r\n                    break;\r\n                }\r\n                case 'color': {\r\n                    const value = $.createElement('input').attr('type', 'text').addClass('value');\r\n                    item.append(value);\r\n                    break;\r\n                }\r\n                case 'bool': {\r\n                    const value = $.createElement('input').attr('type', 'checkbox').addClass('value');\r\n                    item.append(value);\r\n                    break;\r\n                }\r\n            }\r\n\r\n            content.append(item);\r\n        });\r\n\r\n\r\n        list.push({\r\n            element, container,\r\n            x: parseInt(container.css('left')),\r\n            y: parseInt(container.css('top')),\r\n            w: parseInt(container.css('width')),\r\n            h: parseInt(container.css('height'))\r\n        });\r\n    },\r\n    remove: function (element) {\r\n        close(element);\r\n    },\r\n    draw: function () {\r\n\r\n        OOP.forArr(list, e => {\r\n            const element = e.element;\r\n            const container = e.container;\r\n\r\n            if (frames === 0){\r\n                OOP.forEach(options, (type, e) => {\r\n                    const selector = document.querySelector(`[visualeditor-id=\"${element.id}\"] > .content > [type=\"${e}\"] > .value`);\r\n\r\n                    if (selector.getAttribute('lock')){\r\n                        return;\r\n                    }\r\n\r\n                    if (selector.getAttribute('update')){\r\n                        element[e] = parseInt(selector.getAttribute('update'));\r\n                        selector.removeAttribute('update');\r\n                    }\r\n\r\n                    switch (type){\r\n                        case 'number': {\r\n                            selector.value = element[e];\r\n                            break;\r\n                        }\r\n                        case 'color': {\r\n                            selector.value = element[e];\r\n                            break;\r\n                        }\r\n                    }\r\n                });\r\n            }\r\n\r\n            brush.drawLineAS({\r\n                x1: e.x + e.w / 2,\r\n                y1: e.y + e.h / 2,\r\n                x2: element.x,\r\n                y2: element.y,\r\n                strokeColor: '#9eb9ff',\r\n                strokeWidth: 1\r\n            })\r\n        });\r\n    }\r\n};\n\n\n// WEBPACK FOOTER //\n// ./scripts/visualEditor.js"],"sourceRoot":""}